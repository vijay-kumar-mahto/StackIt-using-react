(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H1={exports:{}},bf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT=Symbol.for("react.transitional.element"),yT=Symbol.for("react.fragment");function P1(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:gT,type:t,key:r,ref:e!==void 0?e:null,props:n}}bf.Fragment=yT;bf.jsx=P1;bf.jsxs=P1;H1.exports=bf;var h=H1.exports,V1={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=Symbol.for("react.transitional.element"),xT=Symbol.for("react.portal"),bT=Symbol.for("react.fragment"),vT=Symbol.for("react.strict_mode"),ST=Symbol.for("react.profiler"),wT=Symbol.for("react.consumer"),ET=Symbol.for("react.context"),NT=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),TT=Symbol.for("react.memo"),I1=Symbol.for("react.lazy"),Vy=Symbol.iterator;function AT(t){return t===null||typeof t!="object"?null:(t=Vy&&t[Vy]||t["@@iterator"],typeof t=="function"?t:null)}var q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F1=Object.assign,Z1={};function Al(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||q1}Al.prototype.isReactComponent={};Al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K1(){}K1.prototype=Al.prototype;function Em(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||q1}var Nm=Em.prototype=new K1;Nm.constructor=Em;F1(Nm,Al.prototype);Nm.isPureReactComponent=!0;var Iy=Array.isArray,De={H:null,A:null,T:null,S:null,V:null},G1=Object.prototype.hasOwnProperty;function km(t,e,n,r,s,i){return n=i.ref,{$$typeof:wm,type:t,key:e,ref:n!==void 0?n:null,props:i}}function CT(t,e){return km(t.type,e,void 0,void 0,void 0,t.props)}function Tm(t){return typeof t=="object"&&t!==null&&t.$$typeof===wm}function OT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qy=/\/+/g;function xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OT(""+t.key):e.toString(36)}function Fy(){}function MT(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Fy,Fy):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ji(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case wm:case xT:l=!0;break;case I1:return l=t._init,ji(l(t._payload),e,n,r,s)}}if(l)return s=s(t),l=r===""?"."+xd(t,0):r,Iy(s)?(n="",l!=null&&(n=l.replace(qy,"$&/")+"/"),ji(s,e,n,"",function(c){return c})):s!=null&&(Tm(s)&&(s=CT(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(qy,"$&/")+"/")+l)),e.push(s)),1;l=0;var o=r===""?".":r+":";if(Iy(t))for(var a=0;a<t.length;a++)r=t[a],i=o+xd(r,a),l+=ji(r,e,n,i,s);else if(a=AT(t),typeof a=="function")for(t=a.call(t),a=0;!(r=t.next()).done;)r=r.value,i=o+xd(r,a++),l+=ji(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return ji(MT(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function Ia(t,e,n){if(t==null)return t;var r=[],s=0;return ji(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function DT(){}te.Children={map:Ia,forEach:function(t,e,n){Ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ia(t,function(){e++}),e},toArray:function(t){return Ia(t,function(e){return e})||[]},only:function(t){if(!Tm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Al;te.Fragment=bT;te.Profiler=ST;te.PureComponent=Em;te.StrictMode=vT;te.Suspense=kT;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De;te.__COMPILER_RUNTIME={__proto__:null,c:function(t){return De.H.useMemoCache(t)}};te.cache=function(t){return function(){return t.apply(null,arguments)}};te.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=F1({},t.props),s=t.key,i=void 0;if(e!=null)for(l in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(s=""+e.key),e)!G1.call(e,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&e.ref===void 0||(r[l]=e[l]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var o=Array(l),a=0;a<l;a++)o[a]=arguments[a+2];r.children=o}return km(t.type,s,void 0,void 0,i,r)};te.createContext=function(t){return t={$$typeof:ET,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:wT,_context:t},t};te.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)G1.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var o=Array(l),a=0;a<l;a++)o[a]=arguments[a+2];s.children=o}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return km(t,i,void 0,void 0,null,s)};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:NT,render:t}};te.isValidElement=Tm;te.lazy=function(t){return{$$typeof:I1,_payload:{_status:-1,_result:t},_init:RT}};te.memo=function(t,e){return{$$typeof:TT,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=De.T,n={};De.T=n;try{var r=t(),s=De.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(DT,Zy)}catch(i){Zy(i)}finally{De.T=e}};te.unstable_useCacheRefresh=function(){return De.H.useCacheRefresh()};te.use=function(t){return De.H.use(t)};te.useActionState=function(t,e,n){return De.H.useActionState(t,e,n)};te.useCallback=function(t,e){return De.H.useCallback(t,e)};te.useContext=function(t){return De.H.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t,e){return De.H.useDeferredValue(t,e)};te.useEffect=function(t,e,n){var r=De.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};te.useId=function(){return De.H.useId()};te.useImperativeHandle=function(t,e,n){return De.H.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return De.H.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return De.H.useLayoutEffect(t,e)};te.useMemo=function(t,e){return De.H.useMemo(t,e)};te.useOptimistic=function(t,e){return De.H.useOptimistic(t,e)};te.useReducer=function(t,e,n){return De.H.useReducer(t,e,n)};te.useRef=function(t){return De.H.useRef(t)};te.useState=function(t){return De.H.useState(t)};te.useSyncExternalStore=function(t,e,n){return De.H.useSyncExternalStore(t,e,n)};te.useTransition=function(){return De.H.useTransition()};te.version="19.1.0";V1.exports=te;var w=V1.exports;const Ne=$1(w);var Y1={exports:{}},vf={},Q1={exports:{}},J1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,q){var J=L.length;L.push(q);e:for(;0<J;){var ge=J-1>>>1,Be=L[ge];if(0<s(Be,q))L[ge]=q,L[J]=Be,J=ge;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],J=L.pop();if(J!==q){L[0]=J;e:for(var ge=0,Be=L.length,Rs=Be>>>1;ge<Rs;){var Ti=2*(ge+1)-1,Ai=L[Ti],er=Ti+1,Ds=L[er];if(0>s(Ai,J))er<Be&&0>s(Ds,Ai)?(L[ge]=Ds,L[er]=J,ge=er):(L[ge]=Ai,L[Ti]=J,ge=Ti);else if(er<Be&&0>s(Ds,J))L[ge]=Ds,L[er]=J,ge=er;else break e}}return q}function s(L,q){var J=L.sortIndex-q.sortIndex;return J!==0?J:L.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var a=[],c=[],u=1,f=null,d=3,p=!1,m=!1,g=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function S(L){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=L)r(c),q.sortIndex=q.expirationTime,e(a,q);else break;q=n(c)}}function k(L){if(g=!1,S(L),!m)if(n(a)!==null)m=!0,N||(N=!0,K());else{var q=n(c);q!==null&&Oe(k,q.startTime-L)}}var N=!1,A=-1,O=5,_=-1;function $(){return b?!0:!(t.unstable_now()-_<O)}function ie(){if(b=!1,N){var L=t.unstable_now();_=L;var q=!0;try{e:{m=!1,g&&(g=!1,x(A),A=-1),p=!0;var J=d;try{t:{for(S(L),f=n(a);f!==null&&!(f.expirationTime>L&&$());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,d=f.priorityLevel;var Be=ge(f.expirationTime<=L);if(L=t.unstable_now(),typeof Be=="function"){f.callback=Be,S(L),q=!0;break t}f===n(a)&&r(a),S(L)}else r(a);f=n(a)}if(f!==null)q=!0;else{var Rs=n(c);Rs!==null&&Oe(k,Rs.startTime-L),q=!1}}break e}finally{f=null,d=J,p=!1}q=void 0}}finally{q?K():N=!1}}}var K;if(typeof v=="function")K=function(){v(ie)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,be=ae.port2;ae.port1.onmessage=ie,K=function(){be.postMessage(null)}}else K=function(){y(ie,0)};function Oe(L,q){A=y(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var J=d;d=q;try{return L()}finally{d=J}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=d;d=L;try{return q()}finally{d=J}},t.unstable_scheduleCallback=function(L,q,J){var ge=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ge+J:ge):J=ge,L){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=J+Be,L={id:u++,callback:q,priorityLevel:L,startTime:J,expirationTime:Be,sortIndex:-1},J>ge?(L.sortIndex=J,e(c,L),n(a)===null&&L===n(c)&&(g?(x(A),A=-1):g=!0,Oe(k,J-ge))):(L.sortIndex=Be,e(a,L),m||p||(m=!0,N||(N=!0,K()))),L},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(L){var q=d;return function(){var J=d;d=q;try{return L.apply(this,arguments)}finally{d=J}}}})(J1);Q1.exports=J1;var jT=Q1.exports,X1={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T=w;function W1(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zr(){}var Dt={d:{f:zr,r:function(){throw Error(W1(522))},D:zr,C:zr,L:zr,m:zr,X:zr,S:zr,M:zr},p:0,findDOMNode:null},zT=Symbol.for("react.portal");function LT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zT,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var co=_T.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;Bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(W1(299));return LT(t,e,null,n)};Bt.flushSync=function(t){var e=co.T,n=Dt.p;try{if(co.T=null,Dt.p=2,t)return t()}finally{co.T=e,Dt.p=n,Dt.d.f()}};Bt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Dt.d.C(t,e))};Bt.prefetchDNS=function(t){typeof t=="string"&&Dt.d.D(t)};Bt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Sf(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Dt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):n==="script"&&Dt.d.X(t,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Bt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Sf(e.as,e.crossOrigin);Dt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Dt.d.M(t)};Bt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Sf(n,e.crossOrigin);Dt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Bt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Sf(e.as,e.crossOrigin);Dt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Dt.d.m(t)};Bt.requestFormReset=function(t){Dt.d.r(t)};Bt.unstable_batchedUpdates=function(t,e){return t(e)};Bt.useFormState=function(t,e,n){return co.H.useFormState(t,e,n)};Bt.useFormStatus=function(){return co.H.useHostTransitionStatus()};Bt.version="19.1.0";function ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ev)}catch(t){console.error(t)}}ev(),X1.exports=Bt;var tv=X1.exports;const BT=$1(tv);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=jT,nv=w,UT=tv;function R(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ga(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(t){if(ga(t)!==t)throw Error(R(188))}function $T(t){var e=t.alternate;if(!e){if(e=ga(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ky(s),t;if(i===r)return Ky(s),e;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function iv(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=iv(t),e!==null)return e;t=t.sibling}return null}var Ce=Object.assign,HT=Symbol.for("react.element"),qa=Symbol.for("react.transitional.element"),to=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),lv=Symbol.for("react.strict_mode"),jh=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),ov=Symbol.for("react.consumer"),dr=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),zh=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Lh=Symbol.for("react.activity"),VT=Symbol.for("react.memo_cache_sentinel"),Gy=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=Gy&&t[Gy]||t["@@iterator"],typeof t=="function"?t:null)}var IT=Symbol.for("react.client.reference");function Bh(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===IT?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hi:return"Fragment";case jh:return"Profiler";case lv:return"StrictMode";case _h:return"Suspense";case zh:return"SuspenseList";case Lh:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case to:return"Portal";case dr:return(t.displayName||"Context")+".Provider";case ov:return(t._context.displayName||"Context")+".Consumer";case Am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cm:return e=t.displayName||null,e!==null?e:Bh(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return Bh(t(e))}catch{}}return null}var no=Array.isArray,G=nv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=UT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ks={pending:!1,data:null,method:null,action:null},Uh=[],Pi=-1;function Jn(t){return{current:t}}function ut(t){0>Pi||(t.current=Uh[Pi],Uh[Pi]=null,Pi--)}function je(t,e){Pi++,Uh[Pi]=t.current,t.current=e}var Zn=Jn(null),$o=Jn(null),ls=Jn(null),Zc=Jn(null);function Kc(t,e){switch(je(ls,e),je($o,t),je(Zn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?W0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=W0(e),t=Nw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(Zn),je(Zn,t)}function ul(){ut(Zn),ut($o),ut(ls)}function $h(t){t.memoizedState!==null&&je(Zc,t);var e=Zn.current,n=Nw(e,t.type);e!==n&&(je($o,t),je(Zn,n))}function Gc(t){$o.current===t&&(ut(Zn),ut($o)),Zc.current===t&&(ut(Zc),Yo._currentValue=Ks)}var Hh=Object.prototype.hasOwnProperty,Om=st.unstable_scheduleCallback,bd=st.unstable_cancelCallback,qT=st.unstable_shouldYield,FT=st.unstable_requestPaint,Kn=st.unstable_now,ZT=st.unstable_getCurrentPriorityLevel,av=st.unstable_ImmediatePriority,cv=st.unstable_UserBlockingPriority,Yc=st.unstable_NormalPriority,KT=st.unstable_LowPriority,uv=st.unstable_IdlePriority,GT=st.log,YT=st.unstable_setDisableYieldValue,ya=null,en=null;function Wr(t){if(typeof GT=="function"&&YT(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ya,t)}catch{}}var tn=Math.clz32?Math.clz32:XT,QT=Math.log,JT=Math.LN2;function XT(t){return t>>>=0,t===0?32:31-(QT(t)/JT|0)|0}var Fa=256,Za=4194304;function zs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wf(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var s=0,i=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~i,r!==0?s=zs(r):(l&=o,l!==0?s=zs(l):n||(n=o&~t,n!==0&&(s=zs(n))))):(o=r&~i,o!==0?s=zs(o):l!==0?s=zs(l):n||(n=r&~t,n!==0&&(s=zs(n)))),s===0?0:e!==0&&e!==s&&!(e&i)&&(i=s&-s,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:s}function xa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function WT(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fv(){var t=Fa;return Fa<<=1,!(Fa&4194048)&&(Fa=256),t}function dv(){var t=Za;return Za<<=1,!(Za&62914560)&&(Za=4194304),t}function vd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ba(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eA(t,e,n,r,s,i){var l=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,a=t.expirationTimes,c=t.hiddenUpdates;for(n=l&~n;0<n;){var u=31-tn(n),f=1<<u;o[u]=0,a[u]=-1;var d=c[u];if(d!==null)for(c[u]=null,u=0;u<d.length;u++){var p=d[u];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&hv(t,r,0),i!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=i&~(l&~e))}function hv(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-tn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}function Mm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function mv(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:_w(t.type))}function tA(t,e){var n=fe.p;try{return fe.p=t,e()}finally{fe.p=n}}var Ns=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ns,Zt="__reactProps$"+Ns,Cl="__reactContainer$"+Ns,Ph="__reactEvents$"+Ns,nA="__reactListeners$"+Ns,rA="__reactHandles$"+Ns,Yy="__reactResources$"+Ns,va="__reactMarker$"+Ns;function Dm(t){delete t[kt],delete t[Zt],delete t[Ph],delete t[nA],delete t[rA]}function Vi(t){var e=t[kt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cl]||n[kt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nx(t);t!==null;){if(n=t[kt])return n;t=nx(t)}return e}t=n,n=t.parentNode}return null}function Ol(t){if(t=t[kt]||t[Cl]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ro(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(R(33))}function el(t){var e=t[Yy];return e||(e=t[Yy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ot(t){t[va]=!0}var gv=new Set,yv={};function bi(t,e){fl(t,e),fl(t+"Capture",e)}function fl(t,e){for(yv[t]=e,t=0;t<e.length;t++)gv.add(e[t])}var sA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qy={},Jy={};function iA(t){return Hh.call(Jy,t)?!0:Hh.call(Qy,t)?!1:sA.test(t)?Jy[t]=!0:(Qy[t]=!0,!1)}function Sc(t,e,n){if(iA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ka(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function tr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Sd,Xy;function _i(t){if(Sd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sd=e&&e[1]||"",Xy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sd+t+Xy}var wd=!1;function Ed(t,e){if(!t||wd)return"";wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){d=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],o=i[1];if(l&&o){var a=l.split(`
`),c=o.split(`
`);for(s=r=0;r<a.length&&!a[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===a.length||s===c.length)for(r=a.length-1,s=c.length-1;1<=r&&0<=s&&a[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(a[r]!==c[s]){if(r!==1||s!==1)do if(r--,s--,0>s||a[r]!==c[s]){var u=`
`+a[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=r&&0<=s);break}}}finally{wd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?_i(n):""}function lA(t){switch(t.tag){case 26:case 27:case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Ed(t.type,!1);case 11:return Ed(t.type.render,!1);case 1:return Ed(t.type,!0);case 31:return _i("Activity");default:return""}}function Wy(t){try{var e="";do e+=lA(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oA(t){var e=xv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=oA(t))}function bv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var aA=/[\n"\\]/g;function gn(t){return t.replace(aA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Vh(t,e,n,r,s,i,l,o){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+hn(e)):t.value!==""+hn(e)&&(t.value=""+hn(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?Ih(t,l,hn(e)):n!=null?Ih(t,l,hn(n)):r!=null&&t.removeAttribute("value"),s==null&&i!=null&&(t.defaultChecked=!!i),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+hn(o):t.removeAttribute("name")}function vv(t,e,n,r,s,i,l,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+hn(n):"",e=e!=null?""+hn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l)}function Ih(t,e,n){e==="number"&&Jc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function tl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sv(t,e,n){if(e!=null&&(e=""+hn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+hn(n):""}function wv(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(R(92));if(no(r)){if(1<r.length)throw Error(R(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=hn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function e0(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||cA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ev(t,e,n){if(e!=null&&typeof e!="object")throw Error(R(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var s in e)r=e[s],e.hasOwnProperty(s)&&n[s]!==r&&e0(t,s,r)}else for(var i in e)e.hasOwnProperty(i)&&e0(t,i,e[i])}function jm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wc(t){return fA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qh=null;function _m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,nl=null;function t0(t){var e=Ol(t);if(e&&(t=e.stateNode)){var n=t[Zt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Vh(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=r[Zt]||null;if(!s)throw Error(R(90));Vh(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&bv(r)}break e;case"textarea":Sv(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&tl(t,!!n.multiple,e,!1)}}}var Nd=!1;function Nv(t,e,n){if(Nd)return t(e,n);Nd=!0;try{var r=t(e);return r}finally{if(Nd=!1,(Ii!==null||nl!==null)&&(Df(),Ii&&(e=Ii,t=nl,nl=Ii=null,t0(e),t)))for(e=0;e<t.length;e++)t0(t[e])}}function Ho(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Zt]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=!1;if(Nr)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Fh=!1}var es=null,zm=null,Ec=null;function kv(){if(Ec)return Ec;var t,e=zm,n=e.length,r,s="value"in es?es.value:es.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return Ec=s.slice(t,1<r?1-r:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function n0(){return!1}function Kt(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ga:n0,this.isPropagationStopped=n0,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ef=Kt(vi),Sa=Ce({},vi,{view:0,detail:0}),dA=Kt(Sa),kd,Td,Vl,Nf=Ce({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(kd=t.screenX-Vl.screenX,Td=t.screenY-Vl.screenY):Td=kd=0,Vl=t),kd)},movementY:function(t){return"movementY"in t?t.movementY:Td}}),r0=Kt(Nf),hA=Ce({},Nf,{dataTransfer:0}),pA=Kt(hA),mA=Ce({},Sa,{relatedTarget:0}),Ad=Kt(mA),gA=Ce({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),yA=Kt(gA),xA=Ce({},vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bA=Kt(xA),vA=Ce({},vi,{data:0}),s0=Kt(vA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EA[t])?!!e[t]:!1}function Lm(){return NA}var kA=Ce({},Sa,{key:function(t){if(t.key){var e=SA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TA=Kt(kA),AA=Ce({},Nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i0=Kt(AA),CA=Ce({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),OA=Kt(CA),MA=Ce({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),RA=Kt(MA),DA=Ce({},Nf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=Kt(DA),_A=Ce({},vi,{newState:0,oldState:0}),zA=Kt(_A),LA=[9,13,27,32],Bm=Nr&&"CompositionEvent"in window,uo=null;Nr&&"documentMode"in document&&(uo=document.documentMode);var BA=Nr&&"TextEvent"in window&&!uo,Tv=Nr&&(!Bm||uo&&8<uo&&11>=uo),l0=" ",o0=!1;function Av(t,e){switch(t){case"keyup":return LA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qi=!1;function UA(t,e){switch(t){case"compositionend":return Cv(e);case"keypress":return e.which!==32?null:(o0=!0,l0);case"textInput":return t=e.data,t===l0&&o0?null:t;default:return null}}function $A(t,e){if(qi)return t==="compositionend"||!Bm&&Av(t,e)?(t=kv(),Ec=zm=es=null,qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tv&&e.locale!=="ko"?null:e.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HA[t.type]:e==="textarea"}function Ov(t,e,n,r){Ii?nl?nl.push(r):nl=[r]:Ii=r,e=mu(e,"onChange"),0<e.length&&(n=new Ef("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fo=null,Po=null;function PA(t){Sw(t,0)}function kf(t){var e=ro(t);if(bv(e))return t}function c0(t,e){if(t==="change")return e}var Mv=!1;if(Nr){var Cd;if(Nr){var Od="oninput"in document;if(!Od){var u0=document.createElement("div");u0.setAttribute("oninput","return;"),Od=typeof u0.oninput=="function"}Cd=Od}else Cd=!1;Mv=Cd&&(!document.documentMode||9<document.documentMode)}function f0(){fo&&(fo.detachEvent("onpropertychange",Rv),Po=fo=null)}function Rv(t){if(t.propertyName==="value"&&kf(Po)){var e=[];Ov(e,Po,t,_m(t)),Nv(PA,e)}}function VA(t,e,n){t==="focusin"?(f0(),fo=e,Po=n,fo.attachEvent("onpropertychange",Rv)):t==="focusout"&&f0()}function IA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kf(Po)}function qA(t,e){if(t==="click")return kf(e)}function FA(t,e){if(t==="input"||t==="change")return kf(e)}function ZA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:ZA;function Vo(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hh.call(e,s)||!ln(t[s],e[s]))return!1}return!0}function d0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h0(t,e){var n=d0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d0(n)}}function Dv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Jc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jc(t.document)}return e}function Um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var KA=Nr&&"documentMode"in document&&11>=document.documentMode,Fi=null,Zh=null,ho=null,Kh=!1;function p0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kh||Fi==null||Fi!==Jc(r)||(r=Fi,"selectionStart"in r&&Um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&Vo(ho,r)||(ho=r,r=mu(Zh,"onSelect"),0<r.length&&(e=new Ef("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fi)))}function js(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Md={},_v={};Nr&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Si(t){if(Md[t])return Md[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _v)return Md[t]=e[n];return t}var zv=Si("animationend"),Lv=Si("animationiteration"),Bv=Si("animationstart"),GA=Si("transitionrun"),YA=Si("transitionstart"),QA=Si("transitioncancel"),Uv=Si("transitionend"),$v=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Dn(t,e){$v.set(t,e),bi(e,[t])}var m0=new WeakMap;function yn(t,e){if(typeof t=="object"&&t!==null){var n=m0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Wy(e)},m0.set(t,e),e)}return{value:t,source:e,stack:Wy(e)}}var fn=[],Ki=0,$m=0;function Tf(){for(var t=Ki,e=$m=Ki=0;e<t;){var n=fn[e];fn[e++]=null;var r=fn[e];fn[e++]=null;var s=fn[e];fn[e++]=null;var i=fn[e];if(fn[e++]=null,r!==null&&s!==null){var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}i!==0&&Hv(n,s,i)}}function Af(t,e,n,r){fn[Ki++]=t,fn[Ki++]=e,fn[Ki++]=n,fn[Ki++]=r,$m|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Hm(t,e,n,r){return Af(t,e,n,r),Xc(t)}function Ml(t,e){return Af(t,null,null,e),Xc(t)}function Hv(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var s=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(s=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,s&&e!==null&&(s=31-tn(n),t=i.hiddenUpdates,r=t[s],r===null?t[s]=[e]:r.push(e),e.lane=n|536870912),i):null}function Xc(t){if(50<Eo)throw Eo=0,mp=null,Error(R(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Gi={};function JA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new JA(t,e,n,r)}function Pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function br(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Pv(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function kc(t,e,n,r,s,i){var l=0;if(r=t,typeof t=="function")Pm(t)&&(l=1);else if(typeof t=="string")l=W2(t,n,Zn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Lh:return t=Xt(31,n,e,s),t.elementType=Lh,t.lanes=i,t;case Hi:return Gs(n.children,s,i,e);case lv:l=8,s|=24;break;case jh:return t=Xt(12,n,e,s|2),t.elementType=jh,t.lanes=i,t;case _h:return t=Xt(13,n,e,s),t.elementType=_h,t.lanes=i,t;case zh:return t=Xt(19,n,e,s),t.elementType=zh,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PT:case dr:l=10;break e;case ov:l=9;break e;case Am:l=11;break e;case Cm:l=14;break e;case Hr:l=16,r=null;break e}l=29,n=Error(R(130,t===null?"null":typeof t,"")),r=null}return e=Xt(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gs(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function Rd(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function Dd(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Yi=[],Qi=0,Wc=null,eu=0,pn=[],mn=0,Ys=null,hr=1,pr="";function Ls(t,e){Yi[Qi++]=eu,Yi[Qi++]=Wc,Wc=t,eu=e}function Vv(t,e,n){pn[mn++]=hr,pn[mn++]=pr,pn[mn++]=Ys,Ys=t;var r=hr;t=pr;var s=32-tn(r)-1;r&=~(1<<s),n+=1;var i=32-tn(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,hr=1<<32-tn(e)+s|n<<s|r,pr=i+t}else hr=1<<i|n<<s|r,pr=t}function Vm(t){t.return!==null&&(Ls(t,1),Vv(t,1,0))}function Im(t){for(;t===Wc;)Wc=Yi[--Qi],Yi[Qi]=null,eu=Yi[--Qi],Yi[Qi]=null;for(;t===Ys;)Ys=pn[--mn],pn[mn]=null,pr=pn[--mn],pn[mn]=null,hr=pn[--mn],pn[mn]=null}var Rt=null,Ve=null,ue=!1,Qs=null,Vn=!1,Yh=Error(R(519));function li(t){var e=Error(R(418,""));throw Io(yn(e,t)),Yh}function g0(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[kt]=t,e[Zt]=r,n){case"dialog":le("cancel",e),le("close",e);break;case"iframe":case"object":case"embed":le("load",e);break;case"video":case"audio":for(n=0;n<Zo.length;n++)le(Zo[n],e);break;case"source":le("error",e);break;case"img":case"image":case"link":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"input":le("invalid",e),vv(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Qc(e);break;case"select":le("invalid",e);break;case"textarea":le("invalid",e),wv(e,r.value,r.defaultValue,r.children),Qc(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||Ew(e.textContent,n)?(r.popover!=null&&(le("beforetoggle",e),le("toggle",e)),r.onScroll!=null&&le("scroll",e),r.onScrollEnd!=null&&le("scrollend",e),r.onClick!=null&&(e.onclick=zf),e=!0):e=!1,e||li(t)}function y0(t){for(Rt=t.return;Rt;)switch(Rt.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Rt=Rt.return}}function Il(t){if(t!==Rt)return!1;if(!ue)return y0(t),ue=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Sp(t.type,t.memoizedProps)),n=!n),n&&Ve&&li(t),y0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ve=Mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ve=null}}else e===27?(e=Ve,ks(t.type)?(t=Np,Np=null,Ve=t):Ve=e):Ve=Rt?Mn(t.stateNode.nextSibling):null;return!0}function wa(){Ve=Rt=null,ue=!1}function x0(){var t=Qs;return t!==null&&(Pt===null?Pt=t:Pt.push.apply(Pt,t),Qs=null),t}function Io(t){Qs===null?Qs=[t]:Qs.push(t)}var Qh=Jn(null),wi=null,mr=null;function Fr(t,e,n){je(Qh,e._currentValue),e._currentValue=n}function vr(t){t._currentValue=Qh.current,ut(Qh)}function Jh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xh(t,e,n,r){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){var l=s.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=s;for(var a=0;a<e.length;a++)if(o.context===e[a]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Jh(i.return,n,t),r||(l=null);break e}i=o.next}}else if(s.tag===18){if(l=s.return,l===null)throw Error(R(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Jh(l,n,t),l=null}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}}function Ea(t,e,n,r){t=null;for(var s=e,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var l=s.alternate;if(l===null)throw Error(R(387));if(l=l.memoizedProps,l!==null){var o=s.type;ln(s.pendingProps.value,l.value)||(t!==null?t.push(o):t=[o])}}else if(s===Zc.current){if(l=s.alternate,l===null)throw Error(R(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Yo):t=[Yo])}s=s.return}t!==null&&Xh(e,t,n,r),e.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oi(t){wi=t,mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Tt(t){return Iv(wi,t)}function Ya(t,e){return wi===null&&oi(t),Iv(t,e)}function Iv(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},mr===null){if(t===null)throw Error(R(308));mr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else mr=mr.next=e;return n}var XA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},WA=st.unstable_scheduleCallback,e2=st.unstable_NormalPriority,tt={$$typeof:dr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new XA,data:new Map,refCount:0}}function Na(t){t.refCount--,t.refCount===0&&WA(e2,function(){t.controller.abort()})}var po=null,Wh=0,hl=0,rl=null;function t2(t,e){if(po===null){var n=po=[];Wh=0,hl=hg(),rl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Wh++,e.then(b0,b0),e}function b0(){if(--Wh===0&&po!==null){rl!==null&&(rl.status="fulfilled");var t=po;po=null,hl=0,rl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function n2(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var v0=G.S;G.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&t2(t,e),v0!==null&&v0(t,e)};var Js=Jn(null);function Fm(){var t=Js.current;return t!==null?t:ke.pooledCache}function Tc(t,e){e===null?je(Js,Js.current):je(Js,e.pool)}function qv(){var t=Fm();return t===null?null:{parent:tt._currentValue,pool:t}}var ka=Error(R(460)),Fv=Error(R(474)),Cf=Error(R(542)),ep={then:function(){}};function S0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qa(){}function Zv(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Qa,Qa),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,E0(t),t;default:if(typeof e.status=="string")e.then(Qa,Qa);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(R(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=r}},function(r){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,E0(t),t}throw mo=e,ka}}var mo=null;function w0(){if(mo===null)throw Error(R(459));var t=mo;return mo=null,t}function E0(t){if(t===ka||t===Cf)throw Error(R(483))}var Pr=!1;function Zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function as(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,e=Xc(t),Hv(t,null,n),e}return Af(t,r,e,n),Xc(t)}function go(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}function jd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var np=!1;function yo(){if(np){var t=rl;if(t!==null)throw t}}function xo(t,e,n,r){np=!1;var s=t.updateQueue;Pr=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var a=o,c=a.next;a.next=null,l===null?i=c:l.next=c,l=a;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;l=0,u=c=a=null,o=i;do{var d=o.lane&-536870913,p=d!==o.lane;if(p?(ce&d)===d:(r&d)===d){d!==0&&d===hl&&(np=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=t,g=o;d=e;var b=n;switch(g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(b,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(b,f,d):m,d==null)break e;f=Ce({},f,d);break e;case 2:Pr=!0}}d=o.callback,d!==null&&(t.flags|=64,p&&(t.flags|=8192),p=s.callbacks,p===null?s.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,a=f):u=u.next=p,l|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);u===null&&(a=f),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=u,i===null&&(s.shared.lanes=0),ws|=l,t.lanes=l,t.memoizedState=f}}function Kv(t,e){if(typeof t!="function")throw Error(R(191,t));t.call(e)}function Gv(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Kv(n[t],e)}var pl=Jn(null),nu=Jn(0);function N0(t,e){t=Ar,je(nu,t),je(pl,e),Ar=t|e.baseLanes}function rp(){je(nu,Ar),je(pl,pl.current)}function Km(){Ar=nu.current,ut(pl),ut(nu)}var vs=0,re=null,xe=null,Qe=null,ru=!1,sl=!1,ai=!1,su=0,qo=0,il=null,r2=0;function Fe(){throw Error(R(321))}function Gm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function Ym(t,e,n,r,s,i){return vs=i,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?kS:TS,ai=!1,i=n(r,s),ai=!1,sl&&(i=Qv(e,n,r,s)),Yv(t),i}function Yv(t){G.H=iu;var e=xe!==null&&xe.next!==null;if(vs=0,Qe=xe=re=null,ru=!1,qo=0,il=null,e)throw Error(R(300));t===null||ct||(t=t.dependencies,t!==null&&tu(t)&&(ct=!0))}function Qv(t,e,n,r){re=t;var s=0;do{if(sl&&(il=null),qo=0,sl=!1,25<=s)throw Error(R(301));if(s+=1,Qe=xe=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}G.H=u2,i=e(n,r)}while(sl);return i}function s2(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?Ta(e):e,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(re.flags|=1024),e}function Qm(){var t=su!==0;return su=0,t}function Jm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Xm(t){if(ru){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ru=!1}vs=0,Qe=xe=re=null,sl=!1,qo=su=0,il=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?re.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function We(){if(xe===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=Qe===null?re.memoizedState:Qe.next;if(e!==null)Qe=e,xe=t;else{if(t===null)throw re.alternate===null?Error(R(467)):Error(R(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Qe===null?re.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ta(t){var e=qo;return qo+=1,il===null&&(il=[]),t=Zv(il,t,e),e=re,(Qe===null?e.memoizedState:Qe.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?kS:TS),t}function Of(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ta(t);if(t.$$typeof===dr)return Tt(t)}throw Error(R(438,String(t)))}function eg(t){var e=null,n=re.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=re.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Wm(),re.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=VT;return e.index++,n}function kr(t,e){return typeof e=="function"?e(t):e}function Ac(t){var e=We();return tg(e,xe,t)}function tg(t,e,n){var r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=n;var s=t.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}e.baseQueue=s=i,r.pending=null}if(i=t.baseState,s===null)t.memoizedState=i;else{e=s.next;var o=l=null,a=null,c=e,u=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(ce&f)===f:(vs&f)===f){var d=c.revertLane;if(d===0)a!==null&&(a=a.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===hl&&(u=!0);else if((vs&d)===d){c=c.next,d===hl&&(u=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},a===null?(o=a=f,l=i):a=a.next=f,re.lanes|=d,ws|=d;f=c.action,ai&&n(i,f),i=c.hasEagerState?c.eagerState:n(i,f)}else d={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},a===null?(o=a=d,l=i):a=a.next=d,re.lanes|=f,ws|=f;c=c.next}while(c!==null&&c!==e);if(a===null?l=i:a.next=o,!ln(i,t.memoizedState)&&(ct=!0,u&&(n=rl,n!==null)))throw n;t.memoizedState=i,t.baseState=l,t.baseQueue=a,r.lastRenderedState=i}return s===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function _d(t){var e=We(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);ln(i,e.memoizedState)||(ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Jv(t,e,n){var r=re,s=We(),i=ue;if(i){if(n===void 0)throw Error(R(407));n=n()}else n=e();var l=!ln((xe||s).memoizedState,n);l&&(s.memoizedState=n,ct=!0),s=s.queue;var o=eS.bind(null,r,s,t);if(Aa(2048,8,o,[t]),s.getSnapshot!==e||l||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,ml(9,Mf(),Wv.bind(null,r,s,n,e),null),ke===null)throw Error(R(349));i||vs&124||Xv(r,e,n)}return n}function Xv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e=Wm(),re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wv(t,e,n,r){e.value=n,e.getSnapshot=r,tS(e)&&nS(t)}function eS(t,e,n){return n(function(){tS(e)&&nS(t)})}function tS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function nS(t){var e=Ml(t,2);e!==null&&rn(e,t,2)}function sp(t){var e=Ut();if(typeof t=="function"){var n=t;if(t=n(),ai){Wr(!0);try{n()}finally{Wr(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:t},e}function rS(t,e,n,r){return t.baseState=n,tg(t,xe,typeof r=="function"?r:kr)}function i2(t,e,n,r,s){if(Rf(t))throw Error(R(485));if(t=e.action,t!==null){var i={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};G.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,sS(e,i)):(i.next=n.next,e.pending=n.next=i)}}function sS(t,e){var n=e.action,r=e.payload,s=t.state;if(e.isTransition){var i=G.T,l={};G.T=l;try{var o=n(s,r),a=G.S;a!==null&&a(l,o),k0(t,e,o)}catch(c){ip(t,e,c)}finally{G.T=i}}else try{i=n(s,r),k0(t,e,i)}catch(c){ip(t,e,c)}}function k0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){T0(t,e,r)},function(r){return ip(t,e,r)}):T0(t,e,n)}function T0(t,e,n){e.status="fulfilled",e.value=n,iS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,sS(t,n)))}function ip(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,iS(e),e=e.next;while(e!==r)}t.action=null}function iS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function lS(t,e){return e}function A0(t,e){if(ue){var n=ke.formState;if(n!==null){e:{var r=re;if(ue){if(Ve){t:{for(var s=Ve,i=Vn;s.nodeType!==8;){if(!i){s=null;break t}if(s=Mn(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ve=Mn(s.nextSibling),r=s.data==="F!";break e}}li(r)}r=!1}r&&(e=n[0])}}return n=Ut(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lS,lastRenderedState:e},n.queue=r,n=wS.bind(null,re,r),r.dispatch=n,r=sp(!1),i=ig.bind(null,re,!1,r.queue),r=Ut(),s={state:e,dispatch:null,action:t,pending:null},r.queue=s,n=i2.bind(null,re,s,i,n),s.dispatch=n,r.memoizedState=t,[e,n,!1]}function C0(t){var e=We();return oS(e,xe,t)}function oS(t,e,n){if(e=tg(t,e,lS)[0],t=Ac(kr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Ta(e)}catch(l){throw l===ka?Cf:l}else r=e;e=We();var s=e.queue,i=s.dispatch;return n!==e.memoizedState&&(re.flags|=2048,ml(9,Mf(),l2.bind(null,s,n),null)),[r,i,t]}function l2(t,e){t.action=e}function O0(t){var e=We(),n=xe;if(n!==null)return oS(e,n,t);We(),e=e.memoizedState,n=We();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function ml(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=re.updateQueue,e===null&&(e=Wm(),re.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Mf(){return{destroy:void 0,resource:void 0}}function aS(){return We().memoizedState}function Cc(t,e,n,r){var s=Ut();r=r===void 0?null:r,re.flags|=t,s.memoizedState=ml(1|e,Mf(),n,r)}function Aa(t,e,n,r){var s=We();r=r===void 0?null:r;var i=s.memoizedState.inst;xe!==null&&r!==null&&Gm(r,xe.memoizedState.deps)?s.memoizedState=ml(e,i,n,r):(re.flags|=t,s.memoizedState=ml(1|e,i,n,r))}function M0(t,e){Cc(8390656,8,t,e)}function cS(t,e){Aa(2048,8,t,e)}function uS(t,e){return Aa(4,2,t,e)}function fS(t,e){return Aa(4,4,t,e)}function dS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hS(t,e,n){n=n!=null?n.concat([t]):null,Aa(4,4,dS.bind(null,e,t),n)}function ng(){}function pS(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Gm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mS(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Gm(e,r[1]))return r[0];if(r=t(),ai){Wr(!0);try{t()}finally{Wr(!1)}}return n.memoizedState=[r,e],r}function rg(t,e,n){return n===void 0||vs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=iw(),re.lanes|=t,ws|=t,n)}function gS(t,e,n,r){return ln(n,e)?n:pl.current!==null?(t=rg(t,n,r),ln(t,e)||(ct=!0),t):vs&42?(t=iw(),re.lanes|=t,ws|=t,e):(ct=!0,t.memoizedState=n)}function yS(t,e,n,r,s){var i=fe.p;fe.p=i!==0&&8>i?i:8;var l=G.T,o={};G.T=o,ig(t,!1,e,n);try{var a=s(),c=G.S;if(c!==null&&c(o,a),a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=n2(a,r);bo(t,e,u,nn(t))}else bo(t,e,r,nn(t))}catch(f){bo(t,e,{then:function(){},status:"rejected",reason:f},nn())}finally{fe.p=i,G.T=l}}function o2(){}function lp(t,e,n,r){if(t.tag!==5)throw Error(R(476));var s=xS(t).queue;yS(t,s,e,Ks,n===null?o2:function(){return bS(t),n(r)})}function xS(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ks,baseState:Ks,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:Ks},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function bS(t){var e=xS(t).next.queue;bo(t,e,{},nn())}function sg(){return Tt(Yo)}function vS(){return We().memoizedState}function SS(){return We().memoizedState}function a2(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=nn();t=as(n);var r=cs(e,t,n);r!==null&&(rn(r,e,n),go(r,e,n)),e={cache:qm()},t.payload=e;return}e=e.return}}function c2(t,e,n){var r=nn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Rf(t)?ES(e,n):(n=Hm(t,e,n,r),n!==null&&(rn(n,t,r),NS(n,e,r)))}function wS(t,e,n){var r=nn();bo(t,e,n,r)}function bo(t,e,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rf(t))ES(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,ln(o,l))return Af(t,e,s,0),ke===null&&Tf(),!1}catch{}finally{}if(n=Hm(t,e,s,r),n!==null)return rn(n,t,r),NS(n,e,r),!0}return!1}function ig(t,e,n,r){if(r={lane:2,revertLane:hg(),action:r,hasEagerState:!1,eagerState:null,next:null},Rf(t)){if(e)throw Error(R(479))}else e=Hm(t,n,r,2),e!==null&&rn(e,t,2)}function Rf(t){var e=t.alternate;return t===re||e!==null&&e===re}function ES(t,e){sl=ru=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NS(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}var iu={readContext:Tt,use:Of,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},kS={readContext:Tt,use:Of,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:Tt,useEffect:M0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Cc(4194308,4,dS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cc(4194308,4,t,e)},useInsertionEffect:function(t,e){Cc(4,2,t,e)},useMemo:function(t,e){var n=Ut();e=e===void 0?null:e;var r=t();if(ai){Wr(!0);try{t()}finally{Wr(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ut();if(n!==void 0){var s=n(e);if(ai){Wr(!0);try{n(e)}finally{Wr(!1)}}}else s=e;return r.memoizedState=r.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=c2.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:function(t){t=sp(t);var e=t.queue,n=wS.bind(null,re,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ng,useDeferredValue:function(t,e){var n=Ut();return rg(n,t,e)},useTransition:function(){var t=sp(!1);return t=yS.bind(null,re,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=re,s=Ut();if(ue){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),ke===null)throw Error(R(349));ce&124||Xv(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,M0(eS.bind(null,r,i,t),[t]),r.flags|=2048,ml(9,Mf(),Wv.bind(null,r,i,n,e),null),n},useId:function(){var t=Ut(),e=ke.identifierPrefix;if(ue){var n=pr,r=hr;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=""+e+"R"+n,n=su++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=r2++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:sg,useFormState:A0,useActionState:A0,useOptimistic:function(t){var e=Ut();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ig.bind(null,re,!0,n),n.dispatch=e,[t,e]},useMemoCache:eg,useCacheRefresh:function(){return Ut().memoizedState=a2.bind(null,re)}},TS={readContext:Tt,use:Of,useCallback:pS,useContext:Tt,useEffect:cS,useImperativeHandle:hS,useInsertionEffect:uS,useLayoutEffect:fS,useMemo:mS,useReducer:Ac,useRef:aS,useState:function(){return Ac(kr)},useDebugValue:ng,useDeferredValue:function(t,e){var n=We();return gS(n,xe.memoizedState,t,e)},useTransition:function(){var t=Ac(kr)[0],e=We().memoizedState;return[typeof t=="boolean"?t:Ta(t),e]},useSyncExternalStore:Jv,useId:vS,useHostTransitionStatus:sg,useFormState:C0,useActionState:C0,useOptimistic:function(t,e){var n=We();return rS(n,xe,t,e)},useMemoCache:eg,useCacheRefresh:SS},u2={readContext:Tt,use:Of,useCallback:pS,useContext:Tt,useEffect:cS,useImperativeHandle:hS,useInsertionEffect:uS,useLayoutEffect:fS,useMemo:mS,useReducer:_d,useRef:aS,useState:function(){return _d(kr)},useDebugValue:ng,useDeferredValue:function(t,e){var n=We();return xe===null?rg(n,t,e):gS(n,xe.memoizedState,t,e)},useTransition:function(){var t=_d(kr)[0],e=We().memoizedState;return[typeof t=="boolean"?t:Ta(t),e]},useSyncExternalStore:Jv,useId:vS,useHostTransitionStatus:sg,useFormState:O0,useActionState:O0,useOptimistic:function(t,e){var n=We();return xe!==null?rS(n,xe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:eg,useCacheRefresh:SS},ll=null,Fo=0;function Ja(t){var e=Fo;return Fo+=1,ll===null&&(ll=[]),Zv(ll,t,e)}function ql(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Xa(t,e){throw e.$$typeof===HT?Error(R(525)):(t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function R0(t){var e=t._init;return e(t._payload)}function AS(t){function e(y,x){if(t){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(y,x){return y=br(y,x),y.index=0,y.sibling=null,y}function i(y,x,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=67108866,x):v):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function l(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,x,v,S){return x===null||x.tag!==6?(x=Rd(v,y.mode,S),x.return=y,x):(x=s(x,v),x.return=y,x)}function a(y,x,v,S){var k=v.type;return k===Hi?u(y,x,v.props.children,S,v.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&R0(k)===x.type)?(x=s(x,v.props),ql(x,v),x.return=y,x):(x=kc(v.type,v.key,v.props,null,y.mode,S),ql(x,v),x.return=y,x)}function c(y,x,v,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Dd(v,y.mode,S),x.return=y,x):(x=s(x,v.children||[]),x.return=y,x)}function u(y,x,v,S,k){return x===null||x.tag!==7?(x=Gs(v,y.mode,S,k),x.return=y,x):(x=s(x,v),x.return=y,x)}function f(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Rd(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qa:return v=kc(x.type,x.key,x.props,null,y.mode,v),ql(v,x),v.return=y,v;case to:return x=Dd(x,y.mode,v),x.return=y,x;case Hr:var S=x._init;return x=S(x._payload),f(y,x,v)}if(no(x)||Hl(x))return x=Gs(x,y.mode,v,null),x.return=y,x;if(typeof x.then=="function")return f(y,Ja(x),v);if(x.$$typeof===dr)return f(y,Ya(y,x),v);Xa(y,x)}return null}function d(y,x,v,S){var k=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return k!==null?null:o(y,x,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qa:return v.key===k?a(y,x,v,S):null;case to:return v.key===k?c(y,x,v,S):null;case Hr:return k=v._init,v=k(v._payload),d(y,x,v,S)}if(no(v)||Hl(v))return k!==null?null:u(y,x,v,S,null);if(typeof v.then=="function")return d(y,x,Ja(v),S);if(v.$$typeof===dr)return d(y,x,Ya(y,v),S);Xa(y,v)}return null}function p(y,x,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return y=y.get(v)||null,o(x,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qa:return y=y.get(S.key===null?v:S.key)||null,a(x,y,S,k);case to:return y=y.get(S.key===null?v:S.key)||null,c(x,y,S,k);case Hr:var N=S._init;return S=N(S._payload),p(y,x,v,S,k)}if(no(S)||Hl(S))return y=y.get(v)||null,u(x,y,S,k,null);if(typeof S.then=="function")return p(y,x,v,Ja(S),k);if(S.$$typeof===dr)return p(y,x,v,Ya(x,S),k);Xa(x,S)}return null}function m(y,x,v,S){for(var k=null,N=null,A=x,O=x=0,_=null;A!==null&&O<v.length;O++){A.index>O?(_=A,A=null):_=A.sibling;var $=d(y,A,v[O],S);if($===null){A===null&&(A=_);break}t&&A&&$.alternate===null&&e(y,A),x=i($,x,O),N===null?k=$:N.sibling=$,N=$,A=_}if(O===v.length)return n(y,A),ue&&Ls(y,O),k;if(A===null){for(;O<v.length;O++)A=f(y,v[O],S),A!==null&&(x=i(A,x,O),N===null?k=A:N.sibling=A,N=A);return ue&&Ls(y,O),k}for(A=r(A);O<v.length;O++)_=p(A,y,O,v[O],S),_!==null&&(t&&_.alternate!==null&&A.delete(_.key===null?O:_.key),x=i(_,x,O),N===null?k=_:N.sibling=_,N=_);return t&&A.forEach(function(ie){return e(y,ie)}),ue&&Ls(y,O),k}function g(y,x,v,S){if(v==null)throw Error(R(151));for(var k=null,N=null,A=x,O=x=0,_=null,$=v.next();A!==null&&!$.done;O++,$=v.next()){A.index>O?(_=A,A=null):_=A.sibling;var ie=d(y,A,$.value,S);if(ie===null){A===null&&(A=_);break}t&&A&&ie.alternate===null&&e(y,A),x=i(ie,x,O),N===null?k=ie:N.sibling=ie,N=ie,A=_}if($.done)return n(y,A),ue&&Ls(y,O),k;if(A===null){for(;!$.done;O++,$=v.next())$=f(y,$.value,S),$!==null&&(x=i($,x,O),N===null?k=$:N.sibling=$,N=$);return ue&&Ls(y,O),k}for(A=r(A);!$.done;O++,$=v.next())$=p(A,y,O,$.value,S),$!==null&&(t&&$.alternate!==null&&A.delete($.key===null?O:$.key),x=i($,x,O),N===null?k=$:N.sibling=$,N=$);return t&&A.forEach(function(K){return e(y,K)}),ue&&Ls(y,O),k}function b(y,x,v,S){if(typeof v=="object"&&v!==null&&v.type===Hi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case qa:e:{for(var k=v.key;x!==null;){if(x.key===k){if(k=v.type,k===Hi){if(x.tag===7){n(y,x.sibling),S=s(x,v.props.children),S.return=y,y=S;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&R0(k)===x.type){n(y,x.sibling),S=s(x,v.props),ql(S,v),S.return=y,y=S;break e}n(y,x);break}else e(y,x);x=x.sibling}v.type===Hi?(S=Gs(v.props.children,y.mode,S,v.key),S.return=y,y=S):(S=kc(v.type,v.key,v.props,null,y.mode,S),ql(S,v),S.return=y,y=S)}return l(y);case to:e:{for(k=v.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(y,x.sibling),S=s(x,v.children||[]),S.return=y,y=S;break e}else{n(y,x);break}else e(y,x);x=x.sibling}S=Dd(v,y.mode,S),S.return=y,y=S}return l(y);case Hr:return k=v._init,v=k(v._payload),b(y,x,v,S)}if(no(v))return m(y,x,v,S);if(Hl(v)){if(k=Hl(v),typeof k!="function")throw Error(R(150));return v=k.call(v),g(y,x,v,S)}if(typeof v.then=="function")return b(y,x,Ja(v),S);if(v.$$typeof===dr)return b(y,x,Ya(y,v),S);Xa(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,x!==null&&x.tag===6?(n(y,x.sibling),S=s(x,v),S.return=y,y=S):(n(y,x),S=Rd(v,y.mode,S),S.return=y,y=S),l(y)):n(y,x)}return function(y,x,v,S){try{Fo=0;var k=b(y,x,v,S);return ll=null,k}catch(A){if(A===ka||A===Cf)throw A;var N=Xt(29,A,null,y.mode);return N.lanes=S,N.return=y,N}finally{}}}var gl=AS(!0),CS=AS(!1),wn=Jn(null),Gn=null;function Zr(t){var e=t.alternate;je(rt,rt.current&1),je(wn,t),Gn===null&&(e===null||pl.current!==null||e.memoizedState!==null)&&(Gn=t)}function OS(t){if(t.tag===22){if(je(rt,rt.current),je(wn,t),Gn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Gn=t)}}else Kr()}function Kr(){je(rt,rt.current),je(wn,wn.current)}function gr(t){ut(wn),Gn===t&&(Gn=null),ut(rt)}var rt=Jn(0);function lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ep(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function zd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var op={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=as(r);s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,r),e!==null&&(rn(e,t,r),go(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=as(r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,r),e!==null&&(rn(e,t,r),go(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=as(n);r.tag=2,e!=null&&(r.callback=e),e=cs(t,r,n),e!==null&&(rn(e,t,n),go(e,t,n))}};function D0(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!Vo(n,r)||!Vo(s,i):!0}function j0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&op.enqueueReplaceState(e,e.state,null)}function ci(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ce({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function MS(t){ou(t)}function RS(t){console.error(t)}function DS(t){ou(t)}function au(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function _0(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ap(t,e,n){return n=as(n),n.tag=3,n.payload={element:null},n.callback=function(){au(t,e)},n}function jS(t){return t=as(t),t.tag=3,t}function _S(t,e,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=r.value;t.payload=function(){return s(i)},t.callback=function(){_0(e,n,r)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){_0(e,n,r),typeof s!="function"&&(us===null?us=new Set([this]):us.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function f2(t,e,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Ea(e,n,s,!0),n=wn.current,n!==null){switch(n.tag){case 13:return Gn===null?gp():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===ep?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Zd(t,r,s)),!1;case 22:return n.flags|=65536,r===ep?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Zd(t,r,s)),!1}throw Error(R(435,n.tag))}return Zd(t,r,s),gp(),!1}if(ue)return e=wn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,r!==Yh&&(t=Error(R(422),{cause:r}),Io(yn(t,n)))):(r!==Yh&&(e=Error(R(423),{cause:r}),Io(yn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,r=yn(r,n),s=ap(t.stateNode,r,s),jd(t,s),qe!==4&&(qe=2)),!1;var i=Error(R(520),{cause:r});if(i=yn(i,n),wo===null?wo=[i]:wo.push(i),qe!==4&&(qe=2),e===null)return!0;r=yn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=ap(n.stateNode,r,t),jd(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(us===null||!us.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=jS(s),_S(s,t,n,r),jd(n,s),!1}n=n.return}while(n!==null);return!1}var zS=Error(R(461)),ct=!1;function yt(t,e,n,r){e.child=t===null?CS(e,null,n,r):gl(e,t.child,n,r)}function z0(t,e,n,r,s){n=n.render;var i=e.ref;if("ref"in r){var l={};for(var o in r)o!=="ref"&&(l[o]=r[o])}else l=r;return oi(e),r=Ym(t,e,n,l,i,s),o=Qm(),t!==null&&!ct?(Jm(t,e,s),Tr(t,e,s)):(ue&&o&&Vm(e),e.flags|=1,yt(t,e,r,s),e.child)}function L0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Pm(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,LS(t,e,i,r,s)):(t=kc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!lg(t,s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vo,n(l,r)&&t.ref===e.ref)return Tr(t,e,s)}return e.flags|=1,t=br(i,r),t.ref=e.ref,t.return=e,e.child=t}function LS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vo(i,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=i,lg(t,s))t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,Tr(t,e,s)}return cp(t,e,n,r,s)}function BS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;e.childLanes=i&~r}else e.childLanes=0,e.child=null;return B0(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(e,i!==null?i.cachePool:null),i!==null?N0(e,i):rp(),OS(e);else return e.lanes=e.childLanes=536870912,B0(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(Tc(e,i.cachePool),N0(e,i),Kr(),e.memoizedState=null):(t!==null&&Tc(e,null),rp(),Kr());return yt(t,e,s,n),e.child}function B0(t,e,n,r){var s=Fm();return s=s===null?null:{parent:tt._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Tc(e,null),rp(),OS(e),t!==null&&Ea(t,e,r,!0),null}function Oc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function cp(t,e,n,r,s){return oi(e),n=Ym(t,e,n,r,void 0,s),r=Qm(),t!==null&&!ct?(Jm(t,e,s),Tr(t,e,s)):(ue&&r&&Vm(e),e.flags|=1,yt(t,e,n,s),e.child)}function U0(t,e,n,r,s,i){return oi(e),e.updateQueue=null,n=Qv(e,r,n,s),Yv(t),r=Qm(),t!==null&&!ct?(Jm(t,e,i),Tr(t,e,i)):(ue&&r&&Vm(e),e.flags|=1,yt(t,e,n,i),e.child)}function $0(t,e,n,r,s){if(oi(e),e.stateNode===null){var i=Gi,l=n.contextType;typeof l=="object"&&l!==null&&(i=Tt(l)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=op,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},Zm(e),l=n.contextType,i.context=typeof l=="object"&&l!==null?Tt(l):Gi,i.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(zd(e,n,l,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&op.enqueueReplaceState(i,i.state,null),xo(e,r,i,s),yo(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,a=ci(n,o);i.props=a;var c=i.context,u=n.contextType;l=Gi,typeof u=="object"&&u!==null&&(l=Tt(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||c!==l)&&j0(e,i,r,l),Pr=!1;var d=e.memoizedState;i.state=d,xo(e,r,i,s),yo(),c=e.memoizedState,o||d!==c||Pr?(typeof f=="function"&&(zd(e,n,f,r),c=e.memoizedState),(a=Pr||D0(e,n,a,r,d,c,l))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=l,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,tp(t,e),l=e.memoizedProps,u=ci(n,l),i.props=u,f=e.pendingProps,d=i.context,c=n.contextType,a=Gi,typeof c=="object"&&c!==null&&(a=Tt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||d!==a)&&j0(e,i,r,a),Pr=!1,d=e.memoizedState,i.state=d,xo(e,r,i,s),yo();var p=e.memoizedState;l!==f||d!==p||Pr||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof o=="function"&&(zd(e,n,o,r),p=e.memoizedState),(u=Pr||D0(e,n,u,r,d,p,a)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,a)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),i.props=r,i.state=p,i.context=a,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,Oc(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=gl(e,t.child,null,s),e.child=gl(e,null,n,s)):yt(t,e,n,s),e.memoizedState=i.state,t=e.child):t=Tr(t,e,s),t}function H0(t,e,n,r){return wa(),e.flags|=256,yt(t,e,n,r),e.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(t){return{baseLanes:t,cachePool:qv()}}function Ud(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=bn),t}function US(t,e,n){var r=e.pendingProps,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(rt.current&2)!==0),l&&(s=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(ue){if(s?Zr(e):Kr(),ue){var o=Ve,a;if(a=o){e:{for(a=o,o=Vn;a.nodeType!==8;){if(!o){o=null;break e}if(a=Mn(a.nextSibling),a===null){o=null;break e}}o=a}o!==null?(e.memoizedState={dehydrated:o,treeContext:Ys!==null?{id:hr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},a=Xt(18,null,null,0),a.stateNode=o,a.return=e,e.child=a,Rt=e,Ve=null,a=!0):a=!1}a||li(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Ep(o)?e.lanes=32:e.lanes=536870912,null;gr(e)}return o=r.children,r=r.fallback,s?(Kr(),s=e.mode,o=cu({mode:"hidden",children:o},s),r=Gs(r,s,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,s=e.child,s.memoizedState=Bd(n),s.childLanes=Ud(t,l,n),e.memoizedState=Ld,r):(Zr(e),up(e,o))}if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null)){if(i)e.flags&256?(Zr(e),e.flags&=-257,e=$d(t,e,n)):e.memoizedState!==null?(Kr(),e.child=t.child,e.flags|=128,e=null):(Kr(),s=r.fallback,o=e.mode,r=cu({mode:"visible",children:r.children},o),s=Gs(s,o,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,gl(e,t.child,null,n),r=e.child,r.memoizedState=Bd(n),r.childLanes=Ud(t,l,n),e.memoizedState=Ld,e=s);else if(Zr(e),Ep(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var c=l.dgst;l=c,r=Error(R(419)),r.stack="",r.digest=l,Io({value:r,source:null,stack:null}),e=$d(t,e,n)}else if(ct||Ea(t,e,n,!1),l=(n&t.childLanes)!==0,ct||l){if(l=ke,l!==null&&(r=n&-n,r=r&42?1:Mm(r),r=r&(l.suspendedLanes|n)?0:r,r!==0&&r!==a.retryLane))throw a.retryLane=r,Ml(t,r),rn(l,t,r),zS;o.data==="$?"||gp(),e=$d(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=a.treeContext,Ve=Mn(o.nextSibling),Rt=e,ue=!0,Qs=null,Vn=!1,t!==null&&(pn[mn++]=hr,pn[mn++]=pr,pn[mn++]=Ys,hr=t.id,pr=t.overflow,Ys=e),e=up(e,r.children),e.flags|=4096);return e}return s?(Kr(),s=r.fallback,o=e.mode,a=t.child,c=a.sibling,r=br(a,{mode:"hidden",children:r.children}),r.subtreeFlags=a.subtreeFlags&65011712,c!==null?s=br(c,s):(s=Gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o===null?o=Bd(n):(a=o.cachePool,a!==null?(c=tt._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=qv(),o={baseLanes:o.baseLanes|n,cachePool:a}),s.memoizedState=o,s.childLanes=Ud(t,l,n),e.memoizedState=Ld,r):(Zr(e),n=t.child,t=n.sibling,n=br(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function up(t,e){return e=cu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function cu(t,e){return t=Xt(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $d(t,e,n){return gl(e,t.child,null,n),t=up(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jh(t.return,e,n)}function Hd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $S(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P0(t,n,e);else if(t.tag===19)P0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(je(rt,r),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hd(e,!0,n,null,i);break;case"together":Hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,!(n&e.childLanes))if(t!==null){if(Ea(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function d2(t,e,n){switch(e.tag){case 3:Kc(e,e.stateNode.containerInfo),Fr(e,tt,t.memoizedState.cache),wa();break;case 27:case 5:$h(e);break;case 4:Kc(e,e.stateNode.containerInfo);break;case 10:Fr(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Zr(e),e.flags|=128,null):n&e.child.childLanes?US(t,e,n):(Zr(e),t=Tr(t,e,n),t!==null?t.sibling:null);Zr(e);break;case 19:var s=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Ea(t,e,n,!1),r=(n&e.childLanes)!==0),s){if(r)return $S(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,BS(t,e,n);case 24:Fr(e,tt,t.memoizedState.cache)}return Tr(t,e,n)}function HS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ct=!0;else{if(!lg(t,n)&&!(e.flags&128))return ct=!1,d2(t,e,n);ct=!!(t.flags&131072)}else ct=!1,ue&&e.flags&1048576&&Vv(e,eu,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,s=r._init;if(r=s(r._payload),e.type=r,typeof r=="function")Pm(r)?(t=ci(r,t),e.tag=1,e=$0(null,e,r,t,n)):(e.tag=0,e=cp(null,e,r,t,n));else{if(r!=null){if(s=r.$$typeof,s===Am){e.tag=11,e=z0(null,e,r,t,n);break e}else if(s===Cm){e.tag=14,e=L0(null,e,r,t,n);break e}}throw e=Bh(r)||r,Error(R(306,e,""))}}return e;case 0:return cp(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,s=ci(r,e.pendingProps),$0(t,e,r,s,n);case 3:e:{if(Kc(e,e.stateNode.containerInfo),t===null)throw Error(R(387));r=e.pendingProps;var i=e.memoizedState;s=i.element,tp(t,e),xo(e,r,null,n);var l=e.memoizedState;if(r=l.cache,Fr(e,tt,r),r!==i.cache&&Xh(e,[tt],n,!0),yo(),r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=H0(t,e,r,n);break e}else if(r!==s){s=yn(Error(R(424)),e),Io(s),e=H0(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Mn(t.firstChild),Rt=e,ue=!0,Qs=null,Vn=!0,n=CS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wa(),r===s){e=Tr(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 26:return Oc(t,e),t===null?(n=sx(e.type,null,e.pendingProps,null))?e.memoizedState=n:ue||(n=e.type,t=e.pendingProps,r=gu(ls.current).createElement(n),r[kt]=e,r[Zt]=t,St(r,n,t),ot(r),e.stateNode=r):e.memoizedState=sx(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $h(e),t===null&&ue&&(r=e.stateNode=Tw(e.type,e.pendingProps,ls.current),Rt=e,Vn=!0,s=Ve,ks(e.type)?(Np=s,Ve=Mn(r.firstChild)):Ve=s),yt(t,e,e.pendingProps.children,n),Oc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ue&&((s=r=Ve)&&(r=H2(r,e.type,e.pendingProps,Vn),r!==null?(e.stateNode=r,Rt=e,Ve=Mn(r.firstChild),Vn=!1,s=!0):s=!1),s||li(e)),$h(e),s=e.type,i=e.pendingProps,l=t!==null?t.memoizedProps:null,r=i.children,Sp(s,i)?r=null:l!==null&&Sp(s,l)&&(e.flags|=32),e.memoizedState!==null&&(s=Ym(t,e,s2,null,null,n),Yo._currentValue=s),Oc(t,e),yt(t,e,r,n),e.child;case 6:return t===null&&ue&&((t=n=Ve)&&(n=P2(n,e.pendingProps,Vn),n!==null?(e.stateNode=n,Rt=e,Ve=null,t=!0):t=!1),t||li(e)),null;case 13:return US(t,e,n);case 4:return Kc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gl(e,null,r,n):yt(t,e,r,n),e.child;case 11:return z0(t,e,e.type,e.pendingProps,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Fr(e,e.type,r.value),yt(t,e,r.children,n),e.child;case 9:return s=e.type._context,r=e.pendingProps.children,oi(e),s=Tt(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return L0(t,e,e.type,e.pendingProps,n);case 15:return LS(t,e,e.type,e.pendingProps,n);case 19:return $S(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=cu(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=br(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return BS(t,e,n);case 24:return oi(e),r=Tt(tt),t===null?(s=Fm(),s===null&&(s=ke,i=qm(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),e.memoizedState={parent:r,cache:s},Zm(e),Fr(e,tt,s)):(t.lanes&n&&(tp(t,e),xo(e,null,null,n),yo()),s=t.memoizedState,i=e.memoizedState,s.parent!==r?(s={parent:r,cache:r},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Fr(e,tt,r)):(r=i.cache,Fr(e,tt,r),r!==s.cache&&Xh(e,[tt],n,!0))),yt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(R(156,e.tag))}function nr(t){t.flags|=4}function V0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Ow(e)){if(e=wn.current,e!==null&&((ce&4194048)===ce?Gn!==null:(ce&62914560)!==ce&&!(ce&536870912)||e!==Gn))throw mo=ep,Fv;t.flags|=8192}}function Wa(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?dv():536870912,t.lanes|=e,yl|=e)}function Fl(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h2(t,e,n){var r=e.pendingProps;switch(Im(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return Ue(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),vr(tt),ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Il(e)?nr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,x0())),Ue(e),null;case 26:return n=e.memoizedState,t===null?(nr(e),n!==null?(Ue(e),V0(e,n)):(Ue(e),e.flags&=-16777217)):n?n!==t.memoizedState?(nr(e),Ue(e),V0(e,n)):(Ue(e),e.flags&=-16777217):(t.memoizedProps!==r&&nr(e),Ue(e),e.flags&=-16777217),null;case 27:Gc(e),n=ls.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&nr(e);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Ue(e),null}t=Zn.current,Il(e)?g0(e):(t=Tw(s,r,n),e.stateNode=t,nr(e))}return Ue(e),null;case 5:if(Gc(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&nr(e);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Ue(e),null}if(t=Zn.current,Il(e))g0(e);else{switch(s=gu(ls.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}t[kt]=e,t[Zt]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(St(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&nr(e)}}return Ue(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&nr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(t=ls.current,Il(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,s=Rt,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}t[kt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Ew(t.nodeValue,n)),t||li(e)}else t=gu(t).createTextNode(r),t[kt]=e,e.stateNode=t}return Ue(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Il(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[kt]=e}else wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),s=!1}else s=x0(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(gr(e),e):(gr(e),null)}if(gr(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Wa(e,e.updateQueue),Ue(e),null;case 4:return ul(),t===null&&pg(e.stateNode.containerInfo),Ue(e),null;case 10:return vr(e.type),Ue(e),null;case 19:if(ut(rt),s=e.memoizedState,s===null)return Ue(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Fl(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=lu(t),i!==null){for(e.flags|=128,Fl(s,!1),t=i.updateQueue,e.updateQueue=t,Wa(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Pv(n,t),n=n.sibling;return je(rt,rt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Kn()>fu&&(e.flags|=128,r=!0,Fl(s,!1),e.lanes=4194304)}else{if(!r)if(t=lu(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Wa(e,t),Fl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ue)return Ue(e),null}else 2*Kn()-s.renderingStartTime>fu&&n!==536870912&&(e.flags|=128,r=!0,Fl(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kn(),e.sibling=null,t=rt.current,je(rt,r?t&1|2:t&1),e):(Ue(e),null);case 22:case 23:return gr(e),Km(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),n=e.updateQueue,n!==null&&Wa(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&ut(Js),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),vr(tt),Ue(e),null;case 25:return null;case 30:return null}throw Error(R(156,e.tag))}function p2(t,e){switch(Im(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vr(tt),ul(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Gc(e),null;case 13:if(gr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(rt),null;case 4:return ul(),null;case 10:return vr(e.type),null;case 22:case 23:return gr(e),Km(),t!==null&&ut(Js),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return vr(tt),null;case 25:return null;default:return null}}function PS(t,e){switch(Im(e),e.tag){case 3:vr(tt),ul();break;case 26:case 27:case 5:Gc(e);break;case 4:ul();break;case 13:gr(e);break;case 19:ut(rt);break;case 10:vr(e.type);break;case 22:case 23:gr(e),Km(),t!==null&&ut(Js);break;case 24:vr(tt)}}function Ca(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&t)===t){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==s)}}catch(o){Se(e,e.return,o)}}function Ss(t,e,n){try{var r=e.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var i=s.next;r=i;do{if((r.tag&t)===t){var l=r.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,s=e;var a=n,c=o;try{c()}catch(u){Se(s,a,u)}}}r=r.next}while(r!==i)}}catch(u){Se(e,e.return,u)}}function VS(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Gv(e,n)}catch(r){Se(t,t.return,r)}}}function IS(t,e,n){n.props=ci(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Se(t,e,r)}}function vo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(s){Se(t,e,s)}}function In(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){Se(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Se(t,e,s)}else n.current=null}function qS(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){Se(t,t.return,s)}}function Pd(t,e,n){try{var r=t.stateNode;z2(r,t.type,n,e),r[Zt]=e}catch(s){Se(t,t.return,s)}}function FS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ks(t.type)||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zf));else if(r!==4&&(r===27&&ks(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}function uu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&ks(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(uu(t,e,n),t=t.sibling;t!==null;)uu(t,e,n),t=t.sibling}function ZS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);St(e,r,n),e[kt]=t,e[Zt]=n}catch(i){Se(t,t.return,i)}}var fr=!1,Ze=!1,Id=!1,I0=typeof WeakSet=="function"?WeakSet:Set,lt=null;function m2(t,e){if(t=t.containerInfo,bp=vu,t=jv(t),Um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(o=l+s),f!==i||r!==0&&f.nodeType!==3||(a=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===s&&(o=l),d===i&&++u===r&&(a=l),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(vp={focusedElem:t,selectionRange:n},vu=!1,lt=e;lt!==null;)if(e=lt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,lt=t;else for(;lt!==null;){switch(e=lt,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=ci(n.type,s,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(g){Se(n,n.return,g)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)wp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(R(163))}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}}function KS(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Lr(t,n),r&4&&Ca(5,n);break;case 1:if(Lr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){Se(n,n.return,l)}else{var s=ci(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){Se(n,n.return,l)}}r&64&&VS(n),r&512&&vo(n,n.return);break;case 3:if(Lr(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Gv(t,e)}catch(l){Se(n,n.return,l)}}break;case 27:e===null&&r&4&&ZS(n);case 26:case 5:Lr(t,n),e===null&&r&4&&qS(n),r&512&&vo(n,n.return);break;case 12:Lr(t,n);break;case 13:Lr(t,n),r&4&&QS(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=N2.bind(null,n),V2(t,n))));break;case 22:if(r=n.memoizedState!==null||fr,!r){e=e!==null&&e.memoizedState!==null||Ze,s=fr;var i=Ze;fr=r,(Ze=e)&&!i?Ur(t,n,(n.subtreeFlags&8772)!==0):Lr(t,n),fr=s,Ze=i}break;case 30:break;default:Lr(t,n)}}function GS(t){var e=t.alternate;e!==null&&(t.alternate=null,GS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Dm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Me=null,$t=!1;function rr(t,e,n){for(n=n.child;n!==null;)YS(t,e,n),n=n.sibling}function YS(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 26:Ze||In(n,e),rr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||In(n,e);var r=Me,s=$t;ks(n.type)&&(Me=n.stateNode,$t=!1),rr(t,e,n),No(n.stateNode),Me=r,$t=s;break;case 5:Ze||In(n,e);case 6:if(r=Me,s=$t,Me=null,rr(t,e,n),Me=r,$t=s,Me!==null)if($t)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(i){Se(n,e,i)}else try{Me.removeChild(n.stateNode)}catch(i){Se(n,e,i)}break;case 18:Me!==null&&($t?(t=Me,tx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Xo(t)):tx(Me,n.stateNode));break;case 4:r=Me,s=$t,Me=n.stateNode.containerInfo,$t=!0,rr(t,e,n),Me=r,$t=s;break;case 0:case 11:case 14:case 15:Ze||Ss(2,n,e),Ze||Ss(4,n,e),rr(t,e,n);break;case 1:Ze||(In(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&IS(n,e,r)),rr(t,e,n);break;case 21:rr(t,e,n);break;case 22:Ze=(r=Ze)||n.memoizedState!==null,rr(t,e,n),Ze=r;break;default:rr(t,e,n)}}function QS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xo(t)}catch(n){Se(e,e.return,n)}}function g2(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new I0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new I0),e;default:throw Error(R(435,t.tag))}}function qd(t,e){var n=g2(t);e.forEach(function(r){var s=k2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],i=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(ks(o.type)){Me=o.stateNode,$t=!1;break e}break;case 5:Me=o.stateNode,$t=!1;break e;case 3:case 4:Me=o.stateNode.containerInfo,$t=!0;break e}o=o.return}if(Me===null)throw Error(R(160));YS(i,l,s),Me=null,$t=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)JS(e,t),e=e.sibling}var Tn=null;function JS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(e,t),Yt(t),r&4&&(Ss(3,t,t.return),Ca(3,t),Ss(5,t,t.return));break;case 1:Gt(e,t),Yt(t),r&512&&(Ze||n===null||In(n,n.return)),r&64&&fr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Tn;if(Gt(e,t),Yt(t),r&512&&(Ze||n===null||In(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":i=s.getElementsByTagName("title")[0],(!i||i[va]||i[kt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),St(i,r,n),i[kt]=t,ot(i),r=i;break e;case"link":var l=lx("link","href",s).get(r+(n.href||""));if(l){for(var o=0;o<l.length;o++)if(i=l[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(o,1);break t}}i=s.createElement(r),St(i,r,n),s.head.appendChild(i);break;case"meta":if(l=lx("meta","content",s).get(r+(n.content||""))){for(o=0;o<l.length;o++)if(i=l[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(o,1);break t}}i=s.createElement(r),St(i,r,n),s.head.appendChild(i);break;default:throw Error(R(468,r))}i[kt]=t,ot(i),r=i}t.stateNode=r}else ox(s,t.type,t.stateNode);else t.stateNode=ix(s,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?ox(s,t.type,t.stateNode):ix(s,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,n.memoizedProps)}break;case 27:Gt(e,t),Yt(t),r&512&&(Ze||n===null||In(n,n.return)),n!==null&&r&4&&Pd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Gt(e,t),Yt(t),r&512&&(Ze||n===null||In(n,n.return)),t.flags&32){s=t.stateNode;try{dl(s,"")}catch(p){Se(t,t.return,p)}}r&4&&t.stateNode!=null&&(s=t.memoizedProps,Pd(t,s,n!==null?n.memoizedProps:s)),r&1024&&(Id=!0);break;case 6:if(Gt(e,t),Yt(t),r&4){if(t.stateNode===null)throw Error(R(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(p){Se(t,t.return,p)}}break;case 3:if(Dc=null,s=Tn,Tn=yu(e.containerInfo),Gt(e,t),Tn=s,Yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(e.containerInfo)}catch(p){Se(t,t.return,p)}Id&&(Id=!1,XS(t));break;case 4:r=Tn,Tn=yu(t.stateNode.containerInfo),Gt(e,t),Yt(t),Tn=r;break;case 12:Gt(e,t),Yt(t);break;case 13:Gt(e,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fg=Kn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,qd(t,r)));break;case 22:s=t.memoizedState!==null;var a=n!==null&&n.memoizedState!==null,c=fr,u=Ze;if(fr=c||s,Ze=u||a,Gt(e,t),Ze=u,fr=c,Yt(t),r&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||a||fr||Ze||Bs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){a=n=e;try{if(i=a.stateNode,s)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=a.stateNode;var f=a.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){Se(a,a.return,p)}}}else if(e.tag===6){if(n===null){a=e;try{a.stateNode.nodeValue=s?"":a.memoizedProps}catch(p){Se(a,a.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,qd(t,n))));break;case 19:Gt(e,t),Yt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,qd(t,r)));break;case 30:break;case 21:break;default:Gt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(FS(r)){n=r;break}r=r.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var s=n.stateNode,i=Vd(t);uu(t,i,s);break;case 5:var l=n.stateNode;n.flags&32&&(dl(l,""),n.flags&=-33);var o=Vd(t);uu(t,o,l);break;case 3:case 4:var a=n.stateNode.containerInfo,c=Vd(t);fp(t,c,a);break;default:throw Error(R(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XS(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;XS(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Lr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)KS(t,e.alternate,e),e=e.sibling}function Bs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ss(4,e,e.return),Bs(e);break;case 1:In(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&IS(e,e.return,n),Bs(e);break;case 27:No(e.stateNode);case 26:case 5:In(e,e.return),Bs(e);break;case 22:e.memoizedState===null&&Bs(e);break;case 30:Bs(e);break;default:Bs(e)}t=t.sibling}}function Ur(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,s=t,i=e,l=i.flags;switch(i.tag){case 0:case 11:case 15:Ur(s,i,n),Ca(4,i);break;case 1:if(Ur(s,i,n),r=i,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Se(r,r.return,c)}if(r=i,s=r.updateQueue,s!==null){var o=r.stateNode;try{var a=s.shared.hiddenCallbacks;if(a!==null)for(s.shared.hiddenCallbacks=null,s=0;s<a.length;s++)Kv(a[s],o)}catch(c){Se(r,r.return,c)}}n&&l&64&&VS(i),vo(i,i.return);break;case 27:ZS(i);case 26:case 5:Ur(s,i,n),n&&r===null&&l&4&&qS(i),vo(i,i.return);break;case 12:Ur(s,i,n);break;case 13:Ur(s,i,n),n&&l&4&&QS(s,i);break;case 22:i.memoizedState===null&&Ur(s,i,n),vo(i,i.return);break;case 30:break;default:Ur(s,i,n)}e=e.sibling}}function og(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Na(n))}function ag(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Na(t))}function Ln(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)WS(t,e,n,r),e=e.sibling}function WS(t,e,n,r){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Ln(t,e,n,r),s&2048&&Ca(9,e);break;case 1:Ln(t,e,n,r);break;case 3:Ln(t,e,n,r),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Na(t)));break;case 12:if(s&2048){Ln(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,l=i.id,o=i.onPostCommit;typeof o=="function"&&o(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(a){Se(e,e.return,a)}}else Ln(t,e,n,r);break;case 13:Ln(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,l=e.alternate,e.memoizedState!==null?i._visibility&2?Ln(t,e,n,r):So(t,e):i._visibility&2?Ln(t,e,n,r):(i._visibility|=2,zi(t,e,n,r,(e.subtreeFlags&10256)!==0)),s&2048&&og(l,e);break;case 24:Ln(t,e,n,r),s&2048&&ag(e.alternate,e);break;default:Ln(t,e,n,r)}}function zi(t,e,n,r,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,l=e,o=n,a=r,c=l.flags;switch(l.tag){case 0:case 11:case 15:zi(i,l,o,a,s),Ca(8,l);break;case 23:break;case 22:var u=l.stateNode;l.memoizedState!==null?u._visibility&2?zi(i,l,o,a,s):So(i,l):(u._visibility|=2,zi(i,l,o,a,s)),s&&c&2048&&og(l.alternate,l);break;case 24:zi(i,l,o,a,s),s&&c&2048&&ag(l.alternate,l);break;default:zi(i,l,o,a,s)}e=e.sibling}}function So(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,s=r.flags;switch(r.tag){case 22:So(n,r),s&2048&&og(r.alternate,r);break;case 24:So(n,r),s&2048&&ag(r.alternate,r);break;default:So(n,r)}e=e.sibling}}var so=8192;function Ci(t){if(t.subtreeFlags&so)for(t=t.child;t!==null;)ew(t),t=t.sibling}function ew(t){switch(t.tag){case 26:Ci(t),t.flags&so&&t.memoizedState!==null&&tC(Tn,t.memoizedState,t.memoizedProps);break;case 5:Ci(t);break;case 3:case 4:var e=Tn;Tn=yu(t.stateNode.containerInfo),Ci(t),Tn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=so,so=16777216,Ci(t),so=e):Ci(t));break;default:Ci(t)}}function tw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Zl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];lt=r,rw(r,t)}tw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nw(t),t=t.sibling}function nw(t){switch(t.tag){case 0:case 11:case 15:Zl(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:Zl(t);break;case 12:Zl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Mc(t)):Zl(t);break;default:Zl(t)}}function Mc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];lt=r,rw(r,t)}tw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ss(8,e,e.return),Mc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Mc(e));break;default:Mc(e)}t=t.sibling}}function rw(t,e){for(;lt!==null;){var n=lt;switch(n.tag){case 0:case 11:case 15:Ss(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Na(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,lt=r;else e:for(n=t;lt!==null;){r=lt;var s=r.sibling,i=r.return;if(GS(r),r===n){lt=null;break e}if(s!==null){s.return=i,lt=s;break e}lt=i}}}var y2={getCacheForType:function(t){var e=Tt(tt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},x2=typeof WeakMap=="function"?WeakMap:Map,me=0,ke=null,oe=null,ce=0,he=0,Jt=null,ts=!1,Rl=!1,cg=!1,Ar=0,qe=0,ws=0,Xs=0,ug=0,bn=0,yl=0,wo=null,Pt=null,dp=!1,fg=0,fu=1/0,du=null,us=null,vt=0,fs=null,xl=null,ol=0,hp=0,pp=null,sw=null,Eo=0,mp=null;function nn(){if(me&2&&ce!==0)return ce&-ce;if(G.T!==null){var t=hl;return t!==0?t:hg()}return mv()}function iw(){bn===0&&(bn=!(ce&536870912)||ue?fv():536870912);var t=wn.current;return t!==null&&(t.flags|=32),bn}function rn(t,e,n){(t===ke&&(he===2||he===9)||t.cancelPendingCommit!==null)&&(bl(t,0),ns(t,ce,bn,!1)),ba(t,n),(!(me&2)||t!==ke)&&(t===ke&&(!(me&2)&&(Xs|=n),qe===4&&ns(t,ce,bn,!1)),Xn(t))}function lw(t,e,n){if(me&6)throw Error(R(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||xa(t,e),s=r?S2(t,e):Fd(t,e,!0),i=r;do{if(s===0){Rl&&!r&&ns(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!b2(n)){s=Fd(t,e,!1),i=!1;continue}if(s===2){if(i=e,t.errorRecoveryDisabledLanes&i)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var o=t;s=wo;var a=o.current.memoizedState.isDehydrated;if(a&&(bl(o,l).flags|=256),l=Fd(o,l,!1),l!==2){if(cg&&!a){o.errorRecoveryDisabledLanes|=i,Xs|=i,s=4;break e}i=Pt,Pt=s,i!==null&&(Pt===null?Pt=i:Pt.push.apply(Pt,i))}s=l}if(i=!1,s!==2)continue}}if(s===1){bl(t,0),ns(t,e,0,!0);break}e:{switch(r=t,i=s,i){case 0:case 1:throw Error(R(345));case 4:if((e&4194048)!==e)break;case 6:ns(r,e,bn,!ts);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(R(329))}if((e&62914560)===e&&(s=fg+300-Kn(),10<s)){if(ns(r,e,bn,!ts),wf(r,0,!0)!==0)break e;r.timeoutHandle=kw(q0.bind(null,r,n,Pt,du,dp,e,bn,Xs,yl,ts,i,2,-0,0),s);break e}q0(r,n,Pt,du,dp,e,bn,Xs,yl,ts,i,0,-0,0)}}break}while(!0);Xn(t)}function q0(t,e,n,r,s,i,l,o,a,c,u,f,d,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Go={stylesheets:null,count:0,unsuspend:eC},ew(e),f=nC(),f!==null)){t.cancelPendingCommit=f(Z0.bind(null,t,e,i,n,r,s,l,o,a,u,1,d,p)),ns(t,i,l,!c);return}Z0(t,e,i,n,r,s,l,o,a)}function b2(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ln(i(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ns(t,e,n,r){e&=~ug,e&=~Xs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var s=e;0<s;){var i=31-tn(s),l=1<<i;r[i]=-1,s&=~l}n!==0&&hv(t,n,e)}function Df(){return me&6?!0:(Oa(0),!1)}function dg(){if(oe!==null){if(he===0)var t=oe.return;else t=oe,mr=wi=null,Xm(t),ll=null,Fo=0,t=oe;for(;t!==null;)PS(t.alternate,t),t=t.return;oe=null}}function bl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,B2(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),dg(),ke=t,oe=n=br(t.current,null),ce=e,he=0,Jt=null,ts=!1,Rl=xa(t,e),cg=!1,yl=bn=ug=Xs=ws=qe=0,Pt=wo=null,dp=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var s=31-tn(r),i=1<<s;e|=t[s],r&=~i}return Ar=e,Tf(),n}function ow(t,e){re=null,G.H=iu,e===ka||e===Cf?(e=w0(),he=3):e===Fv?(e=w0(),he=4):he=e===zS?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Jt=e,oe===null&&(qe=1,au(t,yn(e,t.current)))}function aw(){var t=G.H;return G.H=iu,t===null?iu:t}function cw(){var t=G.A;return G.A=y2,t}function gp(){qe=4,ts||(ce&4194048)!==ce&&wn.current!==null||(Rl=!0),!(ws&134217727)&&!(Xs&134217727)||ke===null||ns(ke,ce,bn,!1)}function Fd(t,e,n){var r=me;me|=2;var s=aw(),i=cw();(ke!==t||ce!==e)&&(du=null,bl(t,e)),e=!1;var l=qe;e:do try{if(he!==0&&oe!==null){var o=oe,a=Jt;switch(he){case 8:dg(),l=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(e=!0);var c=he;if(he=0,Jt=null,Ji(t,o,a,c),n&&Rl){l=0;break e}break;default:c=he,he=0,Jt=null,Ji(t,o,a,c)}}v2(),l=qe;break}catch(u){ow(t,u)}while(!0);return e&&t.shellSuspendCounter++,mr=wi=null,me=r,G.H=s,G.A=i,oe===null&&(ke=null,ce=0,Tf()),l}function v2(){for(;oe!==null;)uw(oe)}function S2(t,e){var n=me;me|=2;var r=aw(),s=cw();ke!==t||ce!==e?(du=null,fu=Kn()+500,bl(t,e)):Rl=xa(t,e);e:do try{if(he!==0&&oe!==null){e=oe;var i=Jt;t:switch(he){case 1:he=0,Jt=null,Ji(t,e,i,1);break;case 2:case 9:if(S0(i)){he=0,Jt=null,F0(e);break}e=function(){he!==2&&he!==9||ke!==t||(he=7),Xn(t)},i.then(e,e);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:S0(i)?(he=0,Jt=null,F0(e)):(he=0,Jt=null,Ji(t,e,i,7));break;case 5:var l=null;switch(oe.tag){case 26:l=oe.memoizedState;case 5:case 27:var o=oe;if(!l||Ow(l)){he=0,Jt=null;var a=o.sibling;if(a!==null)oe=a;else{var c=o.return;c!==null?(oe=c,jf(c)):oe=null}break t}}he=0,Jt=null,Ji(t,e,i,5);break;case 6:he=0,Jt=null,Ji(t,e,i,6);break;case 8:dg(),qe=6;break e;default:throw Error(R(462))}}w2();break}catch(u){ow(t,u)}while(!0);return mr=wi=null,G.H=r,G.A=s,me=n,oe!==null?0:(ke=null,ce=0,Tf(),qe)}function w2(){for(;oe!==null&&!qT();)uw(oe)}function uw(t){var e=HS(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,e===null?jf(t):oe=e}function F0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=U0(n,e,e.pendingProps,e.type,void 0,ce);break;case 11:e=U0(n,e,e.pendingProps,e.type.render,e.ref,ce);break;case 5:Xm(e);default:PS(n,e),e=oe=Pv(e,Ar),e=HS(n,e,Ar)}t.memoizedProps=t.pendingProps,e===null?jf(t):oe=e}function Ji(t,e,n,r){mr=wi=null,Xm(e),ll=null,Fo=0;var s=e.return;try{if(f2(t,s,e,n,ce)){qe=1,au(t,yn(n,t.current)),oe=null;return}}catch(i){if(s!==null)throw oe=s,i;qe=1,au(t,yn(n,t.current)),oe=null;return}e.flags&32768?(ue||r===1?t=!0:Rl||ce&536870912?t=!1:(ts=t=!0,(r===2||r===9||r===3||r===6)&&(r=wn.current,r!==null&&r.tag===13&&(r.flags|=16384))),fw(e,t)):jf(e)}function jf(t){var e=t;do{if(e.flags&32768){fw(e,ts);return}t=e.return;var n=h2(e.alternate,e,Ar);if(n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);qe===0&&(qe=5)}function fw(t,e){do{var n=p2(t.alternate,t);if(n!==null){n.flags&=32767,oe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){oe=t;return}oe=t=n}while(t!==null);qe=6,oe=null}function Z0(t,e,n,r,s,i,l,o,a){t.cancelPendingCommit=null;do _f();while(vt!==0);if(me&6)throw Error(R(327));if(e!==null){if(e===t.current)throw Error(R(177));if(i=e.lanes|e.childLanes,i|=$m,eA(t,n,i,l,o,a),t===ke&&(oe=ke=null,ce=0),xl=e,fs=t,ol=n,hp=i,pp=s,sw=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,T2(Yc,function(){return gw(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=G.T,G.T=null,s=fe.p,fe.p=2,l=me,me|=4;try{m2(t,e,n)}finally{me=l,fe.p=s,G.T=r}}vt=1,dw(),hw(),pw()}}function dw(){if(vt===1){vt=0;var t=fs,e=xl,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=G.T,G.T=null;var r=fe.p;fe.p=2;var s=me;me|=4;try{JS(e,t);var i=vp,l=jv(t.containerInfo),o=i.focusedElem,a=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&Dv(o.ownerDocument.documentElement,o)){if(a!==null&&Um(o)){var c=a.start,u=a.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),m=o.textContent.length,g=Math.min(a.start,m),b=a.end===void 0?g:Math.min(a.end,m);!p.extend&&g>b&&(l=b,b=g,g=l);var y=h0(o,g),x=h0(o,b);if(y&&x&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var v=f.createRange();v.setStart(y.node,y.offset),p.removeAllRanges(),g>b?(p.addRange(v),p.extend(x.node,x.offset)):(v.setEnd(x.node,x.offset),p.addRange(v))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var S=f[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}vu=!!bp,vp=bp=null}finally{me=s,fe.p=r,G.T=n}}t.current=e,vt=2}}function hw(){if(vt===2){vt=0;var t=fs,e=xl,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=G.T,G.T=null;var r=fe.p;fe.p=2;var s=me;me|=4;try{KS(t,e.alternate,e)}finally{me=s,fe.p=r,G.T=n}}vt=3}}function pw(){if(vt===4||vt===3){vt=0,FT();var t=fs,e=xl,n=ol,r=sw;e.subtreeFlags&10256||e.flags&10256?vt=5:(vt=0,xl=fs=null,mw(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(us=null),Rm(n),e=e.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=G.T,s=fe.p,fe.p=2,G.T=null;try{for(var i=t.onRecoverableError,l=0;l<r.length;l++){var o=r[l];i(o.value,{componentStack:o.stack})}}finally{G.T=e,fe.p=s}}ol&3&&_f(),Xn(t),s=t.pendingLanes,n&4194090&&s&42?t===mp?Eo++:(Eo=0,mp=t):Eo=0,Oa(0)}}function mw(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Na(e)))}function _f(t){return dw(),hw(),pw(),gw()}function gw(){if(vt!==5)return!1;var t=fs,e=hp;hp=0;var n=Rm(ol),r=G.T,s=fe.p;try{fe.p=32>n?32:n,G.T=null,n=pp,pp=null;var i=fs,l=ol;if(vt=0,xl=fs=null,ol=0,me&6)throw Error(R(331));var o=me;if(me|=4,nw(i.current),WS(i,i.current,l,n),me=o,Oa(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ya,i)}catch{}return!0}finally{fe.p=s,G.T=r,mw(t,e)}}function K0(t,e,n){e=yn(n,e),e=ap(t.stateNode,e,2),t=cs(t,e,2),t!==null&&(ba(t,2),Xn(t))}function Se(t,e,n){if(t.tag===3)K0(t,t,n);else for(;e!==null;){if(e.tag===3){K0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(us===null||!us.has(r))){t=yn(n,t),n=jS(2),r=cs(e,n,2),r!==null&&(_S(n,r,e,t),ba(r,2),Xn(r));break}}e=e.return}}function Zd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(cg=!0,s.add(n),t=E2.bind(null,t,e,n),e.then(t,t))}function E2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ke===t&&(ce&n)===n&&(qe===4||qe===3&&(ce&62914560)===ce&&300>Kn()-fg?!(me&2)&&bl(t,0):ug|=n,yl===ce&&(yl=0)),Xn(t)}function yw(t,e){e===0&&(e=dv()),t=Ml(t,e),t!==null&&(ba(t,e),Xn(t))}function N2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yw(t,n)}function k2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(R(314))}r!==null&&r.delete(e),yw(t,n)}function T2(t,e){return Om(t,e)}var hu=null,Li=null,yp=!1,pu=!1,Kd=!1,Ws=0;function Xn(t){t!==Li&&t.next===null&&(Li===null?hu=Li=t:Li=Li.next=t),pu=!0,yp||(yp=!0,C2())}function Oa(t,e){if(!Kd&&pu){Kd=!0;do for(var n=!1,r=hu;r!==null;){if(t!==0){var s=r.pendingLanes;if(s===0)var i=0;else{var l=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-tn(42|t)+1)-1,i&=s&~(l&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,G0(r,i))}else i=ce,i=wf(r,r===ke?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||xa(r,i)||(n=!0,G0(r,i));r=r.next}while(n);Kd=!1}}function A2(){xw()}function xw(){pu=yp=!1;var t=0;Ws!==0&&(L2()&&(t=Ws),Ws=0);for(var e=Kn(),n=null,r=hu;r!==null;){var s=r.next,i=bw(r,e);i===0?(r.next=null,n===null?hu=s:n.next=s,s===null&&(Li=n)):(n=r,(t!==0||i&3)&&(pu=!0)),r=s}Oa(t)}function bw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var l=31-tn(i),o=1<<l,a=s[l];a===-1?(!(o&n)||o&r)&&(s[l]=WT(o,e)):a<=e&&(t.expiredLanes|=o),i&=~o}if(e=ke,n=ce,n=wf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(he===2||he===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&bd(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||xa(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&bd(r),Rm(n)){case 2:case 8:n=cv;break;case 32:n=Yc;break;case 268435456:n=uv;break;default:n=Yc}return r=vw.bind(null,t),n=Om(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&bd(r),t.callbackPriority=2,t.callbackNode=null,2}function vw(t,e){if(vt!==0&&vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(_f()&&t.callbackNode!==n)return null;var r=ce;return r=wf(t,t===ke?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(lw(t,r,e),bw(t,Kn()),t.callbackNode!=null&&t.callbackNode===n?vw.bind(null,t):null)}function G0(t,e){if(_f())return null;lw(t,e,!0)}function C2(){U2(function(){me&6?Om(av,A2):xw()})}function hg(){return Ws===0&&(Ws=fv()),Ws}function Y0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wc(""+t)}function Q0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function O2(t,e,n,r,s){if(e==="submit"&&n&&n.stateNode===s){var i=Y0((s[Zt]||null).action),l=r.submitter;l&&(e=(e=l[Zt]||null)?Y0(e.formAction):l.getAttribute("formAction"),e!==null&&(i=e,l=null));var o=new Ef("action","action",null,r,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ws!==0){var a=l?Q0(s,l):new FormData(s);lp(n,{pending:!0,data:a,method:s.method,action:i},null,a)}}else typeof i=="function"&&(o.preventDefault(),a=l?Q0(s,l):new FormData(s),lp(n,{pending:!0,data:a,method:s.method,action:i},i,a))},currentTarget:s}]})}}for(var Gd=0;Gd<Gh.length;Gd++){var Yd=Gh[Gd],M2=Yd.toLowerCase(),R2=Yd[0].toUpperCase()+Yd.slice(1);Dn(M2,"on"+R2)}Dn(zv,"onAnimationEnd");Dn(Lv,"onAnimationIteration");Dn(Bv,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(GA,"onTransitionRun");Dn(YA,"onTransitionStart");Dn(QA,"onTransitionCancel");Dn(Uv,"onTransitionEnd");fl("onMouseEnter",["mouseout","mouseover"]);fl("onMouseLeave",["mouseout","mouseover"]);fl("onPointerEnter",["pointerout","pointerover"]);fl("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function Sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var o=r[l],a=o.instance,c=o.currentTarget;if(o=o.listener,a!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){ou(u)}s.currentTarget=null,i=a}else for(l=0;l<r.length;l++){if(o=r[l],a=o.instance,c=o.currentTarget,o=o.listener,a!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){ou(u)}s.currentTarget=null,i=a}}}}function le(t,e){var n=e[Ph];n===void 0&&(n=e[Ph]=new Set);var r=t+"__bubble";n.has(r)||(ww(e,t,2,!1),n.add(r))}function Qd(t,e,n){var r=0;e&&(r|=4),ww(n,t,r,e)}var ec="_reactListening"+Math.random().toString(36).slice(2);function pg(t){if(!t[ec]){t[ec]=!0,gv.forEach(function(n){n!=="selectionchange"&&(D2.has(n)||Qd(n,!1,t),Qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ec]||(e[ec]=!0,Qd("selectionchange",!1,e))}}function ww(t,e,n,r){switch(_w(e)){case 2:var s=iC;break;case 8:s=lC;break;default:s=xg}n=s.bind(null,e,n,t),s=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&l.stateNode.containerInfo===s)return;l=l.return}for(;o!==null;){if(l=Vi(o),l===null)return;if(a=l.tag,a===5||a===6||a===26||a===27){r=i=l;continue e}o=o.parentNode}}r=r.return}Nv(function(){var c=i,u=_m(n),f=[];e:{var d=$v.get(t);if(d!==void 0){var p=Ef,m=t;switch(t){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":p=TA;break;case"focusin":m="focus",p=Ad;break;case"focusout":m="blur",p=Ad;break;case"beforeblur":case"afterblur":p=Ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=r0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OA;break;case zv:case Lv:case Bv:p=yA;break;case Uv:p=RA;break;case"scroll":case"scrollend":p=dA;break;case"wheel":p=jA;break;case"copy":case"cut":case"paste":p=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=i0;break;case"toggle":case"beforetoggle":p=zA}var g=(e&4)!==0,b=!g&&(t==="scroll"||t==="scrollend"),y=g?d!==null?d+"Capture":null:d;g=[];for(var x=c,v;x!==null;){var S=x;if(v=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||v===null||y===null||(S=Ho(x,y),S!=null&&g.push(Ko(x,S,v))),b)break;x=x.return}0<g.length&&(d=new p(d,m,null,n,u),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==qh&&(m=n.relatedTarget||n.fromElement)&&(Vi(m)||m[Cl]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Vi(m):null,m!==null&&(b=ga(m),g=m.tag,m!==b||g!==5&&g!==27&&g!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=r0,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=i0,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?d:ro(p),v=m==null?d:ro(m),d=new g(S,x+"leave",p,n,u),d.target=b,d.relatedTarget=v,S=null,Vi(u)===c&&(g=new g(y,x+"enter",m,n,u),g.target=v,g.relatedTarget=b,S=g),b=S,p&&m)t:{for(g=p,y=m,x=0,v=g;v;v=Oi(v))x++;for(v=0,S=y;S;S=Oi(S))v++;for(;0<x-v;)g=Oi(g),x--;for(;0<v-x;)y=Oi(y),v--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Oi(g),y=Oi(y)}g=null}else g=null;p!==null&&J0(f,d,p,g,!1),m!==null&&b!==null&&J0(f,b,m,g,!0)}}e:{if(d=c?ro(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var k=c0;else if(a0(d))if(Mv)k=FA;else{k=IA;var N=VA}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&jm(c.elementType)&&(k=c0):k=qA;if(k&&(k=k(t,c))){Ov(f,k,n,u);break e}N&&N(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Ih(d,"number",d.value)}switch(N=c?ro(c):window,t){case"focusin":(a0(N)||N.contentEditable==="true")&&(Fi=N,Zh=c,ho=null);break;case"focusout":ho=Zh=Fi=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,p0(f,n,u);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":p0(f,n,u)}var A;if(Bm)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else qi?Av(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Tv&&n.locale!=="ko"&&(qi||O!=="onCompositionStart"?O==="onCompositionEnd"&&qi&&(A=kv()):(es=u,zm="value"in es?es.value:es.textContent,qi=!0)),N=mu(c,O),0<N.length&&(O=new s0(O,t,null,n,u),f.push({event:O,listeners:N}),A?O.data=A:(A=Cv(n),A!==null&&(O.data=A)))),(A=BA?UA(t,n):$A(t,n))&&(O=mu(c,"onBeforeInput"),0<O.length&&(N=new s0("onBeforeInput","beforeinput",null,n,u),f.push({event:N,listeners:O}),N.data=A)),O2(f,t,c,n,u)}Sw(f,e)})}function Ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Ho(t,n),s!=null&&r.unshift(Ko(t,s,i)),s=Ho(t,e),s!=null&&r.push(Ko(t,s,i))),t.tag===3)return r;t=t.return}return[]}function Oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J0(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var o=n,a=o.alternate,c=o.stateNode;if(o=o.tag,a!==null&&a===r)break;o!==5&&o!==26&&o!==27||c===null||(a=c,s?(c=Ho(n,i),c!=null&&l.unshift(Ko(n,c,a))):s||(c=Ho(n,i),c!=null&&l.push(Ko(n,c,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var j2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function X0(t){return(typeof t=="string"?t:""+t).replace(j2,`
`).replace(_2,"")}function Ew(t,e){return e=X0(e),X0(t)===e}function zf(){}function ye(t,e,n,r,s,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||dl(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&dl(t,""+r);break;case"className":Ka(t,"class",r);break;case"tabIndex":Ka(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ka(t,n,r);break;case"style":Ev(t,r,i);break;case"data":if(e!=="object"){Ka(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=wc(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&ye(t,e,"name",s.name,s,null),ye(t,e,"formEncType",s.formEncType,s,null),ye(t,e,"formMethod",s.formMethod,s,null),ye(t,e,"formTarget",s.formTarget,s,null)):(ye(t,e,"encType",s.encType,s,null),ye(t,e,"method",s.method,s,null),ye(t,e,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=wc(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=zf);break;case"onScroll":r!=null&&le("scroll",t);break;case"onScrollEnd":r!=null&&le("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(R(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=wc(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":le("beforetoggle",t),le("toggle",t),Sc(t,"popover",r);break;case"xlinkActuate":tr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":tr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":tr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":tr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":tr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":tr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":tr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":tr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":tr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Sc(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=uA.get(n)||n,Sc(t,n,r))}}function xp(t,e,n,r,s,i){switch(n){case"style":Ev(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(R(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"children":typeof r=="string"?dl(t,r):(typeof r=="number"||typeof r=="bigint")&&dl(t,""+r);break;case"onScroll":r!=null&&le("scroll",t);break;case"onScrollEnd":r!=null&&le("scrollend",t);break;case"onClick":r!=null&&(t.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),i=t[Zt]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,s),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,s);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Sc(t,n,r)}}}function St(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",t),le("load",t);var r=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:ye(t,e,i,l,n,null)}}s&&ye(t,e,"srcSet",n.srcSet,n,null),r&&ye(t,e,"src",n.src,n,null);return;case"input":le("invalid",t);var o=i=l=s=null,a=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":s=u;break;case"type":l=u;break;case"checked":a=u;break;case"defaultChecked":c=u;break;case"value":i=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(R(137,e));break;default:ye(t,e,r,u,n,null)}}vv(t,i,o,a,c,l,s,!1),Qc(t);return;case"select":le("invalid",t),r=l=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":l=o;break;case"multiple":r=o;default:ye(t,e,s,o,n,null)}e=i,n=l,t.multiple=!!r,e!=null?tl(t,!!r,e,!1):n!=null&&tl(t,!!r,n,!0);return;case"textarea":le("invalid",t),i=s=r=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":r=o;break;case"defaultValue":s=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:ye(t,e,l,o,n,null)}wv(t,r,s,i),Qc(t);return;case"option":for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ye(t,e,a,r,n,null)}return;case"dialog":le("beforetoggle",t),le("toggle",t),le("cancel",t),le("close",t);break;case"iframe":case"object":le("load",t);break;case"video":case"audio":for(r=0;r<Zo.length;r++)le(Zo[r],t);break;case"image":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"embed":case"source":case"link":le("error",t),le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:ye(t,e,c,r,n,null)}return;default:if(jm(e)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&xp(t,e,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&ye(t,e,o,r,n,null))}function z2(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,l=null,o=null,a=null,c=null,u=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":a=f;default:r.hasOwnProperty(p)||ye(t,e,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":i=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(R(137,e));break;default:p!==f&&ye(t,e,d,p,r,f)}}Vh(t,l,o,a,c,u,i,s);return;case"select":p=l=o=d=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null)switch(i){case"value":break;case"multiple":p=a;default:r.hasOwnProperty(i)||ye(t,e,i,null,r,a)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":d=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==a&&ye(t,e,s,i,r,a)}e=o,n=l,r=p,d!=null?tl(t,!!n,d,!1):!!r!=!!n&&(e!=null?tl(t,!!n,e,!0):tl(t,!!n,n?[]:"",!1));return;case"textarea":p=d=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ye(t,e,o,null,r,s)}for(l in r)if(s=r[l],i=n[l],r.hasOwnProperty(l)&&(s!=null||i!=null))switch(l){case"value":d=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(R(91));break;default:s!==i&&ye(t,e,l,s,r,i)}Sv(t,d,p);return;case"option":for(var m in n)if(d=n[m],n.hasOwnProperty(m)&&d!=null&&!r.hasOwnProperty(m))switch(m){case"selected":t.selected=!1;break;default:ye(t,e,m,null,r,d)}for(a in r)if(d=r[a],p=n[a],r.hasOwnProperty(a)&&d!==p&&(d!=null||p!=null))switch(a){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ye(t,e,a,d,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!r.hasOwnProperty(g)&&ye(t,e,g,null,r,d);for(c in r)if(d=r[c],p=n[c],r.hasOwnProperty(c)&&d!==p&&(d!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,e));break;default:ye(t,e,c,d,r,p)}return;default:if(jm(e)){for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!==void 0&&!r.hasOwnProperty(b)&&xp(t,e,b,void 0,r,d);for(u in r)d=r[u],p=n[u],!r.hasOwnProperty(u)||d===p||d===void 0&&p===void 0||xp(t,e,u,d,r,p);return}}for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!r.hasOwnProperty(y)&&ye(t,e,y,null,r,d);for(f in r)d=r[f],p=n[f],!r.hasOwnProperty(f)||d===p||d==null&&p==null||ye(t,e,f,d,r,p)}var bp=null,vp=null;function gu(t){return t.nodeType===9?t:t.ownerDocument}function W0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xd=null;function L2(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var kw=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,ex=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof ex<"u"?function(t){return ex.resolve(null).then(t).catch($2)}:kw;function $2(t){setTimeout(function(){throw t})}function ks(t){return t==="head"}function tx(t,e){var n=e,r=0,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<r&&8>r){n=r;var l=t.ownerDocument;if(n&1&&No(l.documentElement),n&2&&No(l.body),n&4)for(n=l.head,No(n),l=n.firstChild;l;){var o=l.nextSibling,a=l.nodeName;l[va]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=o}}if(s===0){t.removeChild(i),Xo(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Xo(e)}function wp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wp(n),Dm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function H2(t,e,n,r){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[va])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function P2(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function Ep(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function V2(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Np=null;function nx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Tw(t,e,n){switch(e=gu(n),t){case"html":if(t=e.documentElement,!t)throw Error(R(452));return t;case"head":if(t=e.head,!t)throw Error(R(453));return t;case"body":if(t=e.body,!t)throw Error(R(454));return t;default:throw Error(R(451))}}function No(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Dm(t)}var En=new Map,rx=new Set;function yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Dr=fe.d;fe.d={f:I2,r:q2,D:F2,C:Z2,L:K2,m:G2,X:Q2,S:Y2,M:J2};function I2(){var t=Dr.f(),e=Df();return t||e}function q2(t){var e=Ol(t);e!==null&&e.tag===5&&e.type==="form"?bS(e):Dr.r(t)}var Dl=typeof document>"u"?null:document;function Aw(t,e,n){var r=Dl;if(r&&typeof e=="string"&&e){var s=gn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),rx.has(s)||(rx.add(s),t={rel:t,crossOrigin:n,href:e},r.querySelector(s)===null&&(e=r.createElement("link"),St(e,"link",t),ot(e),r.head.appendChild(e)))}}function F2(t){Dr.D(t),Aw("dns-prefetch",t,null)}function Z2(t,e){Dr.C(t,e),Aw("preconnect",t,e)}function K2(t,e,n){Dr.L(t,e,n);var r=Dl;if(r&&t&&e){var s='link[rel="preload"][as="'+gn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+gn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+gn(n.imageSizes)+'"]')):s+='[href="'+gn(t)+'"]';var i=s;switch(e){case"style":i=vl(t);break;case"script":i=jl(t)}En.has(i)||(t=Ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),En.set(i,t),r.querySelector(s)!==null||e==="style"&&r.querySelector(Ma(i))||e==="script"&&r.querySelector(Ra(i))||(e=r.createElement("link"),St(e,"link",t),ot(e),r.head.appendChild(e)))}}function G2(t,e){Dr.m(t,e);var n=Dl;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+gn(r)+'"][href="'+gn(t)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=jl(t)}if(!En.has(i)&&(t=Ce({rel:"modulepreload",href:t},e),En.set(i,t),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ra(i)))return}r=n.createElement("link"),St(r,"link",t),ot(r),n.head.appendChild(r)}}}function Y2(t,e,n){Dr.S(t,e,n);var r=Dl;if(r&&t){var s=el(r).hoistableStyles,i=vl(t);e=e||"default";var l=s.get(i);if(!l){var o={loading:0,preload:null};if(l=r.querySelector(Ma(i)))o.loading=5;else{t=Ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=En.get(i))&&mg(t,n);var a=l=r.createElement("link");ot(a),St(a,"link",t),a._p=new Promise(function(c,u){a.onload=c,a.onerror=u}),a.addEventListener("load",function(){o.loading|=1}),a.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Rc(l,e,r)}l={type:"stylesheet",instance:l,count:1,state:o},s.set(i,l)}}}function Q2(t,e){Dr.X(t,e);var n=Dl;if(n&&t){var r=el(n).hoistableScripts,s=jl(t),i=r.get(s);i||(i=n.querySelector(Ra(s)),i||(t=Ce({src:t,async:!0},e),(e=En.get(s))&&gg(t,e),i=n.createElement("script"),ot(i),St(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function J2(t,e){Dr.M(t,e);var n=Dl;if(n&&t){var r=el(n).hoistableScripts,s=jl(t),i=r.get(s);i||(i=n.querySelector(Ra(s)),i||(t=Ce({src:t,async:!0,type:"module"},e),(e=En.get(s))&&gg(t,e),i=n.createElement("script"),ot(i),St(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function sx(t,e,n,r){var s=(s=ls.current)?yu(s):null;if(!s)throw Error(R(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=vl(n.href),n=el(s).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=vl(n.href);var i=el(s).hoistableStyles,l=i.get(t);if(l||(s=s.ownerDocument||s,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,l),(i=s.querySelector(Ma(t)))&&!i._p&&(l.instance=i,l.state.loading=5),En.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},En.set(t,n),i||X2(s,t,n,l.state))),e&&r===null)throw Error(R(528,""));return l}if(e&&r!==null)throw Error(R(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=jl(n),n=el(s).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,t))}}function vl(t){return'href="'+gn(t)+'"'}function Ma(t){return'link[rel="stylesheet"]['+t+"]"}function Cw(t){return Ce({},t,{"data-precedence":t.precedence,precedence:null})}function X2(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),St(e,"link",n),ot(e),t.head.appendChild(e))}function jl(t){return'[src="'+gn(t)+'"]'}function Ra(t){return"script[async]"+t}function ix(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+gn(n.href)+'"]');if(r)return e.instance=r,ot(r),r;var s=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ot(r),St(r,"style",s),Rc(r,n.precedence,t),e.instance=r;case"stylesheet":s=vl(n.href);var i=t.querySelector(Ma(s));if(i)return e.state.loading|=4,e.instance=i,ot(i),i;r=Cw(n),(s=En.get(s))&&mg(r,s),i=(t.ownerDocument||t).createElement("link"),ot(i);var l=i;return l._p=new Promise(function(o,a){l.onload=o,l.onerror=a}),St(i,"link",r),e.state.loading|=4,Rc(i,n.precedence,t),e.instance=i;case"script":return i=jl(n.src),(s=t.querySelector(Ra(i)))?(e.instance=s,ot(s),s):(r=n,(s=En.get(i))&&(r=Ce({},n),gg(r,s)),t=t.ownerDocument||t,s=t.createElement("script"),ot(s),St(s,"link",r),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(R(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Rc(r,n.precedence,t));return e.instance}function Rc(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,l=0;l<r.length;l++){var o=r[l];if(o.dataset.precedence===e)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function mg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function gg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Dc=null;function lx(t,e,n){if(Dc===null){var r=new Map,s=Dc=new Map;s.set(n,r)}else s=Dc,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var i=n[s];if(!(i[va]||i[kt]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(e)||"";l=t+l;var o=r.get(l);o?o.push(i):r.set(l,[i])}}return r}function ox(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function W2(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ow(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Go=null;function eC(){}function tC(t,e,n){if(Go===null)throw Error(R(475));var r=Go;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=vl(n.href),i=t.querySelector(Ma(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=xu.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=i,ot(i);return}i=t.ownerDocument||t,n=Cw(n),(s=En.get(s))&&mg(n,s),i=i.createElement("link"),ot(i);var l=i;l._p=new Promise(function(o,a){l.onload=o,l.onerror=a}),St(i,"link",n),e.instance=i}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=xu.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function nC(){if(Go===null)throw Error(R(475));var t=Go;return t.stylesheets&&t.count===0&&kp(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&kp(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bu=null;function kp(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bu=new Map,e.forEach(rC,t),bu=null,xu.call(t))}function rC(t,e){if(!(e.state.loading&4)){var n=bu.get(t);if(n)var r=n.get(null);else{n=new Map,bu.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var l=s[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}s=e.instance,l=s.getAttribute("data-precedence"),i=n.get(l)||r,i===r&&n.set(null,s),n.set(l,s),this.count++,r=xu.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Yo={$$typeof:dr,Provider:null,Consumer:null,_currentValue:Ks,_currentValue2:Ks,_threadCount:0};function sC(t,e,n,r,s,i,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vd(0),this.hiddenUpdates=vd(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Mw(t,e,n,r,s,i,l,o,a,c,u,f){return t=new sC(t,e,n,l,o,a,c,f),e=1,i===!0&&(e|=24),i=Xt(3,null,null,e),t.current=i,i.stateNode=t,e=qm(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},Zm(i),t}function Rw(t){return t?(t=Gi,t):Gi}function Dw(t,e,n,r,s,i){s=Rw(s),r.context===null?r.context=s:r.pendingContext=s,r=as(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=cs(t,r,e),n!==null&&(rn(n,t,e),go(n,t,e))}function ax(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yg(t,e){ax(t,e),(t=t.alternate)&&ax(t,e)}function jw(t){if(t.tag===13){var e=Ml(t,67108864);e!==null&&rn(e,t,67108864),yg(t,67108864)}}var vu=!0;function iC(t,e,n,r){var s=G.T;G.T=null;var i=fe.p;try{fe.p=2,xg(t,e,n,r)}finally{fe.p=i,G.T=s}}function lC(t,e,n,r){var s=G.T;G.T=null;var i=fe.p;try{fe.p=8,xg(t,e,n,r)}finally{fe.p=i,G.T=s}}function xg(t,e,n,r){if(vu){var s=Tp(r);if(s===null)Jd(t,e,r,Su,n),cx(t,r);else if(aC(s,t,e,n,r))r.stopPropagation();else if(cx(t,r),e&4&&-1<oC.indexOf(t)){for(;s!==null;){var i=Ol(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=zs(i.pendingLanes);if(l!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var a=1<<31-tn(l);o.entanglements[1]|=a,l&=~a}Xn(i),!(me&6)&&(fu=Kn()+500,Oa(0))}}break;case 13:o=Ml(i,2),o!==null&&rn(o,i,2),Df(),yg(i,2)}if(i=Tp(r),i===null&&Jd(t,e,r,Su,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jd(t,e,r,null,n)}}function Tp(t){return t=_m(t),bg(t)}var Su=null;function bg(t){if(Su=null,t=Vi(t),t!==null){var e=ga(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=sv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Su=t,null}function _w(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ZT()){case av:return 2;case cv:return 8;case Yc:case KT:return 32;case uv:return 268435456;default:return 32}default:return 32}}var Ap=!1,ds=null,hs=null,ps=null,Qo=new Map,Jo=new Map,Gr=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cx(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(e.pointerId)}}function Kl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ol(e),e!==null&&jw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aC(t,e,n,r,s){switch(e){case"focusin":return ds=Kl(ds,t,e,n,r,s),!0;case"dragenter":return hs=Kl(hs,t,e,n,r,s),!0;case"mouseover":return ps=Kl(ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qo.set(i,Kl(Qo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Jo.set(i,Kl(Jo.get(i)||null,t,e,n,r,s)),!0}return!1}function zw(t){var e=Vi(t.target);if(e!==null){var n=ga(e);if(n!==null){if(e=n.tag,e===13){if(e=sv(n),e!==null){t.blockedOn=e,tA(t.priority,function(){if(n.tag===13){var r=nn();r=Mm(r);var s=Ml(n,r);s!==null&&rn(s,n,r),yg(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tp(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qh=r,n.target.dispatchEvent(r),qh=null}else return e=Ol(n),e!==null&&jw(e),t.blockedOn=n,!1;e.shift()}return!0}function ux(t,e,n){jc(t)&&n.delete(e)}function cC(){Ap=!1,ds!==null&&jc(ds)&&(ds=null),hs!==null&&jc(hs)&&(hs=null),ps!==null&&jc(ps)&&(ps=null),Qo.forEach(ux),Jo.forEach(ux)}function tc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ap||(Ap=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,cC)))}var nc=null;function fx(t){nc!==t&&(nc=t,st.unstable_scheduleCallback(st.unstable_NormalPriority,function(){nc===t&&(nc=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if(typeof r!="function"){if(bg(r||n)===null)continue;break}var i=Ol(n);i!==null&&(t.splice(e,3),e-=3,lp(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Xo(t){function e(a){return tc(a,t)}ds!==null&&tc(ds,t),hs!==null&&tc(hs,t),ps!==null&&tc(ps,t),Qo.forEach(e),Jo.forEach(e);for(var n=0;n<Gr.length;n++){var r=Gr[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)zw(n),n.blockedOn===null&&Gr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],l=s[Zt]||null;if(typeof i=="function")l||fx(n);else if(l){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,l=i[Zt]||null)o=l.formAction;else if(bg(s)!==null)continue}else o=l.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),fx(n)}}}function vg(t){this._internalRoot=t}Lf.prototype.render=vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));var n=e.current,r=nn();Dw(n,r,t,e,null,null)};Lf.prototype.unmount=vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dw(t.current,2,null,t,null,null),Df(),e[Cl]=null}};function Lf(t){this._internalRoot=t}Lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=mv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gr.length&&e!==0&&e<Gr[n].priority;n++);Gr.splice(n,0,t),n===0&&zw(t)}};var dx=nv.version;if(dx!=="19.1.0")throw Error(R(527,dx,"19.1.0"));fe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=$T(e),t=t!==null?iv(t):null,t=t===null?null:t.stateNode,t};var uC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ya=rc.inject(uC),en=rc}catch{}}vf.createRoot=function(t,e){if(!rv(t))throw Error(R(299));var n=!1,r="",s=MS,i=RS,l=DS,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=Mw(t,1,!1,null,null,n,r,s,i,l,o,null),t[Cl]=e.current,pg(t),new vg(e)};vf.hydrateRoot=function(t,e,n){if(!rv(t))throw Error(R(299));var r=!1,s="",i=MS,l=RS,o=DS,a=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(a=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=Mw(t,1,!0,e,n??null,r,s,i,l,o,a,c),e.context=Rw(null),n=e.current,r=nn(),r=Mm(r),s=as(r),s.callback=null,cs(n,s,r),n=r,e.current.lanes=n,ba(e,n),Xn(e),t[Cl]=e.current,pg(t),new Lf(e)};vf.version="19.1.0";function Lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lw)}catch(t){console.error(t)}}Lw(),Y1.exports=vf;var fC=Y1.exports,Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.parse=xC;Sg.serialize=bC;const dC=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,hC=/^[\u0021-\u003A\u003C-\u007E]*$/,pC=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,mC=/^[\u0020-\u003A\u003D-\u007E]*$/,gC=Object.prototype.toString,yC=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function xC(t,e){const n=new yC,r=t.length;if(r<2)return n;const s=(e==null?void 0:e.decode)||vC;let i=0;do{const l=t.indexOf("=",i);if(l===-1)break;const o=t.indexOf(";",i),a=o===-1?r:o;if(l>a){i=t.lastIndexOf(";",l-1)+1;continue}const c=hx(t,i,l),u=px(t,l,c),f=t.slice(c,u);if(n[f]===void 0){let d=hx(t,l+1,a),p=px(t,a,d);const m=s(t.slice(d,p));n[f]=m}i=a+1}while(i<r);return n}function hx(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function px(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function bC(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!dC.test(t))throw new TypeError(`argument name is invalid: ${t}`);const s=r(e);if(!hC.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!pC.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!mC.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!SC(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function vC(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function SC(t){return gC.call(t)==="[object Date]"}var mx="popstate";function wC(t={}){function e(r,s){let{pathname:i,search:l,hash:o}=r.location;return Cp("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wo(s)}return NC(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substring(2,10)}function gx(t,e){return{usr:t.state,key:t.key,idx:e}}function Cp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:n,key:e&&e.key||r||EC()}}function Wo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NC(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,o="POP",a=null,c=u();c==null&&(c=0,l.replaceState({...l.state,idx:c},""));function u(){return(l.state||{idx:null}).idx}function f(){o="POP";let b=u(),y=b==null?null:b-c;c=b,a&&a({action:o,location:g.location,delta:y})}function d(b,y){o="PUSH";let x=Cp(g.location,b,y);c=u()+1;let v=gx(x,c),S=g.createHref(x);try{l.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&a&&a({action:o,location:g.location,delta:1})}function p(b,y){o="REPLACE";let x=Cp(g.location,b,y);c=u();let v=gx(x,c),S=g.createHref(x);l.replaceState(v,"",S),i&&a&&a({action:o,location:g.location,delta:0})}function m(b){return kC(b)}let g={get action(){return o},get location(){return t(s,l)},listen(b){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(mx,f),a=b,()=>{s.removeEventListener(mx,f),a=null}},createHref(b){return e(s,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(b){return l.go(b)}};return g}function kC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_e(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Wo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Bw(t,e,n="/"){return TC(t,e,n,!1)}function TC(t,e,n,r){let s=typeof e=="string"?_l(e):e,i=Cr(s.pathname||"/",n);if(i==null)return null;let l=Uw(t);AC(l);let o=null;for(let a=0;o==null&&a<l.length;++a){let c=UC(i);o=LC(l[a],c,r)}return o}function Uw(t,e=[],n=[],r=""){let s=(i,l,o)=>{let a={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};a.relativePath.startsWith("/")&&(_e(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let c=Sr([r,a.relativePath]),u=n.concat(a);i.children&&i.children.length>0&&(_e(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Uw(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_C(c,i.index),routesMeta:u})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let a of $w(i.path))s(i,l,a)}),e}function $w(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=$w(r.join("/")),o=[];return o.push(...l.map(a=>a===""?i:[i,a].join("/"))),s&&o.push(...l),o.map(a=>t.startsWith("/")&&a===""?"/":a)}function AC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CC=/^:[\w-]+$/,OC=3,MC=2,RC=1,DC=10,jC=-2,yx=t=>t==="*";function _C(t,e){let n=t.split("/"),r=n.length;return n.some(yx)&&(r+=jC),e&&(r+=MC),n.filter(s=>!yx(s)).reduce((s,i)=>s+(CC.test(i)?OC:i===""?RC:DC),r)}function zC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function LC(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",l=[];for(let o=0;o<r.length;++o){let a=r[o],c=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=wu({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},u),d=a.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=wu({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:Sr([i,f.pathname]),pathnameBase:VC(Sr([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Sr([i,f.pathnameBase]))}return l}function wu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},d)=>{if(u==="*"){let m=o[d]||"";l=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=o[d];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:l,pattern:t}}function BC(t,e=!1,n=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,a)=>(r.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function UC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $C(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_l(t):t;return{pathname:n?n.startsWith("/")?n:HC(n,e):e,search:IC(r),hash:qC(s)}}function HC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wg(t){let e=PC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Eg(t,e,n,r=!1){let s;typeof t=="string"?s=_l(t):(s={...t},_e(!s.pathname||!s.pathname.includes("?"),Wd("?","pathname","search",s)),_e(!s.pathname||!s.pathname.includes("#"),Wd("#","pathname","hash",s)),_e(!s.search||!s.search.includes("#"),Wd("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=n;else{let f=e.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}o=f>=0?e[f]:"/"}let a=$C(s,o),c=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}var Sr=t=>t.join("/").replace(/\/\/+/g,"/"),VC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Hw=["POST","PUT","PATCH","DELETE"];new Set(Hw);var ZC=["GET",...Hw];new Set(ZC);var zl=w.createContext(null);zl.displayName="DataRouter";var Bf=w.createContext(null);Bf.displayName="DataRouterState";var Pw=w.createContext({isTransitioning:!1});Pw.displayName="ViewTransition";var KC=w.createContext(new Map);KC.displayName="Fetchers";var GC=w.createContext(null);GC.displayName="Await";var jn=w.createContext(null);jn.displayName="Navigation";var Da=w.createContext(null);Da.displayName="Location";var kn=w.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Ng=w.createContext(null);Ng.displayName="RouteError";function YC(t,{relative:e}={}){_e(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(jn),{hash:s,pathname:i,search:l}=ja(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:Sr([n,i])),r.createHref({pathname:o,search:l,hash:s})}function Ll(){return w.useContext(Da)!=null}function _n(){return _e(Ll(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Da).location}var Vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iw(t){w.useContext(jn).static||w.useLayoutEffect(t)}function jr(){let{isDataRoute:t}=w.useContext(kn);return t?uO():QC()}function QC(){_e(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(zl),{basename:e,navigator:n}=w.useContext(jn),{matches:r}=w.useContext(kn),{pathname:s}=_n(),i=JSON.stringify(wg(r)),l=w.useRef(!1);return Iw(()=>{l.current=!0}),w.useCallback((a,c={})=>{if(Nn(l.current,Vw),!l.current)return;if(typeof a=="number"){n.go(a);return}let u=Eg(a,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Sr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,s,t])}var JC=w.createContext(null);function XC(t){let e=w.useContext(kn).outlet;return e&&w.createElement(JC.Provider,{value:t},e)}function qw(){let{matches:t}=w.useContext(kn),e=t[t.length-1];return e?e.params:{}}function ja(t,{relative:e}={}){let{matches:n}=w.useContext(kn),{pathname:r}=_n(),s=JSON.stringify(wg(n));return w.useMemo(()=>Eg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function WC(t,e){return Fw(t,e)}function Fw(t,e,n,r){var y;_e(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(jn),{matches:i}=w.useContext(kn),l=i[i.length-1],o=l?l.params:{},a=l?l.pathname:"/",c=l?l.pathnameBase:"/",u=l&&l.route;{let x=u&&u.path||"";Zw(a,!u||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=_n(),d;if(e){let x=typeof e=="string"?_l(e):e;_e(c==="/"||((y=x.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),d=x}else d=f;let p=d.pathname||"/",m=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Bw(t,{pathname:m});Nn(u||g!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Nn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=sO(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Sr([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Sr([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&b?w.createElement(Da.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},b):b}function eO(){let t=cO(),e=FC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,l)}var tO=w.createElement(eO,null),nO=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(kn.Provider,{value:this.props.routeContext},w.createElement(Ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rO({routeContext:t,match:e,children:n}){let r=w.useContext(zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(kn.Provider,{value:t},n)}function sO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let a=s.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);_e(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,a+1))}let l=!1,o=-1;if(n)for(let a=0;a<s.length;a++){let c=s[a];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=a),c.route.id){let{loaderData:u,errors:f}=n,d=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||d){l=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((a,c,u)=>{let f,d=!1,p=null,m=null;n&&(f=i&&c.route.id?i[c.route.id]:void 0,p=c.route.errorElement||tO,l&&(o<0&&u===0?(Zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):o===u&&(d=!0,m=c.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,u+1)),b=()=>{let y;return f?y=p:d?y=m:c.route.Component?y=w.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=a,w.createElement(rO,{match:c,routeContext:{outlet:a,matches:g,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?w.createElement(nO,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}function kg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iO(t){let e=w.useContext(zl);return _e(e,kg(t)),e}function lO(t){let e=w.useContext(Bf);return _e(e,kg(t)),e}function oO(t){let e=w.useContext(kn);return _e(e,kg(t)),e}function Tg(t){let e=oO(t),n=e.matches[e.matches.length-1];return _e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aO(){return Tg("useRouteId")}function cO(){var r;let t=w.useContext(Ng),e=lO("useRouteError"),n=Tg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function uO(){let{router:t}=iO("useNavigate"),e=Tg("useNavigate"),n=w.useRef(!1);return Iw(()=>{n.current=!0}),w.useCallback(async(s,i={})=>{Nn(n.current,Vw),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var xx={};function Zw(t,e,n){!e&&!xx[t]&&(xx[t]=!0,Nn(!1,n))}w.memo(fO);function fO({routes:t,future:e,state:n}){return Fw(t,void 0,n,e)}function dO({to:t,replace:e,state:n,relative:r}){_e(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(jn);Nn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(kn),{pathname:l}=_n(),o=jr(),a=Eg(t,wg(i),l,r==="path"),c=JSON.stringify(a);return w.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function hO(t){return XC(t.context)}function Qt(t){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){_e(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof n=="string"&&(n=_l(n));let{pathname:a="/",search:c="",hash:u="",state:f=null,key:d="default"}=n,p=w.useMemo(()=>{let m=Cr(a,l);return m==null?null:{location:{pathname:m,search:c,hash:u,state:f,key:d},navigationType:r}},[l,a,c,u,f,d,r]);return Nn(p!=null,`<Router basename="${l}"> is not able to match the URL "${a}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(jn.Provider,{value:o},w.createElement(Da.Provider,{children:e,value:p}))}function bx({children:t,location:e}){return WC(Op(t),e)}function Op(t,e=[]){let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Op(r.props.children,i));return}_e(r.type===Qt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Op(r.props.children,i)),n.push(l)}),n}var _c="get",zc="application/x-www-form-urlencoded";function Uf(t){return t!=null&&typeof t.tagName=="string"}function mO(t){return Uf(t)&&t.tagName.toLowerCase()==="button"}function gO(t){return Uf(t)&&t.tagName.toLowerCase()==="form"}function yO(t){return Uf(t)&&t.tagName.toLowerCase()==="input"}function xO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bO(t,e){return t.button===0&&(!e||e==="_self")&&!xO(t)}function Mp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function vO(t,e){let n=Mp(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var sc=null;function SO(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var wO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eh(t){return t!=null&&!wO.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zc}"`),null):t}function EO(t,e){let n,r,s,i,l;if(gO(t)){let o=t.getAttribute("action");r=o?Cr(o,e):null,n=t.getAttribute("method")||_c,s=eh(t.getAttribute("enctype"))||zc,i=new FormData(t)}else if(mO(t)||yO(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||o.getAttribute("action");if(r=a?Cr(a,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||_c,s=eh(t.getAttribute("formenctype"))||eh(o.getAttribute("enctype"))||zc,i=new FormData(o,t),!SO()){let{name:c,type:u,value:f}=t;if(u==="image"){let d=c?`${c}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else c&&i.append(c,f)}}else{if(Uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_c,r=null,s=zc,l=t}return i&&s==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:l}}function Ag(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function NO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TO(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let l=await NO(i,n);return l.links?l.links():[]}return[]}));return MO(r.flat(1).filter(kO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function vx(t,e,n,r,s,i){let l=(a,c)=>n[c]?a.route.id!==n[c].route.id:!0,o=(a,c)=>{var u;return n[c].pathname!==a.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==a.params["*"]};return i==="assets"?e.filter((a,c)=>l(a,c)||o(a,c)):i==="data"?e.filter((a,c)=>{var f;let u=r.routes[a.route.id];if(!u||!u.hasLoader)return!1;if(l(a,c)||o(a,c))return!0;if(a.route.shouldRevalidate){let d=a.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function AO(t,e,{includeHydrateFallback:n}={}){return CO(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function CO(t){return[...new Set(t)]}function OO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function MO(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(OO(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RO=new Set([100,101,204,205]);function DO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Cr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Kw(){let t=w.useContext(zl);return Ag(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jO(){let t=w.useContext(Bf);return Ag(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cg=w.createContext(void 0);Cg.displayName="FrameworkContext";function Gw(){let t=w.useContext(Cg);return Ag(t,"You must render this element inside a <HydratedRouter> element"),t}function _O(t,e){let n=w.useContext(Cg),[r,s]=w.useState(!1),[i,l]=w.useState(!1),{onFocus:o,onBlur:a,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,d=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let g=y=>{y.forEach(x=>{l(x.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return d.current&&b.observe(d.current),()=>{b.disconnect()}}},[t]),w.useEffect(()=>{if(r){let g=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{s(!0)},m=()=>{s(!1),l(!1)};return n?t!=="intent"?[i,d,{}]:[i,d,{onFocus:Gl(o,p),onBlur:Gl(a,m),onMouseEnter:Gl(c,p),onMouseLeave:Gl(u,m),onTouchStart:Gl(f,p)}]:[!1,d,{}]}function Gl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zO({page:t,...e}){let{router:n}=Kw(),r=w.useMemo(()=>Bw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(BO,{page:t,matches:r,...e}):null}function LO(t){let{manifest:e,routeModules:n}=Gw(),[r,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return TO(t,e,n).then(l=>{i||s(l)}),()=>{i=!0}},[t,e,n]),r}function BO({page:t,matches:e,...n}){let r=_n(),{manifest:s,routeModules:i}=Gw(),{basename:l}=Kw(),{loaderData:o,matches:a}=jO(),c=w.useMemo(()=>vx(t,e,a,s,r,"data"),[t,e,a,s,r]),u=w.useMemo(()=>vx(t,e,a,s,r,"assets"),[t,e,a,s,r]),f=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,g=!1;if(e.forEach(y=>{var v;let x=s.routes[y.route.id];!x||!x.hasLoader||(!c.some(S=>S.route.id===y.route.id)&&y.route.id in o&&((v=i[y.route.id])!=null&&v.shouldRevalidate)||x.hasClientLoader?g=!0:m.add(y.route.id))}),m.size===0)return[];let b=DO(t,l);return g&&m.size>0&&b.searchParams.set("_routes",e.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[b.pathname+b.search]},[l,o,r,s,c,e,t,i]),d=w.useMemo(()=>AO(u,s),[u,s]),p=LO(u);return w.createElement(w.Fragment,null,f.map(m=>w.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),d.map(m=>w.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:g})=>w.createElement("link",{key:m,...g})))}function UO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Yw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yw&&(window.__reactRouterVersion="7.6.3")}catch{}function $O({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=wC({window:n,v5Compat:!0}));let s=r.current,[i,l]=w.useState({action:s.action,location:s.location}),o=w.useCallback(a=>{w.startTransition(()=>l(a))},[l]);return w.useLayoutEffect(()=>s.listen(o),[s,o]),w.createElement(pO,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:l,state:o,target:a,to:c,preventScrollReset:u,viewTransition:f,...d},p){let{basename:m}=w.useContext(jn),g=typeof c=="string"&&Qw.test(c),b,y=!1;if(typeof c=="string"&&g&&(b=c,Yw))try{let _=new URL(window.location.href),$=c.startsWith("//")?new URL(_.protocol+c):new URL(c),ie=Cr($.pathname,m);$.origin===_.origin&&ie!=null?c=ie+$.search+$.hash:y=!0}catch{Nn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=YC(c,{relative:s}),[v,S,k]=_O(r,d),N=VO(c,{replace:l,state:o,target:a,preventScrollReset:u,relative:s,viewTransition:f});function A(_){e&&e(_),_.defaultPrevented||N(_)}let O=w.createElement("a",{...d,...k,href:b||x,onClick:y||i?e:A,ref:UO(p,S),target:a,"data-discover":!g&&n==="render"?"true":void 0});return v&&!g?w.createElement(w.Fragment,null,O,w.createElement(zO,{page:x})):O});Re.displayName="Link";var Jw=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:l,viewTransition:o,children:a,...c},u){let f=ja(l,{relative:c.relative}),d=_n(),p=w.useContext(Bf),{navigator:m,basename:g}=w.useContext(jn),b=p!=null&&GO(f)&&o===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,x=d.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase()),v&&g&&(v=Cr(v,g)||v);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=x===y||!s&&x.startsWith(y)&&x.charAt(S)==="/",N=v!=null&&(v===y||!s&&v.startsWith(y)&&v.charAt(y.length)==="/"),A={isActive:k,isPending:N,isTransitioning:b},O=k?e:void 0,_;typeof r=="function"?_=r(A):_=[r,k?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(A):i;return w.createElement(Re,{...c,"aria-current":O,className:_,ref:u,style:$,to:l,viewTransition:o},typeof a=="function"?a(A):a)});Jw.displayName="NavLink";var HO=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:l=_c,action:o,onSubmit:a,relative:c,preventScrollReset:u,viewTransition:f,...d},p)=>{let m=ZO(),g=KO(o,{relative:c}),b=l.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&Qw.test(o),x=v=>{if(a&&a(v),v.defaultPrevented)return;v.preventDefault();let S=v.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||l;m(S||v.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:s,state:i,relative:c,preventScrollReset:u,viewTransition:f})};return w.createElement("form",{ref:p,method:b,action:g,onSubmit:r?a:x,...d,"data-discover":!y&&t==="render"?"true":void 0})});HO.displayName="Form";function PO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(t){let e=w.useContext(zl);return _e(e,PO(t)),e}function VO(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:l}={}){let o=jr(),a=_n(),c=ja(t,{relative:i});return w.useCallback(u=>{if(bO(u,e)){u.preventDefault();let f=n!==void 0?n:Wo(a)===Wo(c);o(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:l})}},[a,o,c,n,r,e,t,s,i,l])}function IO(t){Nn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(Mp(t)),n=w.useRef(!1),r=_n(),s=w.useMemo(()=>vO(r.search,n.current?null:e.current),[r.search]),i=jr(),l=w.useCallback((o,a)=>{const c=Mp(typeof o=="function"?o(s):o);n.current=!0,i("?"+c,a)},[i,s]);return[s,l]}var qO=0,FO=()=>`__${String(++qO)}__`;function ZO(){let{router:t}=Xw("useSubmit"),{basename:e}=w.useContext(jn),n=aO();return w.useCallback(async(r,s={})=>{let{action:i,method:l,encType:o,formData:a,body:c}=EO(r,e);if(s.navigate===!1){let u=s.fetcherKey||FO();await t.fetch(u,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:c,formMethod:s.method||l,formEncType:s.encType||o,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:c,formMethod:s.method||l,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function KO(t,{relative:e}={}){let{basename:n}=w.useContext(jn),r=w.useContext(kn);_e(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...ja(t||".",{relative:e})},l=_n();if(t==null){i.search=l.search;let o=new URLSearchParams(i.search),a=o.getAll("index");if(a.some(u=>u==="")){o.delete("index"),a.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Sr([n,i.pathname])),Wo(i)}function GO(t,e={}){let n=w.useContext(Pw);_e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xw("useViewTransitionState"),s=ja(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Cr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Cr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wu(s.pathname,l)!=null||wu(s.pathname,i)!=null}[...RO];let YO={data:""},QO=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||YO,JO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XO=/\/\*[^]*?\*\/|  +/g,Sx=/\n+/g,Yr=(t,e)=>{let n="",r="",s="";for(let i in t){let l=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+l+";":r+=i[1]=="f"?Yr(l,i):i+"{"+Yr(l,i[1]=="k"?"":e)+"}":typeof l=="object"?r+=Yr(l,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,o):o?o+" "+a:a)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Yr.p?Yr.p(i,l):i+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+r},sr={},Ww=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Ww(t[n]);return e}return t},WO=(t,e,n,r,s)=>{let i=Ww(t),l=sr[i]||(sr[i]=(a=>{let c=0,u=11;for(;c<a.length;)u=101*u+a.charCodeAt(c++)>>>0;return"go"+u})(i));if(!sr[l]){let a=i!==t?t:(c=>{let u,f,d=[{}];for(;u=JO.exec(c.replace(XO,""));)u[4]?d.shift():u[3]?(f=u[3].replace(Sx," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][u[1]]=u[2].replace(Sx," ").trim();return d[0]})(t);sr[l]=Yr(s?{["@keyframes "+l]:a}:a,n?"":"."+l)}let o=n&&sr.g?sr.g:null;return n&&(sr.g=sr[l]),((a,c,u,f)=>{f?c.data=c.data.replace(f,a):c.data.indexOf(a)===-1&&(c.data=u?a+c.data:c.data+a)})(sr[l],e,r,o),l},eM=(t,e,n)=>t.reduce((r,s,i)=>{let l=e[i];if(l&&l.call){let o=l(n),a=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=a?"."+a:o&&typeof o=="object"?o.props?"":Yr(o,""):o===!1?"":o}return r+s+(l??"")},"");function $f(t){let e=this||{},n=t.call?t(e.p):t;return WO(n.unshift?n.raw?eM(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,QO(e.target),e.g,e.o,e.k)}let eE,Rp,Dp;$f.bind({g:1});let Or=$f.bind({k:1});function tM(t,e,n,r){Yr.p=e,eE=t,Rp=n,Dp=r}function Ts(t,e){let n=this||{};return function(){let r=arguments;function s(i,l){let o=Object.assign({},i),a=o.className||s.className;n.p=Object.assign({theme:Rp&&Rp()},o),n.o=/ *go\d+/.test(a),o.className=$f.apply(n,r)+(a?" "+a:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),Dp&&c[0]&&Dp(o),eE(c,o)}return s}}var nM=t=>typeof t=="function",Eu=(t,e)=>nM(t)?t(e):t,rM=(()=>{let t=0;return()=>(++t).toString()})(),tE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),sM=20,nE=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,sM)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return nE(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Lc=[],Hs={toasts:[],pausedAt:void 0},Ei=t=>{Hs=nE(Hs,t),Lc.forEach(e=>{e(Hs)})},iM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lM=(t={})=>{let[e,n]=w.useState(Hs),r=w.useRef(Hs);w.useEffect(()=>(r.current!==Hs&&n(Hs),Lc.push(n),()=>{let i=Lc.indexOf(n);i>-1&&Lc.splice(i,1)}),[]);let s=e.toasts.map(i=>{var l,o,a;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((l=t[i.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||iM[i.type],style:{...t.style,...(a=t[i.type])==null?void 0:a.style,...i.style}}});return{...e,toasts:s}},oM=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||rM()}),_a=t=>(e,n)=>{let r=oM(e,t,n);return Ei({type:2,toast:r}),r.id},pe=(t,e)=>_a("blank")(t,e);pe.error=_a("error");pe.success=_a("success");pe.loading=_a("loading");pe.custom=_a("custom");pe.dismiss=t=>{Ei({type:3,toastId:t})};pe.remove=t=>Ei({type:4,toastId:t});pe.promise=(t,e,n)=>{let r=pe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Eu(e.success,s):void 0;return i?pe.success(i,{id:r,...n,...n==null?void 0:n.success}):pe.dismiss(r),s}).catch(s=>{let i=e.error?Eu(e.error,s):void 0;i?pe.error(i,{id:r,...n,...n==null?void 0:n.error}):pe.dismiss(r)}),t};var aM=(t,e)=>{Ei({type:1,toast:{id:t,height:e}})},cM=()=>{Ei({type:5,time:Date.now()})},ko=new Map,uM=1e3,fM=(t,e=uM)=>{if(ko.has(t))return;let n=setTimeout(()=>{ko.delete(t),Ei({type:4,toastId:t})},e);ko.set(t,n)},dM=t=>{let{toasts:e,pausedAt:n}=lM(t);w.useEffect(()=>{if(n)return;let i=Date.now(),l=e.map(o=>{if(o.duration===1/0)return;let a=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(a<0){o.visible&&pe.dismiss(o.id);return}return setTimeout(()=>pe.dismiss(o.id),a)});return()=>{l.forEach(o=>o&&clearTimeout(o))}},[e,n]);let r=w.useCallback(()=>{n&&Ei({type:6,time:Date.now()})},[n]),s=w.useCallback((i,l)=>{let{reverseOrder:o=!1,gutter:a=8,defaultPosition:c}=l||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=u.findIndex(p=>p.id===i.id),d=u.filter((p,m)=>m<f&&p.visible).length;return u.filter(p=>p.visible).slice(...o?[d+1]:[0,d]).reduce((p,m)=>p+(m.height||0)+a,0)},[e]);return w.useEffect(()=>{e.forEach(i=>{if(i.dismissed)fM(i.id,i.removeDelay);else{let l=ko.get(i.id);l&&(clearTimeout(l),ko.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:aM,startPause:cM,endPause:r,calculateOffset:s}}},hM=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pM=Or`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mM=Or`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gM=Ts("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yM=Or`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xM=Ts("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yM} 1s linear infinite;
`,bM=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vM=Or`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SM=Ts("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wM=Ts("div")`
  position: absolute;
`,EM=Ts("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,NM=Or`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kM=Ts("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${NM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,TM=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?w.createElement(kM,null,e):e:n==="blank"?null:w.createElement(EM,null,w.createElement(xM,{...r}),n!=="loading"&&w.createElement(wM,null,n==="error"?w.createElement(gM,{...r}):w.createElement(SM,{...r})))},AM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,CM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,OM="0%{opacity:0;} 100%{opacity:1;}",MM="0%{opacity:1;} 100%{opacity:0;}",RM=Ts("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DM=Ts("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jM=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=tE()?[OM,MM]:[AM(n),CM(n)];return{animation:e?`${Or(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Or(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_M=w.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?jM(t.position||e||"top-center",t.visible):{opacity:0},i=w.createElement(TM,{toast:t}),l=w.createElement(DM,{...t.ariaProps},Eu(t.message,t));return w.createElement(RM,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:l}):w.createElement(w.Fragment,null,i,l))});tM(w.createElement);var zM=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=w.useCallback(l=>{if(l){let o=()=>{let a=l.getBoundingClientRect().height;r(t,a)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return w.createElement("div",{ref:i,className:e,style:n},s)},LM=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:tE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},BM=$f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ic=16,UM=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:l})=>{let{toasts:o,handlers:a}=dM(n);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ic,left:ic,right:ic,bottom:ic,pointerEvents:"none",...i},className:l,onMouseEnter:a.startPause,onMouseLeave:a.endPause},o.map(c=>{let u=c.position||e,f=a.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),d=LM(u,f);return w.createElement(zM,{id:c.id,key:c.id,onHeightUpdate:a.updateHeight,className:c.visible?BM:"",style:d},c.type==="custom"?Eu(c.message,c):s?s(c):w.createElement(_M,{toast:c,position:u}))}))},Ye=pe;function rE(t,e){return function(){return t.apply(e,arguments)}}const{toString:$M}=Object.prototype,{getPrototypeOf:Og}=Object,{iterator:Hf,toStringTag:sE}=Symbol,Pf=(t=>e=>{const n=$M.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zn=t=>(t=t.toLowerCase(),e=>Pf(e)===t),Vf=t=>e=>typeof e===t,{isArray:Bl}=Array,ea=Vf("undefined");function HM(t){return t!==null&&!ea(t)&&t.constructor!==null&&!ea(t.constructor)&&It(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iE=zn("ArrayBuffer");function PM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iE(t.buffer),e}const VM=Vf("string"),It=Vf("function"),lE=Vf("number"),If=t=>t!==null&&typeof t=="object",IM=t=>t===!0||t===!1,Bc=t=>{if(Pf(t)!=="object")return!1;const e=Og(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sE in t)&&!(Hf in t)},qM=zn("Date"),FM=zn("File"),ZM=zn("Blob"),KM=zn("FileList"),GM=t=>If(t)&&It(t.pipe),YM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||It(t.append)&&((e=Pf(t))==="formdata"||e==="object"&&It(t.toString)&&t.toString()==="[object FormData]"))},QM=zn("URLSearchParams"),[JM,XM,WM,eR]=["ReadableStream","Request","Response","Headers"].map(zn),tR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function za(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Bl(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(r=0;r<l;r++)o=i[r],e.call(null,t[o],o,t)}}function oE(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Ps=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aE=t=>!ea(t)&&t!==Ps;function jp(){const{caseless:t}=aE(this)&&this||{},e={},n=(r,s)=>{const i=t&&oE(e,s)||s;Bc(e[i])&&Bc(r)?e[i]=jp(e[i],r):Bc(r)?e[i]=jp({},r):Bl(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&za(arguments[r],n);return e}const nR=(t,e,n,{allOwnKeys:r}={})=>(za(e,(s,i)=>{n&&It(s)?t[i]=rE(s,n):t[i]=s},{allOwnKeys:r}),t),rR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sR=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iR=(t,e,n,r)=>{let s,i,l;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)l=s[i],(!r||r(l,t,e))&&!o[l]&&(e[l]=t[l],o[l]=!0);t=n!==!1&&Og(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},lR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},oR=t=>{if(!t)return null;if(Bl(t))return t;let e=t.length;if(!lE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},aR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Og(Uint8Array)),cR=(t,e)=>{const r=(t&&t[Hf]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},uR=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},fR=zn("HTMLFormElement"),dR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),wx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hR=zn("RegExp"),cE=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};za(n,(s,i)=>{let l;(l=e(s,i,t))!==!1&&(r[i]=l||s)}),Object.defineProperties(t,r)},pR=t=>{cE(t,(e,n)=>{if(It(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(It(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mR=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Bl(t)?r(t):r(String(t).split(e)),n},gR=()=>{},yR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function xR(t){return!!(t&&It(t.append)&&t[sE]==="FormData"&&t[Hf])}const bR=t=>{const e=new Array(10),n=(r,s)=>{if(If(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Bl(r)?[]:{};return za(r,(l,o)=>{const a=n(l,s+1);!ea(a)&&(i[o]=a)}),e[s]=void 0,i}}return r};return n(t,0)},vR=zn("AsyncFunction"),SR=t=>t&&(If(t)||It(t))&&It(t.then)&&It(t.catch),uE=((t,e)=>t?setImmediate:e?((n,r)=>(Ps.addEventListener("message",({source:s,data:i})=>{s===Ps&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ps.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",It(Ps.postMessage)),wR=typeof queueMicrotask<"u"?queueMicrotask.bind(Ps):typeof process<"u"&&process.nextTick||uE,ER=t=>t!=null&&It(t[Hf]),C={isArray:Bl,isArrayBuffer:iE,isBuffer:HM,isFormData:YM,isArrayBufferView:PM,isString:VM,isNumber:lE,isBoolean:IM,isObject:If,isPlainObject:Bc,isReadableStream:JM,isRequest:XM,isResponse:WM,isHeaders:eR,isUndefined:ea,isDate:qM,isFile:FM,isBlob:ZM,isRegExp:hR,isFunction:It,isStream:GM,isURLSearchParams:QM,isTypedArray:aR,isFileList:KM,forEach:za,merge:jp,extend:nR,trim:tR,stripBOM:rR,inherits:sR,toFlatObject:iR,kindOf:Pf,kindOfTest:zn,endsWith:lR,toArray:oR,forEachEntry:cR,matchAll:uR,isHTMLForm:fR,hasOwnProperty:wx,hasOwnProp:wx,reduceDescriptors:cE,freezeMethods:pR,toObjectSet:mR,toCamelCase:dR,noop:gR,toFiniteNumber:yR,findKey:oE,global:Ps,isContextDefined:aE,isSpecCompliantForm:xR,toJSONObject:bR,isAsyncFn:vR,isThenable:SR,setImmediate:uE,asap:wR,isIterable:ER};function X(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}C.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const fE=X.prototype,dE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dE[t]={value:t}});Object.defineProperties(X,dE);Object.defineProperty(fE,"isAxiosError",{value:!0});X.from=(t,e,n,r,s,i)=>{const l=Object.create(fE);return C.toFlatObject(t,l,function(a){return a!==Error.prototype},o=>o!=="isAxiosError"),X.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,i&&Object.assign(l,i),l};const NR=null;function _p(t){return C.isPlainObject(t)||C.isArray(t)}function hE(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function Ex(t,e,n){return t?t.concat(e).map(function(s,i){return s=hE(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function kR(t){return C.isArray(t)&&!t.some(_p)}const TR=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function qf(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!C.isUndefined(b[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,l=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(C.isDate(m))return m.toISOString();if(C.isBoolean(m))return m.toString();if(!a&&C.isBlob(m))throw new X("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(m)||C.isTypedArray(m)?a&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,b){let y=m;if(m&&!b&&typeof m=="object"){if(C.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(C.isArray(m)&&kR(m)||(C.isFileList(m)||C.endsWith(g,"[]"))&&(y=C.toArray(m)))return g=hE(g),y.forEach(function(v,S){!(C.isUndefined(v)||v===null)&&e.append(l===!0?Ex([g],S,i):l===null?g:g+"[]",c(v))}),!1}return _p(m)?!0:(e.append(Ex(b,g,i),c(m)),!1)}const f=[],d=Object.assign(TR,{defaultVisitor:u,convertValue:c,isVisitable:_p});function p(m,g){if(!C.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),C.forEach(m,function(y,x){(!(C.isUndefined(y)||y===null)&&s.call(e,y,C.isString(x)?x.trim():x,g,d))===!0&&p(y,g?g.concat(x):[x])}),f.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Nx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Mg(t,e){this._pairs=[],t&&qf(t,this,e)}const pE=Mg.prototype;pE.append=function(e,n){this._pairs.push([e,n])};pE.toString=function(e){const n=e?function(r){return e.call(this,r,Nx)}:Nx;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function AR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mE(t,e,n){if(!e)return t;const r=n&&n.encode||AR;C.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=C.isURLSearchParams(e)?e.toString():new Mg(e,n).toString(r),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class kx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CR=typeof URLSearchParams<"u"?URLSearchParams:Mg,OR=typeof FormData<"u"?FormData:null,MR=typeof Blob<"u"?Blob:null,RR={isBrowser:!0,classes:{URLSearchParams:CR,FormData:OR,Blob:MR},protocols:["http","https","file","blob","url","data"]},Rg=typeof window<"u"&&typeof document<"u",zp=typeof navigator=="object"&&navigator||void 0,DR=Rg&&(!zp||["ReactNative","NativeScript","NS"].indexOf(zp.product)<0),jR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_R=Rg&&window.location.href||"http://localhost",zR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rg,hasStandardBrowserEnv:DR,hasStandardBrowserWebWorkerEnv:jR,navigator:zp,origin:_R},Symbol.toStringTag,{value:"Module"})),Nt={...zR,...RR};function LR(t,e){return qf(t,new Nt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Nt.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function BR(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UR(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function yE(t){function e(n,r,s,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),a=i>=n.length;return l=!l&&C.isArray(s)?s.length:l,a?(C.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!o):((!s[l]||!C.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],i)&&C.isArray(s[l])&&(s[l]=UR(s[l])),!o)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,s)=>{e(BR(r),s,n,0)}),n}return null}function $R(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const La={transitional:gE,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=C.isObject(e);if(i&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return s?JSON.stringify(yE(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e)||C.isReadableStream(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LR(e,this.formSerializer).toString();if((o=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return qf(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),$R(e)):e}],transformResponse:[function(e){const n=this.transitional||La.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(C.isResponse(e)||C.isReadableStream(e))return e;if(e&&C.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(l)throw o.name==="SyntaxError"?X.from(o,X.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{La.headers[t]={}});const HR=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PR=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&HR[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Tx=Symbol("internals");function Yl(t){return t&&String(t).trim().toLowerCase()}function Uc(t){return t===!1||t==null?t:C.isArray(t)?t.map(Uc):String(t)}function VR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const IR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function th(t,e,n,r,s){if(C.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function qR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function FR(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,l){return this[r].call(this,e,s,i,l)},configurable:!0})})}let qt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,a,c){const u=Yl(a);if(!u)throw new Error("header name must be a non-empty string");const f=C.findKey(s,u);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||a]=Uc(o))}const l=(o,a)=>C.forEach(o,(c,u)=>i(c,u,a));if(C.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(C.isString(e)&&(e=e.trim())&&!IR(e))l(PR(e),n);else if(C.isObject(e)&&C.isIterable(e)){let o={},a,c;for(const u of e){if(!C.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(a=o[c])?C.isArray(a)?[...a,u[1]]:[a,u[1]]:u[1]}l(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Yl(e),e){const r=C.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return VR(s);if(C.isFunction(n))return n.call(this,s,r);if(C.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yl(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||th(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(l){if(l=Yl(l),l){const o=C.findKey(r,l);o&&(!n||th(r,r[o],o,n))&&(delete r[o],s=!0)}}return C.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||th(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return C.forEach(this,(s,i)=>{const l=C.findKey(r,i);if(l){n[l]=Uc(s),delete n[i];return}const o=e?qR(i):String(i).trim();o!==i&&delete n[i],n[o]=Uc(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Tx]=this[Tx]={accessors:{}}).accessors,s=this.prototype;function i(l){const o=Yl(l);r[o]||(FR(s,l),r[o]=!0)}return C.isArray(e)?e.forEach(i):i(e),this}};qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(qt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});C.freezeMethods(qt);function nh(t,e){const n=this||La,r=e||n,s=qt.from(r.headers);let i=r.data;return C.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function xE(t){return!!(t&&t.__CANCEL__)}function Ul(t,e,n){X.call(this,t??"canceled",X.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits(Ul,X,{__CANCEL__:!0});function bE(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ZR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function KR(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,l;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=r[i];l||(l=c),n[s]=a,r[s]=c;let f=i,d=0;for(;f!==s;)d+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-l<e)return;const p=u&&c-u;return p?Math.round(d*1e3/p):void 0}}function GR(t,e){let n=0,r=1e3/e,s,i;const l=(c,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?l(c,u):(s=c,i||(i=setTimeout(()=>{i=null,l(s)},r-f)))},()=>s&&l(s)]}const Nu=(t,e,n=3)=>{let r=0;const s=KR(50,250);return GR(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,a=l-r,c=s(a),u=l<=o;r=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&u?(o-l)/c:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},Ax=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Cx=t=>(...e)=>C.asap(()=>t(...e)),YR=Nt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Nt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,QR=Nt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const l=[t+"="+encodeURIComponent(e)];C.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),C.isString(r)&&l.push("path="+r),C.isString(s)&&l.push("domain="+s),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XR(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vE(t,e,n){let r=!JR(e);return t&&(r||n==!1)?XR(t,e):e}const Ox=t=>t instanceof qt?{...t}:t;function ui(t,e){e=e||{};const n={};function r(c,u,f,d){return C.isPlainObject(c)&&C.isPlainObject(u)?C.merge.call({caseless:d},c,u):C.isPlainObject(u)?C.merge({},u):C.isArray(u)?u.slice():u}function s(c,u,f,d){if(C.isUndefined(u)){if(!C.isUndefined(c))return r(void 0,c,f,d)}else return r(c,u,f,d)}function i(c,u){if(!C.isUndefined(u))return r(void 0,u)}function l(c,u){if(C.isUndefined(u)){if(!C.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const a={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,u,f)=>s(Ox(c),Ox(u),f,!0)};return C.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=a[u]||s,d=f(t[u],e[u],u);C.isUndefined(d)&&f!==o||(n[u]=d)}),n}const SE=t=>{const e=ui({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=e;e.headers=l=qt.from(l),e.url=mE(vE(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let a;if(C.isFormData(n)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((a=l.getContentType())!==!1){const[c,...u]=a?a.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Nt.hasStandardBrowserEnv&&(r&&C.isFunction(r)&&(r=r(e)),r||r!==!1&&YR(e.url))){const c=s&&i&&QR.read(i);c&&l.set(s,c)}return e},WR=typeof XMLHttpRequest<"u",eD=WR&&function(t){return new Promise(function(n,r){const s=SE(t);let i=s.data;const l=qt.from(s.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:c}=s,u,f,d,p,m;function g(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function y(){if(!b)return;const v=qt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:t,request:b};bE(function(A){n(A),g()},function(A){r(A),g()},k),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new X("Request aborted",X.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new X("Network Error",X.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||gE;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new X(S,k.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&C.forEach(l.toJSON(),function(S,k){b.setRequestHeader(k,S)}),C.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),o&&o!=="json"&&(b.responseType=s.responseType),c&&([d,m]=Nu(c,!0),b.addEventListener("progress",d)),a&&b.upload&&([f,p]=Nu(a),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=v=>{b&&(r(!v||v.type?new Ul(null,t,b):v),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const x=ZR(s.url);if(x&&Nt.protocols.indexOf(x)===-1){r(new X("Unsupported protocol "+x+":",X.ERR_BAD_REQUEST,t));return}b.send(i||null)})},tD=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof X?u:new Ul(u instanceof Error?u.message:u))}};let l=e&&setTimeout(()=>{l=null,i(new X(`timeout ${e} of ms exceeded`,X.ETIMEDOUT))},e);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=()=>C.asap(o),a}},nD=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},rD=async function*(t,e){for await(const n of sD(t))yield*nD(n,e)},sD=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Mx=(t,e,n,r)=>{const s=rD(t,e);let i=0,l,o=a=>{l||(l=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:c,value:u}=await s.next();if(c){o(),a.close();return}let f=u.byteLength;if(n){let d=i+=f;n(d)}a.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(a){return o(a),s.return()}},{highWaterMark:2})},Ff=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wE=Ff&&typeof ReadableStream=="function",iD=Ff&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),EE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},lD=wE&&EE(()=>{let t=!1;const e=new Request(Nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Rx=64*1024,Lp=wE&&EE(()=>C.isReadableStream(new Response("").body)),ku={stream:Lp&&(t=>t.body)};Ff&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ku[e]&&(ku[e]=C.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new X(`Response type '${e}' is not supported`,X.ERR_NOT_SUPPORT,r)})})})(new Response);const oD=async t=>{if(t==null)return 0;if(C.isBlob(t))return t.size;if(C.isSpecCompliantForm(t))return(await new Request(Nt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(C.isArrayBufferView(t)||C.isArrayBuffer(t))return t.byteLength;if(C.isURLSearchParams(t)&&(t=t+""),C.isString(t))return(await iD(t)).byteLength},aD=async(t,e)=>{const n=C.toFiniteNumber(t.getContentLength());return n??oD(e)},cD=Ff&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:l,onDownloadProgress:o,onUploadProgress:a,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=SE(t);c=c?(c+"").toLowerCase():"text";let p=tD([s,i&&i.toAbortSignal()],l),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(a&&lD&&n!=="get"&&n!=="head"&&(b=await aD(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(C.isFormData(r)&&(N=k.headers.get("content-type"))&&u.setContentType(N),k.body){const[A,O]=Ax(b,Nu(Cx(a)));r=Mx(k.body,Rx,A,O)}}C.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;m=new Request(e,{...d,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let x=await fetch(m,d);const v=Lp&&(c==="stream"||c==="response");if(Lp&&(o||v&&g)){const k={};["status","statusText","headers"].forEach(_=>{k[_]=x[_]});const N=C.toFiniteNumber(x.headers.get("content-length")),[A,O]=o&&Ax(N,Nu(Cx(o),!0))||[];x=new Response(Mx(x.body,Rx,A,()=>{O&&O(),g&&g()}),k)}c=c||"text";let S=await ku[C.findKey(ku,c)||"text"](x,t);return!v&&g&&g(),await new Promise((k,N)=>{bE(k,N,{data:S,headers:qt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,t,m),{cause:y.cause||y}):X.from(y,y&&y.code,t,m)}}),Bp={http:NR,xhr:eD,fetch:cD};C.forEach(Bp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Dx=t=>`- ${t}`,uD=t=>C.isFunction(t)||t===null||t===!1,NE={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let l;if(r=n,!uD(n)&&(r=Bp[(l=String(n)).toLowerCase()],r===void 0))throw new X(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+i]=r}if(!r){const i=Object.entries(s).map(([o,a])=>`adapter ${o} `+(a===!1?"is not supported by the environment":"is not available in the build"));let l=e?i.length>1?`since :
`+i.map(Dx).join(`
`):" "+Dx(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Bp};function rh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ul(null,t)}function jx(t){return rh(t),t.headers=qt.from(t.headers),t.data=nh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),NE.getAdapter(t.adapter||La.adapter)(t).then(function(r){return rh(t),r.data=nh.call(t,t.transformResponse,r),r.headers=qt.from(r.headers),r},function(r){return xE(r)||(rh(t),r&&r.response&&(r.response.data=nh.call(t,t.transformResponse,r.response),r.response.headers=qt.from(r.response.headers))),Promise.reject(r)})}const kE="1.10.0",Zf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _x={};Zf.transitional=function(e,n,r){function s(i,l){return"[Axios v"+kE+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(e===!1)throw new X(s(l," has been removed"+(n?" in "+n:"")),X.ERR_DEPRECATED);return n&&!_x[l]&&(_x[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,l,o):!0}};Zf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fD(t,e,n){if(typeof t!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],l=e[i];if(l){const o=t[i],a=o===void 0||l(o,i,t);if(a!==!0)throw new X("option "+i+" must be "+a,X.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new X("Unknown option "+i,X.ERR_BAD_OPTION)}}const $c={assertOptions:fD,validators:Zf},Bn=$c.validators;let ei=class{constructor(e){this.defaults=e||{},this.interceptors={request:new kx,response:new kx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ui(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&$c.assertOptions(r,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),s!=null&&(C.isFunction(s)?n.paramsSerializer={serialize:s}:$c.assertOptions(s,{encode:Bn.function,serialize:Bn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$c.assertOptions(n,{baseUrl:Bn.spelling("baseURL"),withXsrfToken:Bn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&C.merge(i.common,i[n.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=qt.concat(l,i);const o=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(a=a&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,d;if(!a){const m=[jx.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),d=m.length,u=Promise.resolve(n);f<d;)u=u.then(m[f++],m[f++]);return u}d=o.length;let p=n;for(f=0;f<d;){const m=o[f++],g=o[f++];try{p=m(p)}catch(b){g.call(this,b);break}}try{u=jx.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=ui(this.defaults,e);const n=vE(e.baseURL,e.url,e.allowAbsoluteUrls);return mE(n,e.params,e.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(e){ei.prototype[e]=function(n,r){return this.request(ui(r||{},{method:e,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(r){return function(i,l,o){return this.request(ui(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}ei.prototype[e]=n(),ei.prototype[e+"Form"]=n(!0)});let dD=class TE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},e(function(i,l,o){r.reason||(r.reason=new Ul(i,l,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new TE(function(s){e=s}),cancel:e}}};function hD(t){return function(n){return t.apply(null,n)}}function pD(t){return C.isObject(t)&&t.isAxiosError===!0}const Up={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Up).forEach(([t,e])=>{Up[e]=t});function AE(t){const e=new ei(t),n=rE(ei.prototype.request,e);return C.extend(n,ei.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return AE(ui(t,s))},n}const ze=AE(La);ze.Axios=ei;ze.CanceledError=Ul;ze.CancelToken=dD;ze.isCancel=xE;ze.VERSION=kE;ze.toFormData=qf;ze.AxiosError=X;ze.Cancel=ze.CanceledError;ze.all=function(e){return Promise.all(e)};ze.spread=hD;ze.isAxiosError=pD;ze.mergeConfig=ui;ze.AxiosHeaders=qt;ze.formToJSON=t=>yE(C.isHTMLForm(t)?new FormData(t):t);ze.getAdapter=NE.getAdapter;ze.HttpStatusCode=Up;ze.default=ze;const{Axios:V8,AxiosError:I8,CanceledError:q8,isCancel:F8,CancelToken:Z8,VERSION:K8,all:G8,Cancel:Y8,isAxiosError:Q8,spread:J8,toFormData:X8,AxiosHeaders:W8,HttpStatusCode:eH,formToJSON:tH,getAdapter:nH,mergeConfig:rH}=ze,mD="http://localhost:3001",$e=ze.create({baseURL:mD,headers:{"Content-Type":"application/json"}}),gD={user:null,token:localStorage.getItem("token"),loading:!0},yD=(t,e)=>{switch(e.type){case"SET_LOADING":return{...t,loading:e.payload};case"LOGIN_SUCCESS":return localStorage.setItem("token",e.payload.token),{...t,user:e.payload.user,token:e.payload.token,loading:!1};case"LOGOUT":return localStorage.removeItem("token"),{...t,user:null,token:null,loading:!1};case"SET_USER":return{...t,user:e.payload,loading:!1};default:return t}},CE=w.createContext(void 0),As=()=>{const t=w.useContext(CE);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},xD=({children:t})=>{const[e,n]=w.useReducer(yD,gD);w.useEffect(()=>{const o=$e.interceptors.request.use(c=>(e.token&&(c.headers.Authorization=`Bearer ${e.token}`),c),c=>Promise.reject(c)),a=$e.interceptors.response.use(c=>c,c=>{var u;return((u=c.response)==null?void 0:u.status)===401&&(n({type:"LOGOUT"}),Ye.error("Session expired. Please login again.")),Promise.reject(c)});return()=>{$e.interceptors.request.eject(o),$e.interceptors.response.eject(a)}},[e.token]),w.useEffect(()=>{(async()=>{if(e.token)try{const a=await $e.get("/api/auth/me");a.data.success?n({type:"SET_USER",payload:a.data.data.user}):n({type:"LOGOUT"})}catch{n({type:"LOGOUT"})}else n({type:"SET_LOADING",payload:!1})})()},[e.token]);const r=async(o,a)=>{var c,u,f;try{n({type:"SET_LOADING",payload:!0});const d=await $e.post("/api/auth/login",{email:o,password:a});d.data.success&&(n({type:"LOGIN_SUCCESS",payload:{user:d.data.data.user,token:d.data.data.token}}),Ye.success("Login successful!"))}catch(d){n({type:"SET_LOADING",payload:!1});const p=((f=(u=(c=d.response)==null?void 0:c.data)==null?void 0:u.error)==null?void 0:f.message)||"Login failed";throw Ye.error(p),d}},s=async(o,a,c)=>{var u,f,d;try{n({type:"SET_LOADING",payload:!0});const p=await $e.post("/api/auth/register",{username:o,email:a,password:c});p.data.success&&(n({type:"LOGIN_SUCCESS",payload:{user:p.data.data.user,token:p.data.data.token}}),Ye.success("Registration successful!"))}catch(p){n({type:"SET_LOADING",payload:!1});const m=((d=(f=(u=p.response)==null?void 0:u.data)==null?void 0:f.error)==null?void 0:d.message)||"Registration failed";throw Ye.error(m),p}},i=()=>{n({type:"LOGOUT"}),Ye.success("Logged out successfully")},l={user:e.user,token:e.token,loading:e.loading,login:r,register:s,logout:i};return h.jsx(CE.Provider,{value:l,children:t})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),zx=t=>{const e=vD(t);return e.charAt(0).toUpperCase()+e.slice(1)},OE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),SD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...o},a)=>w.createElement("svg",{ref:a,...wD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:OE("lucide",s),...!i&&!SD(o)&&{"aria-hidden":"true"},...o},[...l.map(([c,u])=>w.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(ED,{ref:i,iconNode:e,className:OE(`lucide-${bD(zx(t))}`,`lucide-${t}`,r),...s}));return n.displayName=zx(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],kD=se("align-center",ND);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],AD=se("align-left",TD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],OD=se("align-right",CD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Lx=se("arrow-down",MD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Tu=se("arrow-up",RD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ME=se("bell",DD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],_D=se("bold",jD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LD=se("calendar",zD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],UD=se("chart-column",BD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bx=se("check",$D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PD=se("chevron-down",HD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dg=se("chevron-left",VD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jg=se("chevron-right",ID);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FD=se("circle-check-big",qD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KD=se("circle-question-mark",ZD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],_g=se("ellipsis-vertical",GD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$p=se("eye-off",YD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mr=se("eye",QD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],XD=se("image",JD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],ej=se("italic",WD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ux=se("layers",tj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rj=se("link",nj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],ij=se("list-ordered",sj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],oj=se("list",lj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RE=se("log-out",aj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],uj=se("menu",cj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],fi=se("message-circle",fj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Au=se("message-square",dj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pj=se("plus",hj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kf=se("search",mj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yj=se("square-pen",gj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],bj=se("strikethrough",xj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Sj=se("thumbs-up",vj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zg=se("trash-2",wj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Nj=se("user-plus",Ej);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ta=se("user",kj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hp=se("users",Tj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DE=se("x",Aj),Cj=({onClose:t})=>{const{user:e}=As(),[n,r]=w.useState([]),[s,i]=w.useState(0),[l,o]=w.useState(!0);w.useEffect(()=>{(async()=>{if(e)try{const d=await ze.get("/api/notifications?limit=10");d.data.success&&(r(d.data.data.notifications),i(d.data.data.unreadCount))}catch(d){console.error("Failed to fetch notifications:",d)}finally{o(!1)}})()},[e]);const a=async f=>{try{await ze.put(`/api/notifications/${f}/read`),r(d=>d.map(p=>p.id===f?{...p,is_read:!0}:p)),i(d=>Math.max(0,d-1))}catch(d){console.error("Failed to mark notification as read:",d)}},c=async()=>{try{await ze.put("/api/notifications/read-all"),r(f=>f.map(d=>({...d,is_read:!0}))),i(0)}catch(f){console.error("Failed to mark all notifications as read:",f)}},u=f=>{const d=new Date(f),m=new Date().getTime()-d.getTime(),g=Math.floor(m/6e4),b=Math.floor(m/36e5),y=Math.floor(m/864e5);return g<1?"Just now":g<60?`${g}m ago`:b<24?`${b}h ago`:`${y}d ago`};return h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ME,{className:"h-5 w-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),s>0&&h.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:s})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[s>0&&h.jsx("button",{onClick:c,className:"text-sm text-primary-600 hover:text-primary-700",children:"Mark all read"}),h.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:h.jsx(DE,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?h.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):n.length===0?h.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):n.map(f=>h.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${f.is_read?"":"bg-blue-50"}`,onClick:()=>{f.is_read||a(f.id),t()},children:h.jsx(Re,{to:f.link,className:"block",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f.title}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.message}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:u(f.created_at)})]}),!f.is_read&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1 ml-2"})]})})},f.id))}),n.length>0&&h.jsx("div",{className:"p-4 border-t border-gray-200",children:h.jsx(Re,{to:"/notifications",className:"block text-center text-sm text-primary-600 hover:text-primary-700",onClick:t,children:"View all notifications"})})]})},Oj=()=>{const{user:t,logout:e}=As(),n=jr(),[r,s]=w.useState(!1),i=()=>{e(),n("/")};return h.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsx(Re,{to:"/",className:"text-2xl font-bold text-primary-600",children:"StackIt"}),h.jsx("div",{className:"flex items-center space-x-4",children:t?h.jsxs(h.Fragment,{children:[h.jsxs(Re,{to:"/ask",className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[h.jsx(pj,{className:"h-4 w-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Ask Question"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>s(!r),className:"relative p-2 text-gray-600 hover:text-gray-900 transition-colors",children:h.jsx(ME,{className:"h-6 w-6"})}),r&&h.jsx(Cj,{onClose:()=>s(!1)})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[t.role==="admin"&&h.jsx(Re,{to:"/admin",className:"px-3 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",title:"Admin Panel",children:"Admin"}),h.jsxs(Re,{to:`/users/${t.username}`,className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 transition-colors",children:[h.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:h.jsx(ta,{className:"h-5 w-5 text-white"})}),h.jsx("span",{className:"hidden sm:inline font-medium",children:t.username})]}),h.jsx("button",{onClick:i,className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Logout",children:h.jsx(RE,{className:"h-5 w-5"})})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Re,{to:"/login",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Login"}),h.jsx(Re,{to:"/register",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Sign Up"})]})})]})})})},Mj=()=>{const{user:t,logout:e}=As(),n=jr(),[r,s]=w.useState(!1);w.useEffect(()=>{(!t||t.role!=="admin")&&(pe.error("Admin access required"),n("/"))},[t,n]);const i=()=>{e(),n("/")},l=[{path:"/admin",icon:UD,label:"Dashboard",exact:!0},{path:"/admin/users",icon:Hp,label:"Users"},{path:"/admin/questions",icon:Au,label:"Questions"},{path:"/admin/answers",icon:fi,label:"Answers"}];return!t||t.role!=="admin"?null:h.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[h.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0`,children:[h.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[h.jsxs(Re,{to:"/",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[h.jsx(Ux,{className:"h-6 w-6"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"StackIt"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),h.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:h.jsx(DE,{className:"h-5 w-5"})})]}),h.jsx("nav",{className:"mt-5 px-2",children:h.jsx("div",{className:"space-y-1",children:l.map(o=>h.jsxs(Jw,{to:o.path,end:o.exact,className:({isActive:a})=>`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${a?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>s(!1),children:[h.jsx(o.icon,{className:"mr-3 h-5 w-5"}),o.label]},o.path))})}),h.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm font-medium",children:t.username[0].toUpperCase()})})}),h.jsxs("div",{className:"ml-3 flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.username}),h.jsx("p",{className:"text-xs text-gray-500",children:"Admin"})]}),h.jsx("button",{onClick:i,className:"ml-3 p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Logout",children:h.jsx(RE,{className:"h-4 w-4"})})]})})]}),r&&h.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>s(!1)}),h.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[h.jsxs("div",{className:"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white shadow-sm border-b border-gray-200",children:[h.jsx("button",{onClick:()=>s(!0),className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",children:h.jsx(uj,{className:"h-6 w-6"})}),h.jsx("div",{className:"flex-1 px-4 flex justify-between items-center",children:h.jsx("div",{className:"flex-1",children:h.jsxs(Re,{to:"/",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[h.jsx(Ux,{className:"h-6 w-6"}),h.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:leading-9 sm:truncate",children:"StackIt Admin"})]})})})]}),h.jsx("main",{className:"flex-1 overflow-auto",children:h.jsx("div",{className:"py-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx(hO,{})})})})]})]})},Rj=()=>{const{user:t}=As(),e=jr(),[n,r]=IO(),[s,i]=w.useState([]),[l,o]=w.useState(!0),[a,c]=w.useState("newest"),[u,f]=w.useState(n.get("search")||""),[d,p]=w.useState(1),[m,g]=w.useState(1);w.useEffect(()=>{b()},[a,d,n]);const b=async()=>{try{o(!0);const N=new URLSearchParams({page:d.toString(),sort:a,limit:"5"}),A=n.get("search");A&&N.append("search",A);const O=n.get("tag");O&&N.append("tag",O);const _=await $e.get(`/api/questions?${N}`);_.data.success&&(i(_.data.data.questions),g(_.data.data.pagination.total))}catch(N){console.error("Failed to fetch questions:",N)}finally{o(!1)}},y=N=>{c(N),p(1)},x=N=>{N.preventDefault(),u.trim()?r({search:u.trim()}):r({}),p(1)},v=()=>{if(!t){Ye.error("Please login to ask a question"),e("/login");return}e("/ask")},S=N=>{const A=new Date(N),_=new Date().getTime()-A.getTime(),$=Math.floor(_/6e4),ie=Math.floor(_/36e5),K=Math.floor(_/864e5);return $<1?"Just now":$<60?`${$} min ago`:ie<24?`${ie} hour${ie>1?"s":""} ago`:`${K} day${K>1?"s":""} ago`},k=()=>{const N=[],A=Math.max(1,d-2),O=Math.min(m,d+2);A>1&&(N.push(h.jsx("button",{onClick:()=>p(1),className:"px-2 sm:px-3 py-2 text-xs sm:text-sm border border-gray-300 hover:bg-gray-50",children:"1"},1)),A>2&&N.push(h.jsx("span",{className:"px-1 sm:px-3 py-2 text-xs sm:text-sm",children:"..."},"start-ellipsis")));for(let _=A;_<=O;_++)N.push(h.jsx("button",{onClick:()=>p(_),className:`px-2 sm:px-3 py-2 text-xs sm:text-sm border ${_===d?"border-primary-600 bg-primary-600 text-white":"border-gray-300 hover:bg-gray-50"}`,children:_},_));return O<m&&(O<m-1&&N.push(h.jsx("span",{className:"px-1 sm:px-3 py-2 text-xs sm:text-sm",children:"..."},"end-ellipsis")),N.push(h.jsx("button",{onClick:()=>p(m),className:"px-2 sm:px-3 py-2 text-xs sm:text-sm border border-gray-300 hover:bg-gray-50",children:m},m))),h.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-8 px-4",children:[h.jsxs("button",{onClick:()=>p(Math.max(1,d-1)),disabled:d===1,className:"px-2 sm:px-3 py-2 text-xs sm:text-sm border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"hidden sm:inline",children:"Previous"}),h.jsx("span",{className:"sm:hidden",children:""})]}),h.jsx("div",{className:"flex items-center space-x-1 overflow-x-auto",children:N}),h.jsxs("button",{onClick:()=>p(Math.min(m,d+1)),disabled:d===m,className:"px-2 sm:px-3 py-2 text-xs sm:text-sm border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"hidden sm:inline",children:"Next"}),h.jsx("span",{className:"sm:hidden",children:""})]})]})};return h.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 space-y-4 lg:space-y-0",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[h.jsx("button",{onClick:v,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors w-full sm:w-auto",children:"Ask New Question"}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:a,onChange:N=>y(N.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none w-full sm:w-auto",children:[h.jsx("option",{value:"newest",children:"Newest"}),h.jsx("option",{value:"unanswered",children:"Unanswered"}),h.jsx("option",{value:"votes",children:"Most Voted"}),h.jsx("option",{value:"views",children:"Most Viewed"}),h.jsx("option",{value:"oldest",children:"Oldest"})]}),h.jsx(PD,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),h.jsx("div",{className:"flex-1 max-w-md lg:max-w-lg",children:h.jsx("form",{onSubmit:x,children:h.jsxs("div",{className:"relative",children:[h.jsx(Kf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"text",placeholder:"Search questions...",value:u,onChange:N=>f(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]})})})]}),l?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading questions..."})]}):s.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-gray-600",children:"No questions found."}),h.jsx("button",{onClick:v,className:"inline-block mt-4 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Ask the first question"})]}):h.jsx("div",{className:"space-y-4",children:s.map(N=>h.jsx("div",{className:"card p-4 sm:p-6 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[h.jsxs("div",{className:"hidden sm:flex sm:flex-col sm:items-center sm:space-y-2 text-sm text-gray-600 min-w-[60px]",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Tu,{className:"h-4 w-4"}),h.jsx("span",{children:N.votes})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(fi,{className:"h-4 w-4"}),h.jsx("span",{children:N.answer_count})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Mr,{className:"h-4 w-4"}),h.jsx("span",{children:N.views})]})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx(Re,{to:`/questions/${N.id}`,className:"block hover:text-primary-600 transition-colors",children:h.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:N.title})}),h.jsxs("p",{className:"text-gray-600 mb-3 text-sm sm:text-base line-clamp-2",children:[N.description.replace(/<[^>]*>/g,"").substring(0,200),"..."]}),h.jsxs("div",{className:"flex sm:hidden items-center space-x-4 text-xs text-gray-600 mb-3",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Tu,{className:"h-3 w-3"}),h.jsx("span",{children:N.votes})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(fi,{className:"h-3 w-3"}),h.jsxs("span",{children:[N.answer_count," ans"]})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Mr,{className:"h-3 w-3"}),h.jsx("span",{children:N.views})]})]}),h.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mb-3",children:N.tags.map(A=>h.jsx("button",{onClick:()=>r({tag:A.name}),className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded hover:bg-gray-200 transition-colors",style:{backgroundColor:`${A.color}20`,color:A.color},children:A.name},A.name))}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs sm:text-sm text-gray-500 space-y-1 sm:space-y-0",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gray-300 rounded-full flex items-center justify-center",children:h.jsx(ta,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"})}),h.jsx(Re,{to:`/users/${N.author}`,className:"hover:text-primary-600 transition-colors",children:N.author})]}),h.jsx("span",{children:S(N.created_at)})]})]})]})},N.id))}),!l&&s.length>0&&m>1&&h.jsx(k,{})]})};function gt(t){this.content=t}gt.prototype={constructor:gt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new gt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new gt(n)},addToStart:function(t,e){return new gt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new gt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new gt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=gt.from(t),t.size?new gt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=gt.from(t),t.size?new gt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=gt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};gt.from=function(t){if(t instanceof gt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new gt(e)};function jE(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let l=0;s.text[l]==i.text[l];l++)n++;return n}if(s.content.size||i.content.size){let l=jE(s.content,i.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function _E(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let l=t.child(--s),o=e.child(--i),a=l.nodeSize;if(l==o){n-=a,r-=a;continue}if(!l.sameMarkup(o))return{a:n,b:r};if(l.isText&&l.text!=o.text){let c=0,u=Math.min(l.text.length,o.text.length);for(;c<u&&l.text[l.text.length-c-1]==o.text[o.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(l.content.size||o.content.size){let c=_E(l.content,o.content,n-1,r-1);if(c)return c}n-=a,r-=a}}class j{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let l=0,o=0;o<n;l++){let a=this.content[l],c=o+a.nodeSize;if(c>e&&r(a,s+o,i||null,l)!==!1&&a.content.size){let u=o+1;a.nodesBetween(Math.max(0,e-u),Math.min(a.content.size,n-u),r,s+u)}o=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",l=!0;return this.nodesBetween(e,n,(o,a)=>{let c=o.isText?o.text.slice(Math.max(e,a)-a,n-a):o.isLeaf?s?typeof s=="function"?s(o):s:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&c||o.isTextblock)&&r&&(l?l=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new j(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,l=0;l<n;i++){let o=this.content[i],a=l+o.nodeSize;a>e&&((l<e||a>n)&&(o.isText?o=o.cut(Math.max(0,e-l),Math.min(o.text.length,n-l)):o=o.cut(Math.max(0,e-l-1),Math.min(o.content.size,n-l-1))),r.push(o),s+=o.nodeSize),l=a}return new j(r,s)}cutByIndex(e,n){return e==n?j.empty:e==0&&n==this.content.length?this:new j(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new j(s,i)}addToStart(e){return new j([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new j(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return jE(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return _E(this,e,n,r)}findIndex(e){if(e==0)return lc(0,e);if(e==this.size)return lc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?lc(n+1,i):lc(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return j.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new j(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return j.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new j(n||e,r)}static from(e){if(!e)return j.empty;if(e instanceof j)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new j([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}j.empty=new j([],0);const sh={index:0,offset:0};function lc(t,e){return sh.index=t,sh.offset=e,sh}function Cu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Cu(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Cu(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let we=class Pp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Cu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Pp.none;if(e instanceof Pp)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};we.none=[];class Ou extends Error{}class H{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=LE(this.content,e+this.openStart,n);return r&&new H(r,this.openStart,this.openEnd)}removeBetween(e,n){return new H(zE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return H.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new H(j.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new H(e,r,s)}}H.empty=new H(j.empty,0,0);function zE(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:l,offset:o}=t.findIndex(n);if(s==e||i.isText){if(o!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(zE(i.content,e-s-1,n-s-1)))}function LE(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),l=t.maybeChild(s);if(i==e||l.isText)return t.cut(0,e).append(n).append(t.cut(e));let o=LE(l.content,e-i-1,n);return o&&t.replaceChild(s,l.copy(o))}function Dj(t,e,n){if(n.openStart>t.depth)throw new Ou("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ou("Inconsistent open depths");return BE(t,e,n,0)}function BE(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let l=BE(t,e,n,r+1);return i.copy(i.content.replaceChild(s,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,o=l.content;return ni(l,o.cut(0,t.parentOffset).append(n.content).append(o.cut(e.parentOffset)))}else{let{start:l,end:o}=jj(n,t);return ni(i,$E(t,l,o,e,r))}else return ni(i,Mu(t,e,r))}function UE(t,e){if(!e.type.compatibleContent(t.type))throw new Ou("Cannot join "+e.type.name+" onto "+t.type.name)}function Vp(t,e,n){let r=t.node(n);return UE(r,e.node(n)),r}function ti(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function To(t,e,n,r){let s=(e||t).node(n),i=0,l=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(ti(t.nodeAfter,r),i++));for(let o=i;o<l;o++)ti(s.child(o),r);e&&e.depth==n&&e.textOffset&&ti(e.nodeBefore,r)}function ni(t,e){return t.type.checkContent(e),t.copy(e)}function $E(t,e,n,r,s){let i=t.depth>s&&Vp(t,e,s+1),l=r.depth>s&&Vp(n,r,s+1),o=[];return To(null,t,s,o),i&&l&&e.index(s)==n.index(s)?(UE(i,l),ti(ni(i,$E(t,e,n,r,s+1)),o)):(i&&ti(ni(i,Mu(t,e,s+1)),o),To(e,n,s,o),l&&ti(ni(l,Mu(n,r,s+1)),o)),To(r,null,s,o),new j(o)}function Mu(t,e,n){let r=[];if(To(null,t,n,r),t.depth>n){let s=Vp(t,e,n+1);ti(ni(s,Mu(t,e,n+1)),r)}return To(e,null,n,r),new j(r)}function jj(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(j.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class na{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return we.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let o=r;r=s,s=o}let i=r.marks;for(var l=0;l<i.length;l++)i[l].type.spec.inclusive===!1&&(!s||!i[l].isInSet(s.marks))&&(i=i[l--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ru(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let l=e;;){let{index:o,offset:a}=l.content.findIndex(i),c=i-a;if(r.push(l,o,s+a),!c||(l=l.child(o),l.isText))break;i=c-1,s+=a+1}return new na(n,r,i)}static resolveCached(e,n){let r=$x.get(e);if(r)for(let i=0;i<r.elts.length;i++){let l=r.elts[i];if(l.pos==n)return l}else $x.set(e,r=new _j);let s=r.elts[r.i]=na.resolve(e,n);return r.i=(r.i+1)%zj,s}}class _j{constructor(){this.elts=[],this.i=0}}const zj=12,$x=new WeakMap;class Ru{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Lj=Object.create(null);let ms=class Ip{constructor(e,n,r,s=we.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||j.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Cu(this.attrs,n||e.defaultAttrs||Lj)&&we.sameSet(this.marks,r||we.none)}copy(e=null){return e==this.content?this:new Ip(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ip(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return H.empty;let s=this.resolve(e),i=this.resolve(n),l=r?0:s.sharedDepth(n),o=s.start(l),c=s.node(l).content.cut(s.pos-o,i.pos-o);return new H(c,s.depth-l,i.depth-l)}replace(e,n,r){return Dj(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return na.resolveCached(this,e)}resolveNoCache(e){return na.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),HE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=j.empty,s=0,i=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,s,i),o=l&&l.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let a=s;a<i;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),l=i&&i.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=we.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!we.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=j.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};ms.prototype.text=void 0;class Du extends ms{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):HE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Du(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Du(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function HE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class di{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Bj(e,n);if(r.next==null)return di.empty;let s=PE(r);r.next&&r.err("Unexpected trailing text");let i=qj(Ij(s));return Fj(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(l,o){let a=l.matchFragment(e,r);if(a&&(!n||a.validEnd))return j.from(o.map(c=>c.createAndFill()));for(let c=0;c<l.next.length;c++){let{type:u,next:f}=l.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let d=i(f,o.concat(u));if(d)return d}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let l=[];for(let o=s;o.type;o=o.via)l.push(o.type);return l.reverse()}for(let l=0;l<i.next.length;l++){let{type:o,next:a}=i.next[l];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!s.type||a.validEnd)&&(r.push({match:o.contentMatch,type:o,via:s}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)i+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return i}).join(`
`)}}di.empty=new di(!0);class Bj{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function PE(t){let e=[];do e.push(Uj(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Uj(t){let e=[];do e.push($j(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function $j(t){let e=Vj(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Hj(t,e);else break;return e}function Hx(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Hj(t,e){let n=Hx(t),r=n;return t.eat(",")&&(t.next!="}"?r=Hx(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Pj(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let l=n[i];l.isInGroup(e)&&s.push(l)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Vj(t){if(t.eat("(")){let e=PE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Pj(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ij(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(l,o,a){let c={term:a,to:o};return e[l].push(c),c}function s(l,o){l.forEach(a=>a.to=o)}function i(l,o){if(l.type=="choice")return l.exprs.reduce((a,c)=>a.concat(i(c,o)),[]);if(l.type=="seq")for(let a=0;;a++){let c=i(l.exprs[a],o);if(a==l.exprs.length-1)return c;s(c,o=n())}else if(l.type=="star"){let a=n();return r(o,a),s(i(l.expr,a),a),[r(a)]}else if(l.type=="plus"){let a=n();return s(i(l.expr,o),a),s(i(l.expr,a),a),[r(a)]}else{if(l.type=="opt")return[r(o)].concat(i(l.expr,o));if(l.type=="range"){let a=o;for(let c=0;c<l.min;c++){let u=n();s(i(l.expr,a),u),a=u}if(l.max==-1)s(i(l.expr,a),a);else for(let c=l.min;c<l.max;c++){let u=n();r(a,u),s(i(l.expr,a),u),a=u}return[r(a)]}else{if(l.type=="name")return[r(o,void 0,l.value)];throw new Error("Unknown expr type")}}}}function VE(t,e){return e-t}function Px(t,e){let n=[];return r(e),n.sort(VE);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let l=0;l<i.length;l++){let{term:o,to:a}=i[l];!o&&n.indexOf(a)==-1&&r(a)}}}function qj(t){let e=Object.create(null);return n(Px(t,0));function n(r){let s=[];r.forEach(l=>{t[l].forEach(({term:o,to:a})=>{if(!o)return;let c;for(let u=0;u<s.length;u++)s[u][0]==o&&(c=s[u][1]);Px(t,a).forEach(u=>{c||s.push([o,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new di(r.indexOf(t.length-1)>-1);for(let l=0;l<s.length;l++){let o=s[l][1].sort(VE);i.next.push({type:s[l][0],next:e[o.join(",")]||n(o)})}return i}}function Fj(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,l=[];for(let o=0;o<s.next.length;o++){let{type:a,next:c}=s.next[o];l.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function IE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function qE(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function FE(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function ZE(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Kj(t,r,e[r]);return n}let Vx=class KE{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=ZE(e,r.attrs),this.defaultAttrs=IE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==di.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ms(this,this.computeAttrs(e),j.from(n),we.setFrom(r))}createChecked(e=null,n,r){return n=j.from(n),this.checkContent(n),new ms(this,this.computeAttrs(e),n,we.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=j.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(j.empty,!0);return i?new ms(this,e,n.append(i),we.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){FE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:we.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,l)=>r[i]=new KE(i,n,l));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Zj(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class Kj{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Zj(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Gf{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=ZE(e,s.attrs),this.excluded=null;let i=IE(this.attrs);this.instance=i?new we(this,i):null}create(e=null){return!e&&this.instance?this.instance:new we(this,qE(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,l)=>r[i]=new Gf(i,s++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){FE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class GE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=gt.from(e.nodes),n.marks=gt.from(e.marks||{}),this.nodes=Vx.compile(this.spec.nodes,this),this.marks=Gf.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],l=i.spec.content||"",o=i.spec.marks;if(i.contentMatch=r[l]||(r[l]=di.parse(l,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=o=="_"?null:o?Ix(this,o.split(" ")):o==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],l=i.spec.excludes;i.excluded=l==null?[i]:l==""?[]:Ix(this,l.split(" "))}this.nodeFromJSON=s=>ms.fromJSON(this,s),this.markFromJSON=s=>we.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Vx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Du(r,r.defaultAttrs,e,we.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Ix(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],l=i;if(i)n.push(i);else for(let o in t.marks){let a=t.marks[o];(s=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(s)>-1)&&n.push(l=a)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Gj(t){return t.tag!=null}function Yj(t){return t.style!=null}class gs{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(Gj(s))this.tags.push(s);else if(Yj(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Fx(this,n,!1);return r.addAll(e,we.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Fx(this,n,!0);return r.addAll(e,we.none,n.from,n.to),H.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Xj(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let l=this.styles[i],o=l.style;if(!(o.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=n))){if(l.getAttrs){let a=l.getAttrs(n);if(a===!1)continue;l.attrs=a||void 0}return l}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let o=n[l];if((o.priority==null?50:o.priority)<i)break}n.splice(l,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Zx(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Zx(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new gs(e,gs.schemaRules(e)))}}const YE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Qj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},QE={ol:!0,ul:!0},ra=1,qp=2,Ao=4;function qx(t,e,n){return e!=null?(e?ra:0)|(e==="full"?qp:0):t&&t.whitespace=="pre"?ra|qp:n&~Ao}class oc{constructor(e,n,r,s,i,l){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=l,this.content=[],this.activeMarks=we.none,this.match=i||(l&Ao?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(j.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ra)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=j.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!YE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Fx{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,l=qx(null,n.preserveWhitespace,0)|(r?Ao:0);s?i=new oc(s.type,s.attrs,we.none,!0,n.topMatch||s.type.contentMatch,l):r?i=new oc(null,null,we.none,!0,null,l):i=new oc(e.schema.topNodeType,null,we.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&qp?"full":this.localPreserveWS||(s.options&ra)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],o=e.previousSibling;(!l||o&&o.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),o;QE.hasOwnProperty(l)&&this.parser.normalizeLists&&Jj(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));e:if(a?a.ignore:Qj.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let c,u=this.needsBlock;if(YE.hasOwnProperty(l))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=a&&a.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,a,c,a.consuming===!1?o:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],l=r.getPropertyValue(i);if(l)for(let o=void 0;;){let a=this.parser.matchStyle(i,l,this,o);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(c=>!a.clearMark(c)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)o=a;else break}}return n}addElementByRule(e,n,r,s){let i,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let a=this.enter(l,n.attrs||null,r,n.preserveWhitespace);a&&(i=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let o=this.top;if(l&&l.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r,!1));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}i&&this.sync(o)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let l=r?e.childNodes[r]:e.firstChild,o=s==null?null:e.childNodes[s];l!=o;l=l.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(l,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let l=this.open,o=0;l>=0;l--){let a=this.nodes[l],c=a.findWrapping(e);if(c&&(!s||s.length>c.length+o)&&(s=c,i=a,!c.length))break;if(a.solid){if(r)break;o+=2}}if(!s)return null;this.sync(i);for(let l=0;l<s.length;l++)n=this.enterInner(s[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let l=we.none;for(let o of s.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):Kx(o.type,e.type))&&(l=o.addToSet(l));return i.content.push(e.mark(l)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let o=qx(e,i,l.options);l.options&Ao&&l.content.length==0&&(o|=Ao);let a=we.none;return r=r.filter(c=>(l.type?l.type.allowsMarkType(c.type):Kx(c.type,e))?(a=c.addToSet(a),!1):!0),this.nodes.push(new oc(e,n,a,s,null,o)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ra)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),l=(o,a)=>{for(;o>=0;o--){let c=n[o];if(c==""){if(o==n.length-1||o==0)continue;for(;a>=i;a--)if(l(o-1,a))return!0;return!1}else{let u=a>0||a==0&&s?this.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;a--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Jj(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&QE.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Xj(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Zx(t){let e={};for(let n in t)e[n]=t[n];return e}function Kx(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],l=o=>{i.push(o);for(let a=0;a<o.edgeCount;a++){let{type:c,next:u}=o.edge(a);if(c==e||i.indexOf(u)<0&&l(u))return!0}};if(l(s.contentMatch))return!0}}class Ni{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=ih(n).createDocumentFragment());let s=r,i=[];return e.forEach(l=>{if(i.length||l.marks.length){let o=0,a=0;for(;o<i.length&&a<l.marks.length;){let c=l.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(i[o][0])||c.type.spec.spanning===!1)break;o++,a++}for(;o<i.length;)s=i.pop()[1];for(;a<l.marks.length;){let c=l.marks[a++],u=this.serializeMark(c,l.isInline,n);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Hc(ih(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Hc(ih(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Hc(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ni(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Gx(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Gx(e.marks)}}function Gx(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ih(t){return t.document||window.document}const Yx=new WeakMap;function Wj(t){let e=Yx.get(t);return e===void 0&&Yx.set(t,e=e_(t)),e}function e_(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Hc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Wj(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=s.indexOf(" ");l>0&&(n=s.slice(0,l),s=s.slice(l+1));let o,a=n?t.createElementNS(n,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let d=f.indexOf(" ");d>0?a.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):f=="style"&&a.style?a.style.cssText=c[f]:a.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:p,contentDOM:m}=Hc(t,d,n,r);if(a.appendChild(p),m){if(o)throw new RangeError("Multiple content holes");o=m}}}return{dom:a,contentDOM:o}}const JE=65535,XE=Math.pow(2,16);function t_(t,e){return t+e*XE}function Qx(t){return t&JE}function n_(t){return(t-(t&JE))/XE}const WE=1,eN=2,Pc=4,tN=8;class Fp{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&tN)>0}get deletedBefore(){return(this.delInfo&(WE|Pc))>0}get deletedAfter(){return(this.delInfo&(eN|Pc))>0}get deletedAcross(){return(this.delInfo&Pc)>0}}class Wt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Wt.empty)return Wt.empty}recover(e){let n=0,r=Qx(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+n_(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let a=this.ranges[o]-(this.inverted?s:0);if(a>e)break;let c=this.ranges[o+i],u=this.ranges[o+l],f=a+c;if(e<=f){let d=c?e==a?-1:e==f?1:n:n,p=a+s+(d<0?0:u);if(r)return p;let m=e==(n<0?a:f)?null:t_(o/3,e-a),g=e==a?eN:e==f?WE:Pc;return(n<0?e!=a:e!=f)&&(g|=tN),new Fp(p,g,m)}s+=u-c}return r?e+s:new Fp(e+s,0,null)}touches(e,n){let r=0,s=Qx(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let a=this.ranges[o]-(this.inverted?r:0);if(a>e)break;let c=this.ranges[o+i],u=a+c;if(e<=u&&o==s*3)return!0;r+=this.ranges[o+l]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let l=this.ranges[s],o=l-(this.inverted?i:0),a=l+(this.inverted?0:i),c=this.ranges[s+n],u=this.ranges[s+r];e(o,o+c,a,a+u),i+=u-c}}invert(){return new Wt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Wt.empty:new Wt(e<0?[0,-e,0]:[0,0,e])}}Wt.empty=new Wt([]);class sa{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new sa(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new sa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let l=this._maps[i],o=l.mapResult(e,n);if(o.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this._maps[a].recover(o.recover);continue}}s|=o.delInfo,e=o.pos}return r?e:new Fp(e,s,null)}}const lh=Object.create(null);class Ot{getMap(){return Wt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=lh[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in lh)throw new RangeError("Duplicate use of step JSON ID "+e);return lh[e]=n,n.prototype.jsonID=e,n}}class Xe{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Xe(e,null)}static fail(e){return new Xe(null,e)}static fromReplace(e,n,r,s){try{return Xe.ok(e.replace(n,r,s))}catch(i){if(i instanceof Ou)return Xe.fail(i.message);throw i}}}function Lg(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Lg(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return j.fromArray(r)}class rs extends Ot{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new H(Lg(n.content,(l,o)=>!l.isAtom||!o.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return Xe.fromReplace(e,this.from,this.to,i)}invert(){return new qn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new rs(n.pos,r.pos,this.mark)}merge(e){return e instanceof rs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new rs(n.from,n.to,e.markFromJSON(n.mark))}}Ot.jsonID("addMark",rs);class qn extends Ot{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new H(Lg(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Xe.fromReplace(e,this.from,this.to,r)}invert(){return new rs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new qn(n.pos,r.pos,this.mark)}merge(e){return e instanceof qn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qn(n.from,n.to,e.markFromJSON(n.mark))}}Ot.jsonID("removeMark",qn);class ss extends Ot{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Xe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Xe.fromReplace(e,this.pos,this.pos+1,new H(j.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new ss(this.pos,n.marks[s]);return new ss(this.pos,this.mark)}}return new hi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ss(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ss(n.pos,e.markFromJSON(n.mark))}}Ot.jsonID("addNodeMark",ss);class hi extends Ot{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Xe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Xe.fromReplace(e,this.pos,this.pos+1,new H(j.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ss(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new hi(n.pos,e.markFromJSON(n.mark))}}Ot.jsonID("removeNodeMark",hi);class at extends Ot{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Zp(e,this.from,this.to)?Xe.fail("Structure replace would overwrite content"):Xe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Wt([this.from,this.to-this.from,this.slice.size])}invert(e){return new at(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new at(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof at)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?H.empty:new H(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new at(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?H.empty:new H(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new at(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new at(n.from,n.to,H.fromJSON(e,n.slice),!!n.structure)}}Ot.jsonID("replace",at);class ft extends Ot{constructor(e,n,r,s,i,l,o=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=l,this.structure=o}apply(e){if(this.structure&&(Zp(e,this.from,this.gapFrom)||Zp(e,this.gapTo,this.to)))return Xe.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Xe.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Xe.fromReplace(e,this.from,this.to,r):Xe.fail("Content does not fit in gap")}getMap(){return new Wt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ft(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new ft(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ft(n.from,n.to,n.gapFrom,n.gapTo,H.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ot.jsonID("replaceAround",ft);function Zp(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let l=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function r_(t,e,n,r){let s=[],i=[],l,o;t.doc.nodesBetween(e,n,(a,c,u)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let d=Math.max(c,e),p=Math.min(c+a.nodeSize,n),m=r.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(m)||(l&&l.to==d&&l.mark.eq(f[g])?l.to=p:s.push(l=new qn(d,p,f[g])));o&&o.to==d?o.to=p:i.push(o=new rs(d,p,r))}}),s.forEach(a=>t.step(a)),i.forEach(a=>t.step(a))}function s_(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(l,o)=>{if(!l.isInline)return;i++;let a=null;if(r instanceof Gf){let c=l.marks,u;for(;u=r.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(l.marks)&&(a=[r]):a=l.marks;if(a&&a.length){let c=Math.min(o+l.nodeSize,n);for(let u=0;u<a.length;u++){let f=a[u],d;for(let p=0;p<s.length;p++){let m=s[p];m.step==i-1&&f.eq(s[p].style)&&(d=m)}d?(d.to=c,d.step=i):s.push({style:f,from:Math.max(o,e),to:c,step:i})}}}),s.forEach(l=>t.step(new qn(l.from,l.to,l.style)))}function Bg(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),l=[],o=e+1;for(let a=0;a<i.childCount;a++){let c=i.child(a),u=o+c.nodeSize,f=r.matchType(c.type);if(!f)l.push(new at(o,u,H.empty));else{r=f;for(let d=0;d<c.marks.length;d++)n.allowsMarkType(c.marks[d].type)||t.step(new qn(o,u,c.marks[d]));if(s&&c.isText&&n.whitespace!="pre"){let d,p=/\r?\n|\r/g,m;for(;d=p.exec(c.text);)m||(m=new H(j.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),l.push(new at(o+d.index,o+d.index+d[0].length,m))}}o=u}if(!r.validEnd){let a=r.fillBefore(j.empty,!0);t.replace(o,o,new H(a,0,0))}for(let a=l.length-1;a>=0;a--)t.step(l[a])}function i_(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function $l(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,l,n))return r;if(r==0||s.type.spec.isolating||!i_(s,i,l))break}return null}function l_(t,e,n){let{$from:r,$to:s,depth:i}=e,l=r.before(i+1),o=s.after(i+1),a=l,c=o,u=j.empty,f=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=j.from(r.node(m).copy(u)),f++):a--;let d=j.empty,p=0;for(let m=i,g=!1;m>n;m--)g||s.after(m+1)<s.end(m)?(g=!0,d=j.from(s.node(m).copy(d)),p++):c++;t.step(new ft(a,c,l,o,new H(u.append(d),f,p),u.size-f,!0))}function Ug(t,e,n=null,r=t){let s=o_(t,e),i=s&&a_(r,e);return i?s.map(Jx).concat({type:e,attrs:n}).concat(i.map(Jx)):null}function Jx(t){return{type:t,attrs:null}}function o_(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(r,s,l)?i:null}function a_(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let a=(l.length?l[l.length-1]:e).contentMatch;for(let c=r;a&&c<s;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:l}function c_(t,e,n){let r=j.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let o=n[l].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=j.from(n[l].type.create(n[l].attrs,r))}let s=e.start,i=e.end;t.step(new ft(s,i,s,i,new H(r,0,0),n.length,!0))}function u_(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(l,o)=>{let a=typeof s=="function"?s(l):s;if(l.isTextblock&&!l.hasMarkup(r,a)&&f_(t.doc,t.mapping.slice(i).map(o),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&rN(t,l,o,i),Bg(t,t.mapping.slice(i).map(o,1),r,void 0,c===null);let u=t.mapping.slice(i),f=u.map(o,1),d=u.map(o+l.nodeSize,1);return t.step(new ft(f,d,f+1,d-1,new H(j.from(r.create(a,null,l.marks)),0,0),1,!0)),c===!0&&nN(t,l,o,i),!1}})}function nN(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let l,o=/\r?\n|\r/g;for(;l=o.exec(s.text);){let a=t.mapping.slice(r).map(n+1+i+l.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function rN(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+i);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function f_(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function d_(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let l=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,l);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ft(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new H(j.from(l),0,0),1,!0))}function wr(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,l=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>i;c--,u--){let f=s.node(c),d=s.index(c);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||f;if(!f.canReplace(d+1,f.childCount)||!g.type.validContent(p))return!1}let o=s.indexAfter(i),a=r&&r[0];return s.node(i).canReplaceWith(o,o,a?a.type:s.node(i+1).type)}function h_(t,e,n=1,r){let s=t.doc.resolve(e),i=j.empty,l=j.empty;for(let o=s.depth,a=s.depth-n,c=n-1;o>a;o--,c--){i=j.from(s.node(o).copy(i));let u=r&&r[c];l=j.from(u?u.type.create(u.attrs,l):s.node(o).copy(l))}t.step(new at(e,e,new H(i.append(l),n,n),!0))}function Cs(t,e){let n=t.resolve(e),r=n.index();return sN(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function p_(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),l=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function sN(t,e){return!!(t&&e&&!t.isLeaf&&p_(t,e))}function Yf(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,l,o=r.index(s);if(s==r.depth?(i=r.nodeBefore,l=r.nodeAfter):n>0?(i=r.node(s+1),o++,l=r.node(s).maybeChild(o)):(i=r.node(s).maybeChild(o-1),l=r.node(s+1)),i&&!i.isTextblock&&sN(i,l)&&r.node(s).canReplace(o,o+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function m_(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),l=i.node().type;if(s&&l.inlineContent){let u=l.whitespace=="pre",f=!!l.contentMatch.matchType(s);u&&!f?r=!1:!u&&f&&(r=!0)}let o=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);rN(t,u.node(),u.before(),o)}l.inlineContent&&Bg(t,e+n-1,l,i.node().contentMatchAt(i.index()),r==null);let a=t.mapping.slice(o),c=a.map(e-n);if(t.step(new at(c,a.map(e+n,-1),H.empty,!0)),r===!0){let u=t.doc.resolve(c);nN(t,u.node(),u.before(),t.steps.length)}return t}function g_(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function iN(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let l=r.depth;l>=0;l--){let o=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,a=r.index(l)+(o>0?1:0),c=r.node(l),u=!1;if(i==1)u=c.canReplace(a,a,s);else{let f=c.contentMatchAt(a).findWrapping(s.firstChild.type);u=f&&c.canReplaceWith(a,a,f[0])}if(u)return o==0?r.pos:o<0?r.before(l+1):r.after(l+1)}return null}function Qf(t,e,n=e,r=H.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return lN(s,i,r)?new at(e,n,r):new y_(s,i,r).fit()}function lN(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class y_{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=j.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=j.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,l=r.depth,o=s.depth;for(;l&&o&&i.childCount==1;)i=i.firstChild.content,l--,o--;let a=new H(i,l,o);return e>-1?new ft(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new at(r.pos,s.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=oh(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let l=s.firstChild;for(let o=this.depth;o>=0;o--){let{type:a,match:c}=this.frontier[o],u,f=null;if(n==1&&(l?c.matchType(l.type)||(f=c.fillBefore(j.from(l),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:o,parent:i,inject:f};if(n==2&&l&&(u=c.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:o,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=oh(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new H(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=oh(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new H(io(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new H(io(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let l=this.unplaced,o=r?r.content:l.content,a=l.openStart-e,c=0,u=[],{match:f,type:d}=this.frontier[n];if(s){for(let g=0;g<s.childCount;g++)u.push(s.child(g));f=f.matchFragment(s)}let p=o.size+e-(l.content.size-l.openEnd);for(;c<o.childCount;){let g=o.child(c),b=f.matchType(g.type);if(!b)break;c++,(c>1||a==0||g.content.size)&&(f=b,u.push(oN(g.mark(d.allowedMarks(g.marks)),c==1?a:0,c==o.childCount?p:-1)))}let m=c==o.childCount;m||(p=-1),this.placed=lo(this.placed,n,j.from(u)),this.frontier[n].match=f,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,b=o;g<p;g++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=m?e==0?H.empty:new H(io(l.content,e-1,1),e-1,p<0?l.openEnd:e-1):new H(io(l.content,e,c),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ah(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=ah(e,n,s,r,i);if(l){for(let o=n-1;o>=0;o--){let{match:a,type:c}=this.frontier[o],u=ah(e,o,c,a,!0);if(!u||u.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=lo(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=lo(this.placed,this.depth,j.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(j.empty,!0);n.childCount&&(this.placed=lo(this.placed,this.frontier.length,n))}}function io(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(io(t.firstChild.content,e-1,n)))}function lo(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(lo(t.lastChild.content,e-1,n)))}function oh(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function oN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,oN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(j.empty,!0)))),t.copy(r)}function ah(t,e,n,r,s){let i=t.node(e),l=s?t.indexAfter(e):t.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let o=r.fillBefore(i.content,!0,l);return o&&!x_(n,i.content,l)?o:null}function x_(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function b_(t){return t.spec.defining||t.spec.definingForContent}function v_(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(lN(s,i,r))return t.step(new at(e,n,r));let l=cN(s,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let o=-(s.depth+1);l.unshift(o);for(let d=s.depth,p=s.pos-1;d>0;d--,p--){let m=s.node(d).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;l.indexOf(d)>-1?o=d:s.before(d)==p&&l.splice(1,0,-d)}let a=l.indexOf(o),c=[],u=r.openStart;for(let d=r.content,p=0;;p++){let m=d.firstChild;if(c.push(m),p==r.openStart)break;d=m.content}for(let d=u-1;d>=0;d--){let p=c[d],m=b_(p.type);if(m&&!p.sameMarkup(s.node(Math.abs(o)-1)))u=d;else if(m||!p.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+u+1)%(r.openStart+1),m=c[p];if(m)for(let g=0;g<l.length;g++){let b=l[(g+a)%l.length],y=!0;b<0&&(y=!1,b=-b);let x=s.node(b-1),v=s.index(b-1);if(x.canReplaceWith(v,v,m.type,m.marks))return t.replace(s.before(b),y?i.after(b):n,new H(aN(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=l.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=l[d];p<0||(e=s.before(p),n=i.after(p))}}function aN(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(aN(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),l=i.fillBefore(t).append(t);t=l.append(i.matchFragment(l).fillBefore(j.empty,!0))}return t}function S_(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=g_(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new H(j.from(r),0,0))}function w_(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=cN(r,s);for(let l=0;l<i.length;l++){let o=i[l],a=l==i.length-1;if(a&&o==0||r.node(o).type.contentMatch.validEnd)return t.delete(r.start(o),s.end(o));if(o>0&&(a||r.node(o-1).canReplace(r.index(o-1),s.indexAfter(o-1))))return t.delete(r.before(o),s.after(o))}for(let l=1;l<=r.depth&&l<=s.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&s.end(l)-n!=s.depth-l&&r.start(l-1)==s.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),s.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function cN(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class al extends Ot{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Xe.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Xe.fromReplace(e,this.pos,this.pos+1,new H(j.from(s),0,n.isLeaf?0:1))}getMap(){return Wt.empty}invert(e){return new al(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new al(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new al(n.pos,n.attr,n.value)}}Ot.jsonID("attr",al);class ia extends Ot{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Xe.ok(r)}getMap(){return Wt.empty}invert(e){return new ia(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ia(n.attr,n.value)}}Ot.jsonID("docAttr",ia);let Sl=class extends Error{};Sl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Sl.prototype=Object.create(Error.prototype);Sl.prototype.constructor=Sl;Sl.prototype.name="TransformError";class uN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new sa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Sl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=H.empty){let s=Qf(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new H(j.from(r),0,0))}delete(e,n){return this.replace(e,n,H.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return v_(this,e,n,r),this}replaceRangeWith(e,n,r){return S_(this,e,n,r),this}deleteRange(e,n){return w_(this,e,n),this}lift(e,n){return l_(this,e,n),this}join(e,n=1){return m_(this,e,n),this}wrap(e,n){return c_(this,e,n),this}setBlockType(e,n=e,r,s=null){return u_(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return d_(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new al(e,n,r)),this}setDocAttribute(e,n){return this.step(new ia(e,n)),this}addNodeMark(e,n){return this.step(new ss(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof we)n.isInSet(r.marks)&&this.step(new hi(e,n));else{let s=r.marks,i,l=[];for(;i=n.isInSet(s);)l.push(new hi(e,i)),s=i.removeFromSet(s);for(let o=l.length-1;o>=0;o--)this.step(l[o])}return this}split(e,n=1,r){return h_(this,e,n,r),this}addMark(e,n,r){return r_(this,e,n,r),this}removeMark(e,n,r){return s_(this,e,n,r),this}clearIncompatible(e,n,r){return Bg(this,e,n,r),this}}const ch=Object.create(null);class W{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new E_(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=H.empty){let r=n.content.lastChild,s=null;for(let o=0;o<n.openEnd;o++)s=r,r=r.lastChild;let i=e.steps.length,l=this.ranges;for(let o=0;o<l.length;o++){let{$from:a,$to:c}=l[o],u=e.mapping.slice(i);e.replaceRange(u.map(a.pos),u.map(c.pos),o?H.empty:n),o==0&&eb(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:l,$to:o}=s[i],a=e.mapping.slice(r),c=a.map(l.pos),u=a.map(o.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),eb(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Y(e):Bi(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let l=n<0?Bi(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Bi(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new sn(e.node(0))}static atStart(e){return Bi(e,e,0,0,1)||new sn(e)}static atEnd(e){return Bi(e,e,e.content.size,e.childCount,-1)||new sn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ch[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ch)throw new RangeError("Duplicate use of selection JSON ID "+e);return ch[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Y.between(this.$anchor,this.$head).getBookmark()}}W.prototype.visible=!0;class E_{constructor(e,n){this.$from=e,this.$to=n}}let Xx=!1;function Wx(t){!Xx&&!t.parent.inlineContent&&(Xx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Y extends W{constructor(e,n=e){Wx(e),Wx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return W.near(r);let s=e.resolve(n.map(this.anchor));return new Y(s.parent.inlineContent?s:r,r)}replace(e,n=H.empty){if(super.replace(e,n),n==H.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Y&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Y(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=W.findFrom(n,r,!0)||W.findFrom(n,-r,!0);if(i)n=i.$head;else return W.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(W.findFrom(e,-r,!0)||W.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Y(e,n)}}W.jsonID("text",Y);class Jf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Jf(e.map(this.anchor),e.map(this.head))}resolve(e){return Y.between(e.resolve(this.anchor),e.resolve(this.head))}}class Z extends W{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?W.near(i):new Z(i)}content(){return new H(j.from(this.node),0,0)}eq(e){return e instanceof Z&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $g(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Z(e.resolve(n.anchor))}static create(e,n){return new Z(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Z.prototype.visible=!1;W.jsonID("node",Z);class $g{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Jf(r,r):new $g(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Z.isSelectable(r)?new Z(n):W.near(n)}}class sn extends W{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=H.empty){if(n==H.empty){e.delete(0,e.doc.content.size);let r=W.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new sn(e)}map(e){return new sn(e)}eq(e){return e instanceof sn}getBookmark(){return N_}}W.jsonID("all",sn);const N_={map(){return this},resolve(t){return new sn(t)}};function Bi(t,e,n,r,s,i=!1){if(e.inlineContent)return Y.create(t,n);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let o=e.child(l);if(o.isAtom){if(!i&&Z.isSelectable(o))return Z.create(t,n-(s<0?o.nodeSize:0))}else{let a=Bi(t,o,n+s,s<0?o.childCount:0,s,i);if(a)return a}n+=o.nodeSize*s}return null}function eb(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof at||s instanceof ft))return;let i=t.mapping.maps[r],l;i.forEach((o,a,c,u)=>{l==null&&(l=u)}),t.setSelection(W.near(t.doc.resolve(l),n))}const tb=1,ac=2,nb=4;class k_ extends uN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|tb)&~ac,this.storedMarks=null,this}get selectionSet(){return(this.updated&tb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ac,this}ensureMarks(e){return we.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ac)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ac,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||we.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let l=this.doc.resolve(n);i=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(W.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=nb,this}get scrolledIntoView(){return(this.updated&nb)>0}}function rb(t,e){return!e||!t?t:t.bind(e)}class oo{constructor(e,n,r){this.name=e,this.init=rb(n.init,r),this.apply=rb(n.apply,r)}}const T_=[new oo("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new oo("selection",{init(t,e){return t.selection||W.atStart(e.doc)},apply(t){return t.selection}}),new oo("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new oo("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class uh{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=T_.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new oo(r.key,r.spec.state,r))})}}class Xi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let l=0;l<this.config.plugins.length;l++){let o=this.config.plugins[l];if(o.spec.appendTransaction){let a=s?s[l].n:0,c=s?s[l].state:this,u=a<n.length&&o.spec.appendTransaction.call(o,a?n.slice(a):n,c,r);if(u&&r.filterTransaction(u,l)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<l?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[l]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Xi(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new k_(this)}static create(e){let n=new uh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Xi(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new uh(this.schema,e.plugins),r=n.fields,s=new Xi(n);for(let i=0;i<r.length;i++){let l=r[i].name;s[l]=this.hasOwnProperty(l)?this[l]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new uh(e.schema,e.plugins),i=new Xi(s);return s.fields.forEach(l=>{if(l.name=="doc")i.doc=ms.fromJSON(e.schema,n.doc);else if(l.name=="selection")i.selection=W.fromJSON(i.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let o in r){let a=r[o],c=a.spec.state;if(a.key==l.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){i[l.name]=c.fromJSON.call(a,e,n[o],i);return}}i[l.name]=l.init(e,i)}}),i}}function fN(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=fN(s,e,{})),n[r]=s}return n}class wt{constructor(e){this.spec=e,this.props={},e.props&&fN(e.props,this,this.props),this.key=e.key?e.key.key:dN("plugin")}getState(e){return e[this.key]}}const fh=Object.create(null);function dN(t){return t in fh?t+"$"+ ++fh[t]:(fh[t]=0,t+"$")}class on{constructor(e="key"){this.key=dN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},wl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Kp=null;const ur=function(t,e,n){let r=Kp||(Kp=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},A_=function(){Kp=null},pi=function(t,e,n,r){return n&&(sb(t,e,n,r,-1)||sb(t,e,n,r,1))},C_=/^(img|br|input|textarea|hr)$/i;function sb(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:xn(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Ba(t)||C_.test(t.nodeName)||t.contentEditable=="false")return!1;e=xt(t)+(s<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(s<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((i=l.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=l,e=s<0?xn(t):0}else return!1}}function xn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function O_(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=xn(t)}else if(t.parentNode&&!Ba(t))e=xt(t),t=t.parentNode;else return null}}function M_(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ba(t))e=xt(t)+1,t=t.parentNode;else return null}}function R_(t,e,n){for(let r=e==0,s=e==xn(t);r||s;){if(t==n)return!0;let i=xt(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==xn(t)}}function Ba(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Xf=function(t){return t.focusNode&&pi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Us(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function D_(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function j_(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(xn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(xn(r.startContainer),r.startOffset)}}}const Yn=typeof navigator<"u"?navigator:null,ib=typeof document<"u"?document:null,Os=Yn&&Yn.userAgent||"",Gp=/Edge\/(\d+)/.exec(Os),hN=/MSIE \d/.exec(Os),Yp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Os),Ft=!!(hN||Yp||Gp),ys=hN?document.documentMode:Yp?+Yp[1]:Gp?+Gp[1]:0,Rn=!Ft&&/gecko\/(\d+)/i.test(Os);Rn&&+(/Firefox\/(\d+)/.exec(Os)||[0,0])[1];const Qp=!Ft&&/Chrome\/(\d+)/.exec(Os),At=!!Qp,pN=Qp?+Qp[1]:0,jt=!Ft&&!!Yn&&/Apple Computer/.test(Yn.vendor),El=jt&&(/Mobile\/\w+/.test(Os)||!!Yn&&Yn.maxTouchPoints>2),dn=El||(Yn?/Mac/.test(Yn.platform):!1),__=Yn?/Win/.test(Yn.platform):!1,yr=/Android \d/.test(Os),Ua=!!ib&&"webkitFontSmoothing"in ib.documentElement.style,z_=Ua?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function L_(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ir(t,e){return typeof t=="number"?t:t[e]}function B_(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function lb(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=wl(l);continue}let o=l,a=o==i.body,c=a?L_(i):B_(o),u=0,f=0;if(e.top<c.top+ir(r,"top")?f=-(c.top-e.top+ir(s,"top")):e.bottom>c.bottom-ir(r,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+ir(s,"top")-c.top:e.bottom-c.bottom+ir(s,"bottom")),e.left<c.left+ir(r,"left")?u=-(c.left-e.left+ir(s,"left")):e.right>c.right-ir(r,"right")&&(u=e.right-c.right+ir(s,"right")),u||f)if(a)i.defaultView.scrollBy(u,f);else{let p=o.scrollLeft,m=o.scrollTop;f&&(o.scrollTop+=f),u&&(o.scrollLeft+=u);let g=o.scrollLeft-p,b=o.scrollTop-m;e={left:e.left-g,top:e.top-b,right:e.right-g,bottom:e.bottom-b}}let d=a?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(d))break;l=d=="absolute"?l.offsetParent:wl(l)}}function U_(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let o=t.root.elementFromPoint(i,l);if(!o||o==t.dom||!t.dom.contains(o))continue;let a=o.getBoundingClientRect();if(a.top>=n-20){r=o,s=a.top;break}}return{refDOM:r,refTop:s,stack:mN(t.dom)}}function mN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=wl(r));return e}function $_({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;gN(n,r==0?0:r-e)}function gN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Mi=null;function H_(t){if(t.setActive)return t.setActive();if(Mi)return t.focus(Mi);let e=mN(t);t.focus(Mi==null?{get preventScroll(){return Mi={preventScroll:!0},!0}}:void 0),Mi||(Mi=!1,gN(e,0))}function yN(t,e){let n,r=2e8,s,i=0,l=e.top,o=e.top,a,c;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=ur(u).getClientRects();else continue;for(let p=0;p<d.length;p++){let m=d[p];if(m.top<=l&&m.bottom>=o){l=Math.max(m.bottom,l),o=Math.min(m.top,o);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,s=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(i=f+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!a&&m.left<=e.left&&m.right>=e.left&&(a=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=f+1)}}return!n&&a&&(n=a,s=c,r=0),n&&n.nodeType==3?P_(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:yN(n,s)}function P_(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=$r(r,1);if(i.top!=i.bottom&&Hg(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Hg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function V_(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function I_(t,e,n){let{node:r,offset:s}=yN(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();i=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function q_(t,e,n,r){let s=-1;for(let i=e,l=!1;i!=t.dom;){let o=t.docView.nearestDesc(i,!0),a;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((a=o.dom.getBoundingClientRect()).width||a.height)&&(o.node.isBlock&&o.parent&&(!l&&a.left>r.left||a.top>r.top?s=o.posBefore:(!l&&a.right<r.left||a.bottom<r.top)&&(s=o.posAfter),l=!0),!o.contentDOM&&s<0&&!o.node.isText))return(o.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?o.posBefore:o.posAfter;i=o.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function xN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let l=t.childNodes[i];if(l.nodeType==1){let o=l.getClientRects();for(let a=0;a<o.length;a++){let c=o[a];if(Hg(e,c))return xN(l,e,c)}}if((i=(i+1)%r)==s)break}return t}function F_(t,e){let n=t.dom.ownerDocument,r,s=0,i=j_(n,e.left,e.top);i&&({node:r,offset:s}=i);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let c=t.dom.getBoundingClientRect();if(!Hg(e,c)||(l=xN(t.dom,e,c),!l))return null}if(jt)for(let c=l;r&&c;c=wl(c))c.draggable&&(r=void 0);if(l=V_(l,e),r){if(Rn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let c;Ua&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(o=q_(t,r,s,e))}o==null&&(o=I_(t,l,e));let a=t.docView.nearestDesc(l,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function ob(t){return t.top<t.bottom||t.left<t.right}function $r(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ob(r))return r}return Array.prototype.find.call(n,ob)||t.getBoundingClientRect()}const Z_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bN(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),l=Ua||Rn;if(r.nodeType==3)if(l&&(Z_.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let a=$r(ur(r,s,s),n);if(Rn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=$r(ur(r,s-1,s-1),-1);if(c.top==a.top){let u=$r(ur(r,s,s+1),-1);if(u.top!=a.top)return Ql(u,u.left<c.left)}}return a}else{let a=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(a--,u=1):n<0?a--:c++,Ql($r(ur(r,a,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==xn(r))){let a=r.childNodes[s-1];if(a.nodeType==1)return dh(a.getBoundingClientRect(),!1)}if(i==null&&s<xn(r)){let a=r.childNodes[s];if(a.nodeType==1)return dh(a.getBoundingClientRect(),!0)}return dh(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==xn(r))){let a=r.childNodes[s-1],c=a.nodeType==3?ur(a,xn(a)-(l?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return Ql($r(c,1),!1)}if(i==null&&s<xn(r)){let a=r.childNodes[s];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?ur(a,0,l?0:1):a.nodeType==1?a:null:null;if(c)return Ql($r(c,-1),!0)}return Ql($r(r.nodeType==3?ur(r):r,-n),n>=0)}function Ql(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function dh(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function vN(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function K_(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return vN(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(i,!0);if(!o)break;if(o.node.isBlock){i=o.contentDOM||o.dom;break}i=o.dom.parentNode}let l=bN(t,s.pos,1);for(let o=i.firstChild;o;o=o.nextSibling){let a;if(o.nodeType==1)a=o.getClientRects();else if(o.nodeType==3)a=ur(o,0,o.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let u=a[c];if(u.bottom>u.top+1&&(n=="up"?l.top-u.top>(u.bottom-l.top)*2:u.bottom-l.bottom>(l.bottom-u.top)*2))return!1}}return!0})}const G_=/[\u0590-\u08ac]/;function Y_(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,l=s==r.parent.content.size,o=t.domSelection();return o?!G_.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?i:l:vN(t,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:u,anchorOffset:f}=t.domSelectionRange(),d=o.caretBidiLevel;o.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),b=m&&!p.contains(m.nodeType==1?m:m.parentNode)||a==m&&c==g;try{o.collapse(u,f),a&&(a!=u||c!=f)&&o.extend&&o.extend(a,c)}catch{}return d!=null&&(o.caretBidiLevel=d),b}):r.pos==r.start()||r.pos==r.end()}let ab=null,cb=null,ub=!1;function Q_(t,e,n){return ab==e&&cb==n?ub:(ab=e,cb=n,ub=n=="up"||n=="down"?K_(t,e,n):Y_(t,e,n))}const Sn=0,fb=1,Vs=2,Qn=3;class $a{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Sn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,l;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(l)+l.size:this.posAtStart}else{let i,l;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>xt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),l;if(i&&(!n||i.node))if(r&&(l=i.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let l=0;l<s.children.length;l++){let o=s.children[l];if(o.size){s=o;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let l=this.children[r],o=i+l.size;if(o>e||l instanceof wN){s=e-i;break}i=o}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof SN&&i.side>=0;r--);if(n<=0){let i,l=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,l=!1);return i&&n&&l&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?xt(i.dom)+1:0}}else{let i,l=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,l=!1);return i&&l&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?xt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let l=r,o=0;;o++){let a=this.children[o],c=l+a.size;if(s==-1&&e<=c){let u=l+a.border;if(e>=u&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,u);e=l;for(let f=o;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){s=xt(d.dom)+1;break}e-=d.size}s==-1&&(s=0)}if(s>-1&&(c>n||o==this.children.length-1)){n=c;for(let u=o+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=xt(f.dom);break}n+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}l=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),l=Math.max(e,n);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],b=m+g.size;if(i>m&&l<b)return g.setSelection(e-m-g.border,n-m-g.border,r,s);m=b}let o=this.domFromPos(e,e?-1:1),a=n==e?o:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),f=!1;if((Rn||jt)&&e==n){let{node:p,offset:m}=o;if(p.nodeType==3){if(f=!!(m&&p.nodeValue[m-1]==`
`),f&&m==p.nodeValue.length)for(let g=p,b;g;g=g.parentNode){if(b=g.nextSibling){b.nodeName=="BR"&&(o=a={node:b.parentNode,offset:xt(b)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=p.childNodes[m-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Rn&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||f&&jt)&&pi(o.node,o.offset,u.anchorNode,u.anchorOffset)&&pi(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((c.extend||e==n)&&!f){c.collapse(o.node,o.offset);try{e!=n&&c.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(e>n){let m=o;o=a,a=m}let p=document.createRange();p.setEnd(a.node,a.offset),p.setStart(o.node,o.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],l=r+i.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let o=r+i.border,a=l-i.border;if(e>=o&&n<=a){this.dirty=e==r||n==l?Vs:fb,e==o&&n==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Qn:i.markDirty(e-o,n-o);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Vs:Qn}r=l}this.dirty=Vs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Vs:fb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class SN extends $a{constructor(e,n,r,s){let i,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(l.nodeType!=1){let o=document.createElement("span");o.appendChild(l),l=o}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Sn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class J_ extends $a{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class mi extends $a{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],l=i&&i(n,s,r);return(!l||!l.dom)&&(l=Ni.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new mi(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Qn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Qn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Sn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Sn}}slice(e,n,r){let s=mi.create(this.parent,this.mark,!0,r),i=this.children,l=this.size;n<l&&(i=Xp(i,n,l,r)),e>0&&(i=Xp(i,0,e,r));for(let o=0;o<i.length;o++)i[o].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class xs extends $a{constructor(e,n,r,s,i,l,o,a,c){super(e,[],i,l),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=o}static create(e,n,r,s,i,l){let o=i.nodeViews[n.type.name],a,c=o&&o(n,i,()=>{if(!a)return l;if(a.parent)return a.parent.posBeforeChild(a)},r,s),u=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=Ni.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let d=u;return u=kN(u,r,n),c?a=new X_(e,n,r,s,u,f||null,d,c,i,l+1):n.isText?new Wf(e,n,r,s,u,d,i):new xs(e,n,r,s,u,f||null,d,i,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>j.empty)}return e}matchesNode(e,n,r){return this.dirty==Sn&&e.eq(this.node)&&ju(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,l=i&&i.pos>-1?i:null,o=i&&i.pos<0,a=new e4(this,l&&l.node,e);r4(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?a.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!f&&a.syncToMarks(u==this.node.childCount?we.none:this.node.child(u).marks,r,e),a.placeWidget(c,e,s)},(c,u,f,d)=>{a.syncToMarks(c.marks,r,e);let p;a.findNodeMatch(c,u,f,d)||o&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(c,u,f,p,e)||a.updateNextNode(c,u,f,e,d,s)||a.addNode(c,u,f,e,s),s+=c.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Vs)&&(l&&this.protectLocalComposition(e,l),EN(this.contentDOM,this.children,e),El&&s4(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Y)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let l=i.nodeValue,o=i4(this.node.content,l,r-n,s-n);return o<0?null:{node:i,pos:o,text:l}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let l=new J_(this,i,n,s);e.input.compositionNodes.push(l),this.children=Xp(this.children,r,r+s.length,e,l)}update(e,n,r,s){return this.dirty==Qn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Sn}updateOuterDeco(e){if(ju(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=NN(this.dom,this.nodeDOM,Jp(this.outerDeco,this.node,n),Jp(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function db(t,e,n,r,s){kN(r,e,t);let i=new xs(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Wf extends xs{constructor(e,n,r,s,i,l,o){super(e,n,r,s,i,null,l,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Qn||this.dirty!=Sn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Sn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Sn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new Wf(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class wN extends $a{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Sn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class X_ extends xs{constructor(e,n,r,s,i,l,o,a,c,u){super(e,n,r,s,i,l,o,c,u),this.spec=a}update(e,n,r,s){if(this.dirty==Qn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function EN(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let l=e[i],o=l.dom;if(o.parentNode==t){for(;o!=r;)r=hb(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(o,r);if(l instanceof mi){let a=r?r.previousSibling:t.lastChild;EN(l.contentDOM,l.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=hb(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Co=function(t){t&&(this.nodeName=t)};Co.prototype=Object.create(null);const Is=[new Co];function Jp(t,e,n){if(t.length==0)return Is;let r=n?Is[0]:new Co,s=[r];for(let i=0;i<t.length;i++){let l=t[i].type.attrs;if(l){l.nodeName&&s.push(r=new Co(l.nodeName));for(let o in l){let a=l[o];a!=null&&(n&&s.length==1&&s.push(r=new Co(e.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+a:o=="style"?r.style=(r.style?r.style+";":"")+a:o!="nodeName"&&(r[o]=a))}}}return s}function NN(t,e,n,r){if(n==Is&&r==Is)return e;let s=e;for(let i=0;i<r.length;i++){let l=r[i],o=n[i];if(i){let a;o&&o.nodeName==l.nodeName&&s!=t&&(a=s.parentNode)&&a.nodeName.toLowerCase()==l.nodeName||(a=document.createElement(l.nodeName),a.pmIsDeco=!0,a.appendChild(s),o=Is[0]),s=a}W_(s,o||Is[0],l)}return s}function W_(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function kN(t,e,n){return NN(t,t,Is,Jp(e,n,t.nodeType!=1))}function ju(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function hb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class e4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=t4(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,l=Math.min(i,e.length);for(;s<l&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Sn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){o=a;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let a=mi.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))i=this.top.children.indexOf(l,this.index);else for(let o=this.index,a=Math.min(this.top.children.length,o+5);o<a;o++){let c=this.top.children[o];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=o;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let l=this.top.children[s];return l.dirty==Qn&&l.dom==l.contentDOM&&(l.dirty=Vs),l.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,l){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof xs){let c=this.preMatch.matched.get(a);if(c!=null&&c!=i)return!1;let u=a.dom,f,d=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Qn&&ju(n,a.outerDeco));if(!d&&a.update(e,n,r,s))return this.destroyBetween(this.index,o),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(a,e,n,r,s,l)))return this.destroyBetween(this.index,o),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Vs,f.updateChildren(s,l+1),f.dirty=Sn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!ju(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let o=xs.create(this.top,n,r,s,i,l);if(o.contentDOM){o.children=e.children,e.children=[];for(let a of o.children)a.parent=o}return e.destroy(),o}addNode(e,n,r,s,i){let l=xs.create(this.top,e,n,r,s,i);l.contentDOM&&l.updateChildren(s,i+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new SN(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof mi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Wf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((jt||At)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new wN(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function t4(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,l=[];e:for(;s>0;){let o;for(;;)if(r){let c=n.children[r-1];if(c instanceof mi)n=c,r=c.children.length;else{o=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=o.node;if(a){if(a!=t.child(s-1))break;--s,i.set(o,s),l.push(o)}}return{index:s,matched:i,matches:l.reverse()}}function n4(t,e){return t.type.side-e.type.side}function r4(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let l=0,o=[],a=null;for(let c=0;;){let u,f;for(;l<s.length&&s[l].to==i;){let b=s[l++];b.widget&&(u?(f||(f=[u])).push(b):u=b)}if(u)if(f){f.sort(n4);for(let b=0;b<f.length;b++)n(f[b],c,!!a)}else n(u,c,!!a);let d,p;if(a)p=-1,d=a,a=null;else if(c<t.childCount)p=c,d=t.child(c++);else break;for(let b=0;b<o.length;b++)o[b].to<=i&&o.splice(b--,1);for(;l<s.length&&s[l].from<=i&&s[l].to>i;)o.push(s[l++]);let m=i+d.nodeSize;if(d.isText){let b=m;l<s.length&&s[l].from<b&&(b=s[l].from);for(let y=0;y<o.length;y++)o[y].to<b&&(b=o[y].to);b<m&&(a=d.cut(b-i),d=d.cut(0,b-i),m=b,p=-1)}else for(;l<s.length&&s[l].to<m;)l++;let g=d.isInline&&!d.isLeaf?o.filter(b=>!b.inline):o.slice();r(d,g,e.forChild(i,d),p),i=m}}function s4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function i4(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let l=t.child(s++),o=i;if(i+=l.nodeSize,!l.isText)continue;let a=l.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;a+=c.text}if(i>=n){if(i>=r&&a.slice(r-e.length-o,r-o)==e)return r-e.length;let c=o<r?a.lastIndexOf(e,r-o-1):-1;if(c>=0&&c+e.length+o>=n)return o+c;if(n==r&&a.length>=r+e.length-o&&a.slice(r-o,r-o+e.length)==e)return r}}return-1}function Xp(t,e,n,r,s){let i=[];for(let l=0,o=0;l<t.length;l++){let a=t[l],c=o,u=o+=a.size;c>=n||u<=e?i.push(a):(c<e&&i.push(a.slice(0,e-c,r)),s&&(i.push(s),s=void 0),u>n&&i.push(a.slice(n-c,a.size,r)))}return i}function Pg(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let o=r.resolve(l),a,c;if(Xf(n)){for(a=l;s&&!s.node;)s=s.parent;let f=s.node;if(s&&f.isAtom&&Z.isSelectable(f)&&s.parent&&!(f.isInline&&R_(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;c=new Z(l==d?o:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=l,d=l;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(f<0)return null;[a,l]=d==t.state.selection.anchor?[d,f]:[f,d],o=r.resolve(l)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=r.resolve(a);if(!c){let f=e=="pointer"||t.state.selection.head<o.pos&&!i?1:-1;c=Vg(t,u,o,f)}return c}function TN(t){return t.editable?t.hasFocus():CN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Er(t,e=!1){let n=t.state.selection;if(AN(t,n),!!TN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&At){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&pi(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)o4(t);else{let{anchor:r,head:s}=n,i,l;pb&&!(n instanceof Y)&&(n.$from.parent.inlineContent||(i=mb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=mb(t,n.to))),t.docView.setSelection(r,s,t,e),pb&&(i&&gb(i),l&&gb(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&l4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const pb=jt||At&&pN<63;function mb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(jt&&s&&s.contentEditable=="false")return hh(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return hh(s);if(i)return hh(i)}}function hh(t){return t.contentEditable="true",jt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function gb(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function l4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!TN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function o4(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,xt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Ft&&ys<=11&&(r.disabled=!0,r.disabled=!1)}function AN(t,e){if(e instanceof Z){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(yb(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else yb(t)}function yb(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Vg(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Y.between(e,n,r)}function xb(t){return t.editable&&!t.hasFocus()?!1:CN(t)}function CN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function a4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return pi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Wp(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&W.findFrom(i,e)}function Vr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function bb(t,e,n){let r=t.state.selection;if(r instanceof Y)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let l=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Vr(t,new Y(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Wp(t.state,e);return s&&s instanceof Z?Vr(t,s):!1}else if(!(dn&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!i||i.isText)return!1;let o=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(l=t.docView.descAt(o))&&!l.contentDOM?Z.isSelectable(i)?Vr(t,new Z(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Ua?Vr(t,new Y(t.state.doc.resolve(e<0?o:o+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Z&&r.node.isInline)return Vr(t,new Y(e>0?r.$to:r.$from));{let s=Wp(t.state,e);return s?Vr(t,s):!1}}}function _u(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Oo(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ri(t,e){return e<0?c4(t):u4(t)}function c4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,l=!1;for(Rn&&n.nodeType==1&&r<_u(n)&&Oo(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(Oo(o,-1))s=n,i=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(ON(n))break;{let o=n.previousSibling;for(;o&&Oo(o,-1);)s=n.parentNode,i=xt(o),o=o.previousSibling;if(o)n=o,r=_u(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?em(t,n,r):s&&em(t,s,i)}function u4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=_u(n),i,l;for(;;)if(r<s){if(n.nodeType!=1)break;let o=n.childNodes[r];if(Oo(o,1))i=n,l=++r;else break}else{if(ON(n))break;{let o=n.nextSibling;for(;o&&Oo(o,1);)i=o.parentNode,l=xt(o)+1,o=o.nextSibling;if(o)n=o,r=0,s=_u(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&em(t,i,l)}function ON(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function f4(t,e){for(;t&&e==t.childNodes.length&&!Ba(t);)e=xt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function d4(t,e){for(;t&&!e&&!Ba(t);)e=xt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function em(t,e,n){if(e.nodeType!=3){let i,l;(l=f4(e,n))?(e=l,n=0):(i=d4(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Xf(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Er(t)},50)}function vb(t,e){let n=t.state.doc.resolve(e);if(!(At||__)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),l=(i.top+i.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),l=(i.top+i.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Sb(t,e,n){let r=t.state.selection;if(r instanceof Y&&!r.empty||n.indexOf("s")>-1||dn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Wp(t.state,e);if(l&&l instanceof Z)return Vr(t,l)}if(!s.parent.inlineContent){let l=e<0?s:i,o=r instanceof sn?W.near(l,e):W.findFrom(l,e);return o?Vr(t,o):!1}return!1}function wb(t,e){if(!(t.state.selection instanceof Y))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let l=t.state.tr;return e<0?l.delete(n.pos-i.nodeSize,n.pos):l.delete(n.pos,n.pos+i.nodeSize),t.dispatch(l),!0}return!1}function Eb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function h4(t){if(!jt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Eb(t,r,"true"),setTimeout(()=>Eb(t,r,"false"),20)}return!1}function p4(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function m4(t,e){let n=e.keyCode,r=p4(e);if(n==8||dn&&n==72&&r=="c")return wb(t,-1)||Ri(t,-1);if(n==46&&!e.shiftKey||dn&&n==68&&r=="c")return wb(t,1)||Ri(t,1);if(n==13||n==27)return!0;if(n==37||dn&&n==66&&r=="c"){let s=n==37?vb(t,t.state.selection.from)=="ltr"?-1:1:-1;return bb(t,s,r)||Ri(t,s)}else if(n==39||dn&&n==70&&r=="c"){let s=n==39?vb(t,t.state.selection.from)=="ltr"?1:-1:1;return bb(t,s,r)||Ri(t,s)}else{if(n==38||dn&&n==80&&r=="c")return Sb(t,-1,r)||Ri(t,-1);if(n==40||dn&&n==78&&r=="c")return h4(t)||Sb(t,1,r)||Ri(t,1);if(r==(dn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ig(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let l=t.someProp("clipboardSerializer")||Ni.fromSchema(t.state.schema),o=zN(),a=o.createElement("div");a.appendChild(l.serializeFragment(r,{document:o}));let c=a.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=_N[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=o.createElement(u[p]);for(;a.firstChild;)m.appendChild(a.firstChild);a.appendChild(m),f++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d,slice:e}}function MN(t,e,n,r,s){let i=s.parent.type.spec.code,l,o;if(!n&&!e)return null;let a=e&&(r||i||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,i||r,t)}),i)return e?new H(j.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):H.empty;let f=t.someProp("clipboardTextParser",d=>d(e,s,r,t));if(f)o=f;else{let d=s.marks(),{schema:p}=t.state,m=Ni.fromSchema(p);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let b=l.appendChild(document.createElement("p"));g&&b.appendChild(m.serializeNode(p.text(g,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),l=b4(n),Ua&&v4(l);let c=l&&l.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let d=l.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;l=d}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||gs.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(a||u),context:s,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!g4.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)o=S4(Nb(o,+u[1],+u[2]),u[4]);else if(o=H.maxOpen(y4(o.content,s),!0),o.openStart||o.openEnd){let f=0,d=0;for(let p=o.content.firstChild;f<o.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=o.content.lastChild;d<o.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);o=Nb(o,f,d)}return t.someProp("transformPasted",f=>{o=f(o,t)}),o}const g4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function y4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,l=[];if(t.forEach(o=>{if(!l)return;let a=s.findWrapping(o.type),c;if(!a)return l=null;if(c=l.length&&i.length&&DN(a,i,o,l[l.length-1],0))l[l.length-1]=c;else{l.length&&(l[l.length-1]=jN(l[l.length-1],i.length));let u=RN(o,a);l.push(u),s=s.matchType(u.type),i=a}}),l)return j.from(l)}return t}function RN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,j.from(t));return t}function DN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=DN(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(j.from(RN(n,t,s+1))))}}function jN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(j.empty,!0);return t.copy(n.append(r))}function tm(t,e,n,r,s,i){let l=e<0?t.firstChild:t.lastChild,o=l.content;return t.childCount>1&&(i=0),s<r-1&&(o=tm(o,e,n,r,s+1,i)),s>=n&&(o=e<0?l.contentMatchAt(0).fillBefore(o,i<=s).append(o):o.append(l.contentMatchAt(l.childCount).fillBefore(j.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(o))}function Nb(t,e,n){return e<t.openStart&&(t=new H(tm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new H(tm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const _N={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let kb=null;function zN(){return kb||(kb=document.implementation.createHTMLDocument("title"))}let ph=null;function x4(t){let e=window.trustedTypes;return e?(ph||(ph=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),ph.createHTML(t)):t}function b4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=zN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&_N[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=x4(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function v4(t){let e=t.querySelectorAll(At?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function S4(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:l}=t;for(let o=r.length-2;o>=0;o-=2){let a=n.nodes[r[o]];if(!a||a.hasRequiredAttrs())break;s=j.from(a.create(r[o+1],s)),i++,l++}return new H(s,i,l)}const _t={},zt={},w4={touchstart:!0,touchmove:!0};class E4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function N4(t){for(let e in _t){let n=_t[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{T4(t,r)&&!qg(t,r)&&(t.editable||!(r.type in zt))&&n(t,r)},w4[e]?{passive:!0}:void 0)}jt&&t.dom.addEventListener("input",()=>null),nm(t)}function is(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function k4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function nm(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>qg(t,r))})}function qg(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function T4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function A4(t,e){!qg(t,e)&&_t[e.type]&&(t.editable||!(e.type in zt))&&_t[e.type](t,e)}zt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!BN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(yr&&At&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),El&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Us(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||m4(t,n)?n.preventDefault():is(t,"key")};zt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zt.keypress=(t,e)=>{let n=e;if(BN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||dn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Y)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function ed(t){return{left:t.clientX,top:t.clientY}}function C4(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Fg(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let l=i.depth+1;l>0;l--)if(t.someProp(e,o=>l>i.depth?o(t,n,i.nodeAfter,i.before(l),s,!0):o(t,n,i.node(l),i.before(l),s,!1)))return!0;return!1}function cl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function O4(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Z.isSelectable(r)?(cl(t,new Z(n)),!0):!1}function M4(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Z&&(r=n.node);let i=t.state.doc.resolve(e);for(let l=i.depth+1;l>0;l--){let o=l>i.depth?i.nodeAfter:i.node(l);if(Z.isSelectable(o)){r&&n.$from.depth>0&&l>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(l);break}}return s!=null?(cl(t,Z.create(t.state.doc,s)),!0):!1}function R4(t,e,n,r,s){return Fg(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?M4(t,n):O4(t,n))}function D4(t,e,n,r){return Fg(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function j4(t,e,n,r){return Fg(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||_4(t,n,r)}function _4(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(cl(t,Y.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let l=i>s.depth?s.nodeAfter:s.node(i),o=s.before(i);if(l.inlineContent)cl(t,Y.create(r,o+1,o+1+l.content.size));else if(Z.isSelectable(l))cl(t,Z.create(r,o));else continue;return!0}}function Zg(t){return zu(t)}const LN=dn?"metaKey":"ctrlKey";_t.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Zg(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&C4(n,t.input.lastClick)&&!n[LN]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let l=t.posAtCoords(ed(n));l&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new z4(t,l,n,!!r)):(i=="doubleClick"?D4:j4)(t,l.pos,l.inside,n)?n.preventDefault():is(t,"pointer"))};class z4{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[LN],this.allowDefault=r.shiftKey;let i,l;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),l=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,l=u.depth?u.before():0}const o=s?null:r.target,a=o?e.docView.nearestDesc(o,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof Z&&c.from<=l&&c.to>l)&&(this.mightDrag={node:i,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Rn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),is(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Er(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ed(e))),this.updateAllowDefault(e),this.allowDefault||!n?is(this.view,"pointer"):R4(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||jt&&this.mightDrag&&!this.mightDrag.node.isAtom||At&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(cl(this.view,W.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):is(this.view,"pointer")}move(e){this.updateAllowDefault(e),is(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_t.touchstart=t=>{t.input.lastTouch=Date.now(),Zg(t),is(t,"pointer")};_t.touchmove=t=>{t.input.lastTouch=Date.now(),is(t,"pointer")};_t.contextmenu=t=>Zg(t);function BN(t,e){return t.composing?!0:jt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const L4=yr?5e3:-1;zt.compositionstart=zt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Y&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),zu(t,!0),t.markCursor=null;else if(zu(t,!e.selection.empty),Rn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let l=i<0?s.lastChild:s.childNodes[i-1];if(!l)break;if(l.nodeType==3){let o=t.domSelection();o&&o.collapse(l,l.nodeValue.length);break}else s=l,i=-1}}t.input.composing=!0}UN(t,L4)};zt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,UN(t,20))};function UN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>zu(t),e))}function $N(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=U4());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function B4(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=O_(e.focusNode,e.focusOffset),r=M_(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function U4(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function zu(t,e=!1){if(!(yr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),$N(t),e||t.docView&&t.docView.dirty){let n=Pg(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function $4(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const la=Ft&&ys<15||El&&z_<604;_t.copy=zt.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=la?null:n.clipboardData,l=r.content(),{dom:o,text:a}=Ig(t,l);i?(n.preventDefault(),i.clearData(),i.setData("text/html",o.innerHTML),i.setData("text/plain",a)):$4(t,o),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function H4(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function P4(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?oa(t,r.value,null,s,e):oa(t,r.textContent,r.innerHTML,s,e)},50)}function oa(t,e,n,r,s){let i=MN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,s,i||H.empty)))return!0;if(!i)return!1;let l=H4(i),o=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(i);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function HN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}zt.paste=(t,e)=>{let n=e;if(t.composing&&!yr)return;let r=la?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&oa(t,HN(r),r.getData("text/html"),s,n)?n.preventDefault():P4(t,n)};class PN{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const V4=dn?"altKey":"ctrlKey";function VN(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[V4]}_t.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(ed(n)),l;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Z?s.to-1:s.to))){if(r&&r.mightDrag)l=Z.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(l=Z.create(t.state.doc,f.posBefore))}}let o=(l||t.state.selection).content(),{dom:a,text:c,slice:u}=Ig(t,o);(!n.dataTransfer.files.length||!At||pN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(la?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",la||n.dataTransfer.setData("text/plain",c),t.dragging=new PN(u,VN(t,n),l)};_t.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zt.dragover=zt.dragenter=(t,e)=>e.preventDefault();zt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(ed(n));if(!s)return;let i=t.state.doc.resolve(s.pos),l=r&&r.slice;l?t.someProp("transformPasted",m=>{l=m(l,t)}):l=MN(t,HN(n.dataTransfer),la?null:n.dataTransfer.getData("text/html"),!1,i);let o=!!(r&&VN(t,n));if(t.someProp("handleDrop",m=>m(t,n,l||H.empty,o))){n.preventDefault();return}if(!l)return;n.preventDefault();let a=l?iN(t.state.doc,i.pos,l):i.pos;a==null&&(a=i.pos);let c=t.state.tr;if(o){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(a),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,l.content.firstChild):c.replaceRange(u,u,l),c.doc.eq(d))return;let p=c.doc.resolve(u);if(f&&Z.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild))c.setSelection(new Z(p));else{let m=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((g,b,y,x)=>m=x),c.setSelection(Vg(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};_t.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Er(t)},20))};_t.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_t.beforeinput=(t,e)=>{if(At&&yr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Us(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in zt)_t[t]=zt[t];function aa(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Lu{constructor(e,n){this.toDOM=e,this.spec=n||ri,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:l}=e.mapResult(n.from+s,this.side<0?-1:1);return l?null:new vn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Lu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&aa(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class bs{constructor(e,n){this.attrs=e,this.spec=n||ri}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=l?null:new vn(i,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof bs&&aa(this.attrs,e.attrs)&&aa(this.spec,e.spec)}static is(e){return e.type instanceof bs}destroy(){}}class Kg{constructor(e,n){this.attrs=e,this.spec=n||ri}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let l=e.mapResult(n.to+s,-1);return l.deleted||l.pos<=i.pos?null:new vn(i.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof Kg&&aa(this.attrs,e.attrs)&&aa(this.spec,e.spec)}destroy(){}}class vn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new vn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new vn(e,e,new Lu(n,r))}static inline(e,n,r,s){return new vn(e,n,new bs(r,s))}static node(e,n,r,s){return new vn(e,n,new Kg(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof bs}get widget(){return this.type instanceof Lu}}const Ui=[],ri={};class nt{constructor(e,n){this.local=e.length?e:Ui,this.children=n.length?n:Ui}static create(e,n){return n.length?Bu(n,e,0,ri):Et}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let l=0;l<this.local.length;l++){let o=this.local[l];o.from<=n&&o.to>=e&&(!i||i(o.spec))&&r.push(o.copy(o.from+s,o.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let o=this.children[l]+1;this.children[l+2].findInner(e-o,n-o,r,s+o,i)}}map(e,n,r){return this==Et||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ri)}mapInner(e,n,r,s,i){let l;for(let o=0;o<this.local.length;o++){let a=this.local[o].map(e,r,s);a&&a.type.valid(n,a)?(l||(l=[])).push(a):i.onRemove&&i.onRemove(this.local[o].spec)}return this.children.length?I4(this.children,l||[],e,n,r,s,i):l?new nt(l.sort(si),Ui):Et}add(e,n){return n.length?this==Et?nt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((o,a)=>{let c=a+r,u;if(u=qN(n,o,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<a;)i+=3;s[i]==a?s[i+2]=s[i+2].addInner(o,u,c+1):s.splice(i,0,a,a+o.nodeSize,Bu(u,o,c+1,ri)),i+=3}});let l=IN(i?FN(n):n,-r);for(let o=0;o<l.length;o++)l[o].type.valid(e,l[o])||l.splice(o--,1);return new nt(l.length?this.local.concat(l).sort(si):this.local,s||this.children)}remove(e){return e.length==0||this==Et?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let l,o=r[i]+n,a=r[i+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>o&&f.to<a&&(e[u]=null,(l||(l=[])).push(f));if(!l)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(l,o+1);c!=Et?r[i+2]=c:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,l;i<e.length;i++)if(l=e[i])for(let o=0;o<s.length;o++)s[o].eq(l,n)&&(s==this.local&&(s=this.local.slice()),s.splice(o--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new nt(s,r):Et}forChild(e,n){if(this==Et)return this;if(n.isLeaf)return nt.empty;let r,s;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}let i=e+1,l=i+n.content.size;for(let o=0;o<this.local.length;o++){let a=this.local[o];if(a.from<l&&a.to>i&&a.type instanceof bs){let c=Math.max(i,a.from)-i,u=Math.min(l,a.to)-i;c<u&&(s||(s=[])).push(a.copy(c,u))}}if(s){let o=new nt(s.sort(si),Ui);return r?new Qr([o,r]):o}return r||Et}eq(e){if(this==e)return!0;if(!(e instanceof nt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Gg(this.localsInner(e))}localsInner(e){if(this==Et)return Ui;if(e.inlineContent||!this.local.some(bs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof bs||n.push(this.local[r]);return n}forEachSet(e){e(this)}}nt.empty=new nt([],[]);nt.removeOverlap=Gg;const Et=nt.empty;class Qr{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,ri));return Qr.from(r)}forChild(e,n){if(n.isLeaf)return nt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Et&&(i instanceof Qr?r=r.concat(i.members):r.push(i))}return Qr.from(r)}eq(e){if(!(e instanceof Qr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let l=0;l<i.length;l++)n.push(i[l])}}return n?Gg(r?n:n.sort(si)):Ui}static from(e){switch(e.length){case 0:return Et;case 1:return e[0];default:return new Qr(e.every(n=>n instanceof nt)?e:e.reduce((n,r)=>n.concat(r instanceof nt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function I4(t,e,n,r,s,i,l){let o=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let f=0;n.maps[c].forEach((d,p,m,g)=>{let b=g-m-(p-d);for(let y=0;y<o.length;y+=3){let x=o[y+1];if(x<0||d>x+u-f)continue;let v=o[y]+u-f;p>=v?o[y+1]=d<=v?-2:-1:d>=u&&b&&(o[y]+=b,o[y+1]+=b)}f+=b}),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(o[c+1]==-2){a=!0,o[c+1]=-1;continue}let u=n.map(t[c]+i),f=u-s;if(f<0||f>=r.content.size){a=!0;continue}let d=n.map(t[c+1]+i,-1),p=d-s,{index:m,offset:g}=r.content.findIndex(f),b=r.maybeChild(m);if(b&&g==f&&g+b.nodeSize==p){let y=o[c+2].mapInner(n,b,u+1,t[c]+i+1,l);y!=Et?(o[c]=f,o[c+1]=p,o[c+2]=y):(o[c+1]=-2,a=!0)}else a=!0}if(a){let c=q4(o,t,e,n,s,i,l),u=Bu(c,r,0,l);e=u.local;for(let f=0;f<o.length;f+=3)o[f+1]<0&&(o.splice(f,3),f-=3);for(let f=0,d=0;f<u.children.length;f+=3){let p=u.children[f];for(;d<o.length&&o[d]<p;)d+=3;o.splice(d,0,u.children[f],u.children[f+1],u.children[f+2])}}return new nt(e.sort(si),o)}function IN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new vn(s.from+e,s.to+e,s.type))}return n}function q4(t,e,n,r,s,i,l){function o(a,c){for(let u=0;u<a.local.length;u++){let f=a.local[u].map(r,s,c);f?n.push(f):l.onRemove&&l.onRemove(a.local[u].spec)}for(let u=0;u<a.children.length;u+=3)o(a.children[u+2],a.children[u]+c+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&o(t[a+2],e[a]+i+1);return n}function qN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,l;i<t.length;i++)(l=t[i])&&l.from>n&&l.to<r&&((s||(s=[])).push(l),t[i]=null);return s}function FN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Bu(t,e,n,r){let s=[],i=!1;e.forEach((o,a)=>{let c=qN(t,o,a+n);if(c){i=!0;let u=Bu(c,o,n+a+1,r);u!=Et&&s.push(a,a+o.nodeSize,u)}});let l=IN(i?FN(t):t,-n).sort(si);for(let o=0;o<l.length;o++)l[o].type.valid(e,l[o])||(r.onRemove&&r.onRemove(l[o].spec),l.splice(o--,1));return l.length||s.length?new nt(l,s):Et}function si(t,e){return t.from-e.from||t.to-e.to}function Gg(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),Tb(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),Tb(e,s,r.copy(i.from,r.to)));break}}}return e}function Tb(t,e,n){for(;e<t.length&&si(n,t[e])>0;)e++;t.splice(e,0,n)}function mh(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Et&&e.push(r)}),t.cursorWrapper&&e.push(nt.create(t.state.doc,[t.cursorWrapper.deco])),Qr.from(e)}const F4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Z4=Ft&&ys<=11;class K4{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class G4{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new K4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ft&&ys<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Z4&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,F4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(xb(this.view)){if(this.suppressingSelectionUpdates)return Er(this.view);if(Ft&&ys<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&pi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=wl(i))n.add(i);for(let i=e.anchorNode;i;i=wl(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&xb(e)&&!this.ignoreSelectionChange(r),i=-1,l=-1,o=!1,a=[];if(e.editable)for(let u=0;u<n.length;u++){let f=this.registerMutation(n[u],a);f&&(i=i<0?f.from:Math.min(f.from,i),l=l<0?f.to:Math.max(f.to,l),f.typeOver&&(o=!0))}if(Rn&&a.length){let u=a.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,d]=u;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of u){let p=d.parentNode;p&&p.nodeName=="LI"&&(!f||J4(e,f)!=p)&&d.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Xf(r)&&(c=Pg(e))&&c.eq(W.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Er(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,l),Y4(e)),this.handleDOMChange(i,l,o,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Er(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Ft&&ys<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:d}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d)}let l=s&&s.parentNode==e.target?xt(s)+1:0,o=r.localPosFromDOM(e.target,l,-1),a=i&&i.parentNode==e.target?xt(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,a,1);return{from:o,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Ab=new WeakMap,Cb=!1;function Y4(t){if(!Ab.has(t)&&(Ab.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Rn,Cb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Cb=!0}}function Ob(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return pi(l.node,l.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function Q4(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return Ob(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Ob(t,n):null}function J4(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function X4(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:l,to:o}=t.docView.parseRange(e,n),a=t.domSelectionRange(),c,u=a.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:a.anchorOffset}],Xf(a)||c.push({node:a.focusNode,offset:a.focusOffset})),At&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let y=r.childNodes[b-1],x=y.pmViewDesc;if(y.nodeName=="BR"&&!x){i=b;break}if(!x||x.size)break}let f=t.state.doc,d=t.someProp("domParser")||gs.fromSchema(t.state.schema),p=f.resolve(l),m=null,g=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:W4,context:p});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),m={anchor:b+l,head:y+l}}return{doc:g,sel:m,from:l,to:o}}function W4(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(jt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||jt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const e3=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function t3(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,_=Pg(t,O);if(_&&!t.state.selection.eq(_)){if(At&&yr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ie=>ie(t,Us(13,"Enter"))))return;let $=t.state.tr.setSelection(_);O=="pointer"?$.setMeta("pointer",!0):O=="key"&&$.scrollIntoView(),i&&$.setMeta("composition",i),t.dispatch($)}return}let l=t.state.doc.resolve(e),o=l.sharedDepth(n);e=l.before(o+1),n=t.state.doc.resolve(n).after(o+1);let a=t.state.selection,c=X4(t,e,n),u=t.state.doc,f=u.slice(c.from,c.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=s3(f.content,c.doc.content,c.from,d,p);if(m&&t.input.domChangeCount++,(El&&t.input.lastIOSEnter>Date.now()-225||yr)&&s.some(O=>O.nodeType==1&&!e3.test(O.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",O=>O(t,Us(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&a instanceof Y&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let O=Mb(t,t.state.doc,c.sel);if(O&&!O.eq(t.state.selection)){let _=t.state.tr.setSelection(O);i&&_.setMeta("composition",i),t.dispatch(_)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Y&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Ft&&ys<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),b=c.doc.resolveNoCache(m.endB-c.from),y=u.resolve(m.start),x=g.sameParent(b)&&g.parent.inlineContent&&y.end()>=m.endA,v;if((El&&t.input.lastIOSEnter>Date.now()-225&&(!x||s.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!x&&g.pos<c.doc.content.size&&(!g.sameParent(b)||!g.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(g.pos,b.pos,"",""))&&(v=W.findFrom(c.doc.resolve(g.pos+1),1,!0))&&v.head>g.pos)&&t.someProp("handleKeyDown",O=>O(t,Us(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&r3(u,m.start,m.endA,g,b)&&t.someProp("handleKeyDown",O=>O(t,Us(8,"Backspace")))){yr&&At&&t.domObserver.suppressSelectionUpdates();return}At&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),yr&&!x&&g.start()!=b.start()&&b.parentOffset==0&&g.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,b=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Us(13,"Enter"))})},20));let S=m.start,k=m.endA,N=O=>{let _=O||t.state.tr.replace(S,k,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let $=Mb(t,_.doc,c.sel);$&&!(At&&t.composing&&$.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&($.head==S||$.head==_.mapping.map(k)-1)||Ft&&$.empty&&$.head==S)&&_.setSelection($)}return i&&_.setMeta("composition",i),_.scrollIntoView()},A;if(x){if(g.pos==b.pos){Ft&&ys<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Er(t),20));let O=N(t.state.tr.delete(S,k)),_=u.resolve(m.start).marksAcross(u.resolve(m.endA));_&&O.ensureMarks(_),t.dispatch(O)}else if(m.endA==m.endB&&(A=n3(g.parent.content.cut(g.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let O=N(t.state.tr);A.type=="add"?O.addMark(S,k,A.mark):O.removeMark(S,k,A.mark),t.dispatch(O)}else if(g.parent.child(g.index()).isText&&g.index()==b.index()-(b.textOffset?0:1)){let O=g.parent.textBetween(g.parentOffset,b.parentOffset),_=()=>N(t.state.tr.insertText(O,S,k));t.someProp("handleTextInput",$=>$(t,S,k,O,_))||t.dispatch(_())}}else t.dispatch(N())}function Mb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Vg(t,e.resolve(n.anchor),e.resolve(n.head))}function n3(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,l,o,a;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)o=s[0],l="add",a=u=>u.mark(o.addToSet(u.marks));else if(s.length==0&&i.length==1)o=i[0],l="remove",a=u=>u.mark(o.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(a(e.child(u)));if(j.from(c).eq(t))return{mark:o,type:l}}function r3(t,e,n,r,s){if(n-e<=s.pos-r.pos||gh(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let o=i.nodeAfter;return o!=null&&n==e+o.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let l=t.resolve(gh(i,!0,!0));return!l.parent.isTextblock||l.pos>n||gh(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function gh(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function s3(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:l,b:o}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let a=Math.max(0,i-Math.min(l,o));r-=l+a-i}if(l<i&&t.size<e.size){let a=r<=i&&r>=l?i-r:0;i-=a,i&&i<e.size&&Rb(e.textBetween(i-1,i+1))&&(i+=a?1:-1),o=i+(o-l),l=i}else if(o<i){let a=r<=i&&r>=o?i-r:0;i-=a,i&&i<t.size&&Rb(t.textBetween(i-1,i+1))&&(i+=a?1:-1),l=i+(l-o),o=i}return{start:i,endA:l,endB:o}}function Rb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class ZN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new E4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Lb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=_b(this),jb(this),this.nodeViews=zb(this),this.docView=db(this.state.doc,Db(this),mh(this),this.dom,this),this.domObserver=new G4(this,(r,s,i,l)=>t3(this,r,s,i,l)),this.domObserver.start(),N4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nm(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Lb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,l=!1;e.storedMarks&&this.composing&&($N(this),l=!0),this.state=e;let o=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=zb(this);l3(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&nm(this),this.editable=_b(this),jb(this);let a=mh(this),c=Db(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,c,a);(f||!e.selection.eq(s.selection))&&(l=!0);let d=u=="preserve"&&l&&this.dom.style.overflowAnchor==null&&U_(this);if(l){this.domObserver.stop();let p=f&&(Ft||At)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&i3(s.selection,e.selection);if(f){let m=At?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=B4(this)),(i||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=db(e.doc,c,a,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&a4(this))?Er(this,p):(AN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&$_(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Z){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&lb(this,n.getBoundingClientRect(),e)}else lb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new PN(e.slice,e.move,s<0?void 0:Z.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let l=0;l<this.directPlugins.length;l++){let o=this.directPlugins[l].props[e];if(o!=null&&(s=n?n(o):o))return s}let i=this.state.plugins;if(i)for(let l=0;l<i.length;l++){let o=i[l].props[e];if(o!=null&&(s=n?n(o):o))return s}}hasFocus(){if(Ft){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&H_(this.dom),Er(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return F_(this,e)}coordsAtPos(e,n=1){return bN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return Q_(this,n||this.state,e)}pasteHTML(e,n){return oa(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return oa(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ig(this,e)}destroy(){this.docView&&(k4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],mh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,A_())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return A4(this,e)}domSelectionRange(){let e=this.domSelection();return e?jt&&this.root.nodeType===11&&D_(this.dom.ownerDocument)==this.dom&&Q4(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}ZN.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Db(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[vn.node(0,t.state.doc.content.size,e)]}function jb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:vn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function _b(t){return!t.someProp("editable",e=>e(t.state)===!1)}function i3(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function zb(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function l3(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Lb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Es={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Uu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o3=typeof navigator<"u"&&/Mac/.test(navigator.platform),a3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var bt=0;bt<10;bt++)Es[48+bt]=Es[96+bt]=String(bt);for(var bt=1;bt<=24;bt++)Es[bt+111]="F"+bt;for(var bt=65;bt<=90;bt++)Es[bt]=String.fromCharCode(bt+32),Uu[bt]=String.fromCharCode(bt);for(var yh in Es)Uu.hasOwnProperty(yh)||(Uu[yh]=Es[yh]);function c3(t){var e=o3&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||a3&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Uu:Es)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const u3=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),f3=typeof navigator<"u"&&/Win/.test(navigator.platform);function d3(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,l;for(let o=0;o<e.length-1;o++){let a=e[o];if(/^(cmd|meta|m)$/i.test(a))l=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))u3?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function h3(t){let e=Object.create(null);for(let n in t)e[d3(n)]=t[n];return e}function xh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function p3(t){return new wt({props:{handleKeyDown:KN(t)}})}function KN(t){let e=h3(t);return function(n,r){let s=c3(r),i,l=e[xh(s,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let o=e[xh(s,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(f3&&r.ctrlKey&&r.altKey)&&(i=Es[r.keyCode])&&i!=s){let o=e[xh(i,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}const Yg=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function GN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const YN=(t,e,n)=>{let r=GN(t,n);if(!r)return!1;let s=Qg(r);if(!s){let l=r.blockRange(),o=l&&$l(l);return o==null?!1:(e&&e(t.tr.lift(l,o).scrollIntoView()),!0)}let i=s.nodeBefore;if(sk(t,s,e,-1))return!0;if(r.parent.content.size==0&&(Nl(i,"end")||Z.isSelectable(i)))for(let l=r.depth;;l--){let o=Qf(t.doc,r.before(l),r.after(l),H.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Nl(i,"end")?W.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):Z.create(a.doc,s.pos-i.nodeSize)),e(a.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},m3=(t,e,n)=>{let r=GN(t,n);if(!r)return!1;let s=Qg(r);return s?QN(t,s,e):!1},g3=(t,e,n)=>{let r=XN(t,n);if(!r)return!1;let s=Jg(r);return s?QN(t,s,e):!1};function QN(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let l=e.nodeAfter,o=l,a=e.pos+1;for(;!o.isTextblock;a++){if(o.type.spec.isolating)return!1;let u=o.firstChild;if(!u)return!1;o=u}let c=Qf(t.doc,i,a,H.empty);if(!c||c.from!=i||c instanceof at&&c.slice.size>=a-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(Y.create(u.doc,i)),n(u.scrollIntoView())}return!0}function Nl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const JN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=Qg(r)}let l=i&&i.nodeBefore;return!l||!Z.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Z.create(t.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function Qg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function XN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const WN=(t,e,n)=>{let r=XN(t,n);if(!r)return!1;let s=Jg(r);if(!s)return!1;let i=s.nodeAfter;if(sk(t,s,e,1))return!0;if(r.parent.content.size==0&&(Nl(i,"start")||Z.isSelectable(i))){let l=Qf(t.doc,r.before(),r.after(),H.empty);if(l&&l.slice.size<l.to-l.from){if(e){let o=t.tr.step(l);o.setSelection(Nl(i,"start")?W.findFrom(o.doc.resolve(o.mapping.map(s.pos)),1):Z.create(o.doc,o.mapping.map(s.pos))),e(o.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},ek=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=Jg(r)}let l=i&&i.nodeAfter;return!l||!Z.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Z.create(t.doc,i.pos)).scrollIntoView()),!0)};function Jg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const y3=(t,e)=>{let n=t.selection,r=n instanceof Z,s;if(r){if(n.node.isTextblock||!Cs(t.doc,n.from))return!1;s=n.from}else if(s=Yf(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Z.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},x3=(t,e)=>{let n=t.selection,r;if(n instanceof Z){if(n.node.isTextblock||!Cs(t.doc,n.to))return!1;r=n.to}else if(r=Yf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},b3=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&$l(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},tk=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Xg(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const v3=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),l=Xg(s.contentMatchAt(i));if(!l||!s.canReplaceWith(i,i,l))return!1;if(e){let o=n.after(),a=t.tr.replaceWith(o,o,l.createAndFill());a.setSelection(W.near(a.doc.resolve(o),1)),e(a.scrollIntoView())}return!0},nk=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof sn||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=Xg(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,o=t.tr.insert(l,i.createAndFill());o.setSelection(Y.create(o.doc,l+1)),e(o.scrollIntoView())}return!0},rk=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(wr(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&$l(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function S3(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Z&&e.selection.node.isBlock)return!r.parentOffset||!wr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],l,o,a=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){a=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),o=Xg(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),i.unshift(a&&o?{type:o}:null),l=p;break}else{if(p==1)return!1;i.unshift(null)}let u=e.tr;(e.selection instanceof Y||e.selection instanceof sn)&&u.deleteSelection();let f=u.mapping.map(r.pos),d=wr(u.doc,f,i.length,i);if(d||(i[0]=o?{type:o}:null,d=wr(u.doc,f,i.length,i)),!d)return!1;if(u.split(f,i.length,i),!a&&c&&r.node(l).type!=o){let p=u.mapping.map(r.before(l)),m=u.doc.resolve(p);o&&r.node(l-1).canReplaceWith(m.index(),m.index()+1,o)&&u.setNodeMarkup(u.mapping.map(r.before(l)),o)}return n&&n(u.scrollIntoView()),!0}}const w3=S3(),E3=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Z.create(t.doc,s))),!0)};function N3(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Cs(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function sk(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,l,o,a=s.type.spec.isolating||i.type.spec.isolating;if(!a&&N3(t,e,n))return!0;let c=!a&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(l=(o=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&o.matchType(l[0]||i.type).validEnd){if(n){let p=e.pos+i.nodeSize,m=j.empty;for(let y=l.length-1;y>=0;y--)m=j.from(l[y].create(null,m));m=j.from(s.copy(m));let g=t.tr.step(new ft(e.pos-1,p,e.pos,p,new H(m,1,0),l.length,!0)),b=g.doc.resolve(p+2*l.length);b.nodeAfter&&b.nodeAfter.type==s.type&&Cs(g.doc,b.pos)&&g.join(b.pos),n(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&a?null:W.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&$l(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(c&&Nl(i,"start",!0)&&Nl(s,"end")){let p=s,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=i,b=1;for(;!g.isTextblock;g=g.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let y=j.empty;for(let v=m.length-1;v>=0;v--)y=j.from(m[v].copy(y));let x=t.tr.step(new ft(e.pos-m.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new H(y,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function ik(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Y.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const k3=ik(-1),T3=ik(1);function A3(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,l=s.blockRange(i),o=l&&Ug(l,t,e);return o?(r&&r(n.tr.wrap(l,o).scrollIntoView()),!0):!1}}function Bb(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:l},$to:{pos:o}}=n.selection.ranges[i];n.doc.nodesBetween(l,o,(a,c)=>{if(s)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)s=!0;else{let u=n.doc.resolve(c),f=u.index();s=u.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[l];i.setBlockType(o,a,t,e)}r(i.scrollIntoView())}return!0}}function Wg(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}Wg(Yg,YN,JN);Wg(Yg,WN,ek);Wg(tk,nk,rk,w3);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function C3(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,l=s.blockRange(i);if(!l)return!1;let o=r?n.tr:null;return O3(o,l,t,e)?(r&&r(o.scrollIntoView()),!0):!1}}function O3(t,e,n,r=null){let s=!1,i=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let a=l.resolve(e.start-2);i=new Ru(a,a,e.depth),e.endIndex<e.parent.childCount&&(e=new Ru(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let o=Ug(i,n,r,e);return o?(t&&M3(t,e,o,s,n),!0):!1}function M3(t,e,n,r,s){let i=j.empty;for(let u=n.length-1;u>=0;u--)i=j.from(n[u].type.create(n[u].attrs,i));t.step(new ft(e.start-(r?2:0),e.end,e.start,e.end,new H(i,0,0),n.length,!0));let l=0;for(let u=0;u<n.length;u++)n[u].type==s&&(l=u+1);let o=n.length-l,a=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,d=!0;u<f;u++,d=!1)!d&&wr(t.doc,a,o)&&(t.split(a,o),a+=2*o),a+=c.child(u).nodeSize;return t}function R3(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?D3(e,n,t,i):j3(e,n,i):!0:!1}}function D3(t,e,n,r){let s=t.tr,i=r.end,l=r.$to.end(r.depth);i<l&&(s.step(new ft(i-1,l,i,l,new H(j.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Ru(s.doc.resolve(r.$from.pos),s.doc.resolve(l),r.depth));const o=$l(r);if(o==null)return!1;s.lift(r,o);let a=s.doc.resolve(s.mapping.map(i,-1)-1);return Cs(s.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&s.join(a.pos),e(s.scrollIntoView()),!0}function j3(t,e,n){let r=t.tr,s=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=s.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),l=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,a=n.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(o?0:1),u+1,l.content.append(a?j.empty:j.from(s))))return!1;let f=i.pos,d=f+l.nodeSize;return r.step(new ft(f-(o?1:0),d+(a?1:0),f+1,d-1,new H((o?j.empty:j.from(s.copy(j.empty))).append(a?j.empty:j.from(s.copy(j.empty))),o?0:1,a?0:1),o?0:1)),e(r.scrollIntoView()),!0}function _3(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let o=i.parent,a=o.child(l-1);if(a.type!=t)return!1;if(n){let c=a.lastChild&&a.lastChild.type==o.type,u=j.from(c?t.create():null),f=new H(j.from(t.create(null,j.from(o.type.create(null,u)))),c?3:1,0),d=i.start,p=i.end;n(e.tr.step(new ft(d-(c?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}function td(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class nd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,l=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([o,a])=>[o,(...u)=>{const f=a(...u)(l);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,o=[],a=!!e,c=e||i.tr,u=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(c),o.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(r).map(([d,p])=>[d,(...g)=>{const b=this.buildProps(c,n),y=p(...g)(b);return o.push(y),f}])),run:u};return f}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,l=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)({...l,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,o={tr:e,editor:s,view:l,state:td({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,c])=>[a,(...u)=>c(...u)(o)]))}};return o}}class z3{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const r=(...s)=>{this.off(e,r),n.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function I(t,e,n){return t.config[e]===void 0&&t.parent?I(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?I(t.parent,e,n):null}):t.config[e]}function rd(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function lk(t){const e=[],{nodeExtensions:n,markExtensions:r}=rd(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const o={name:l.name,options:l.options,storage:l.storage,extensions:s},a=I(l,"addGlobalAttributes",o);if(!a)return;a().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([d,p])=>{e.push({type:f,name:d,attribute:{...i,...p}})})})})}),s.forEach(l=>{const o={name:l.name,options:l.options,storage:l.storage},a=I(l,"addAttributes",o);if(!a)return;const c=a();Object.entries(c).forEach(([u,f])=>{const d={...i,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:l.name,name:u,attribute:d})})}),e}function ht(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function pt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const o=i?String(i).split(" "):[],a=r[s]?r[s].split(" "):[],c=o.filter(u=>!a.includes(u));r[s]=[...a,...c].join(" ")}else if(s==="style"){const o=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],a=r[s]?r[s].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;a.forEach(u=>{const[f,d]=u.split(":").map(p=>p.trim());c.set(f,d)}),o.forEach(u=>{const[f,d]=u.split(":").map(p=>p.trim());c.set(f,d)}),r[s]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else r[s]=i}),r},{})}function rm(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>pt(n,r),{})}function ok(t){return typeof t=="function"}function ne(t,e=void 0,...n){return ok(t)?e?t.bind(e)(...n):t(...n):t}function L3(t={}){return Object.keys(t).length===0&&t.constructor===Object}function B3(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Ub(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,l)=>{const o=l.attribute.parseHTML?l.attribute.parseHTML(n):B3(n.getAttribute(l.name));return o==null?i:{...i,[l.name]:o}},{});return{...r,...s}}}}function $b(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&L3(n)?!1:n!=null))}function U3(t,e){var n;const r=lk(t),{nodeExtensions:s,markExtensions:i}=rd(t),l=(n=s.find(c=>I(c,"topNode")))===null||n===void 0?void 0:n.name,o=Object.fromEntries(s.map(c=>{const u=r.filter(y=>y.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},d=t.reduce((y,x)=>{const v=I(x,"extendNodeSchema",f);return{...y,...v?v(c):{}}},{}),p=$b({...d,content:ne(I(c,"content",f)),marks:ne(I(c,"marks",f)),group:ne(I(c,"group",f)),inline:ne(I(c,"inline",f)),atom:ne(I(c,"atom",f)),selectable:ne(I(c,"selectable",f)),draggable:ne(I(c,"draggable",f)),code:ne(I(c,"code",f)),whitespace:ne(I(c,"whitespace",f)),linebreakReplacement:ne(I(c,"linebreakReplacement",f)),defining:ne(I(c,"defining",f)),isolating:ne(I(c,"isolating",f)),attrs:Object.fromEntries(u.map(y=>{var x;return[y.name,{default:(x=y==null?void 0:y.attribute)===null||x===void 0?void 0:x.default}]}))}),m=ne(I(c,"parseHTML",f));m&&(p.parseDOM=m.map(y=>Ub(y,u)));const g=I(c,"renderHTML",f);g&&(p.toDOM=y=>g({node:y,HTMLAttributes:rm(y,u)}));const b=I(c,"renderText",f);return b&&(p.toText=b),[c.name,p]})),a=Object.fromEntries(i.map(c=>{const u=r.filter(b=>b.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},d=t.reduce((b,y)=>{const x=I(y,"extendMarkSchema",f);return{...b,...x?x(c):{}}},{}),p=$b({...d,inclusive:ne(I(c,"inclusive",f)),excludes:ne(I(c,"excludes",f)),group:ne(I(c,"group",f)),spanning:ne(I(c,"spanning",f)),code:ne(I(c,"code",f)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),m=ne(I(c,"parseHTML",f));m&&(p.parseDOM=m.map(b=>Ub(b,u)));const g=I(c,"renderHTML",f);return g&&(p.toDOM=b=>g({mark:b,HTMLAttributes:rm(b,u)})),[c.name,p]}));return new GE({topNode:l,nodes:o,marks:a})}function bh(t,e){return e.nodes[t]||e.marks[t]||null}function Hb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ey(t,e){const n=Ni.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const $3=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,l,o)=>{var a,c;const u=((c=(a=s.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:s,pos:i,parent:l,index:o}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,r-i))}),n};function ty(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class sd{constructor(e){this.find=e.find,this.handler=e.handler}}const H3=(t,e)=>{if(ty(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function cc(t){var e;const{editor:n,from:r,to:s,text:i,rules:l,plugin:o}=t,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let u=!1;const f=$3(c)+i;return l.forEach(d=>{if(u)return;const p=H3(f,d.find);if(!p)return;const m=a.state.tr,g=td({state:a.state,transaction:m}),b={from:r-(p[0].length-i.length),to:s},{commands:y,chain:x,can:v}=new nd({editor:n,state:g});d.handler({state:g,range:b,match:p,commands:y,chain:x,can:v})===null||!m.steps.length||(m.setMeta(o,{transform:m,from:r,to:s,text:i}),a.dispatch(m),u=!0)}),u}function P3(t){const{editor:e,rules:n}=t,r=new wt({state:{init(){return null},apply(s,i,l){const o=s.getMeta(r);if(o)return o;const a=s.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:u}=a;typeof u=="string"?u=u:u=ey(j.from(u),l.schema);const{from:f}=a,d=f+u.length;cc({editor:e,from:f,to:d,text:u,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,l,o){return cc({editor:e,from:i,to:l,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&cc({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?cc({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function V3(t){return Object.prototype.toString.call(t).slice(8,-1)}function uc(t){return V3(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function id(t,e){const n={...t};return uc(t)&&uc(e)&&Object.keys(e).forEach(r=>{uc(e[r])&&uc(t[r])?n[r]=id(t[r],e[r]):n[r]=e[r]}),n}class Rr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ne(I(this,"addOptions",{name:this.name}))),this.storage=ne(I(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Rr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>id(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Rr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ne(I(n,"addOptions",{name:n.name})),n.storage=ne(I(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const l=s.marks();if(!!!l.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=l.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function I3(t){return typeof t=="number"}class q3{constructor(e){this.find=e.find,this.handler=e.handler}}const F3=(t,e,n)=>{if(ty(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Z3(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:l,dropEvent:o}=t,{commands:a,chain:c,can:u}=new nd({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,s,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,m),b=Math.min(s,m+p.content.size),y=p.textBetween(g-m,b-m,void 0,"");F3(y,i.find,l).forEach(v=>{if(v.index===void 0)return;const S=g+v.index+1,k=S+v[0].length,N={from:n.tr.mapping.map(S),to:n.tr.mapping.map(k)},A=i.handler({state:n,range:N,match:v,commands:a,chain:c,can:u,pasteEvent:l,dropEvent:o});f.push(A)})}),f.every(p=>p!==null)}let fc=null;const K3=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function G3(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const a=({state:u,from:f,to:d,rule:p,pasteEvt:m})=>{const g=u.tr,b=td({state:u,transaction:g});if(!(!Z3({editor:e,state:b,from:Math.max(f-1,0),to:d.b-1,rule:p,pasteEvent:m,dropEvent:o})||!g.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new wt({view(f){const d=m=>{var g;r=!((g=f.dom.parentElement)===null||g===void 0)&&g.contains(m.target)?f.dom.parentElement:null,r&&(fc=e)},p=()=>{fc&&(fc=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,d)=>{if(i=r===f.dom.parentElement,o=d,!i){const p=fc;p!=null&&p.isEditable&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(f,d)=>{var p;const m=(p=d.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return l=d,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,d,p)=>{const m=f[0],g=m.getMeta("uiEvent")==="paste"&&!s,b=m.getMeta("uiEvent")==="drop"&&!i,y=m.getMeta("applyPasteRules"),x=!!y;if(!g&&!b&&!x)return;if(x){let{text:k}=y;typeof k=="string"?k=k:k=ey(j.from(k),p.schema);const{from:N}=y,A=N+k.length,O=K3(k);return a({rule:u,state:p,from:N,to:{b:A},pasteEvt:O})}const v=d.doc.content.findDiffStart(p.doc.content),S=d.doc.content.findDiffEnd(p.doc.content);if(!(!I3(v)||!S||v===S.b))return a({rule:u,state:p,from:v,to:S,pasteEvt:l})}}))}function Y3(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Wi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Wi.resolve(e),this.schema=U3(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Wi.sort(Wi.flatten(e)),r=Y3(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=I(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=I(r,"priority")||100,l=I(s,"priority")||100;return i>l?-1:i<l?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:bh(n.name,this.schema)},s=I(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=Wi.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(l=>{const o={name:l.name,options:l.options,storage:l.storage,editor:e,type:bh(l.name,this.schema)},a=[],c=I(l,"addKeyboardShortcuts",o);let u={};if(l.type==="mark"&&I(l,"exitable",o)&&(u.ArrowRight=()=>Rr.handleExit({editor:e,mark:l})),c){const g=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));u={...u,...g}}const f=p3(u);a.push(f);const d=I(l,"addInputRules",o);Hb(l,e.options.enableInputRules)&&d&&r.push(...d());const p=I(l,"addPasteRules",o);Hb(l,e.options.enablePasteRules)&&p&&s.push(...p());const m=I(l,"addProseMirrorPlugins",o);if(m){const g=m();a.push(...g)}return a}).flat();return[P3({editor:e,rules:r}),...G3({editor:e,rules:s}),...i]}get attributes(){return lk(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=rd(this.extensions);return Object.fromEntries(n.filter(r=>!!I(r,"addNodeView")).map(r=>{const s=this.attributes.filter(a=>a.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:ht(r.name,this.schema)},l=I(r,"addNodeView",i);if(!l)return[];const o=(a,c,u,f,d)=>{const p=rm(a,s);return l()({node:a,view:c,getPos:u,decorations:f,innerDecorations:d,editor:e,extension:r,HTMLAttributes:p})};return[r.name,o]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:bh(e.name,this.schema)};e.type==="mark"&&(!((n=ne(I(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=I(e,"onBeforeCreate",r),i=I(e,"onCreate",r),l=I(e,"onUpdate",r),o=I(e,"onSelectionUpdate",r),a=I(e,"onTransaction",r),c=I(e,"onFocus",r),u=I(e,"onBlur",r),f=I(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),l&&this.editor.on("update",l),o&&this.editor.on("selectionUpdate",o),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}}class Ct{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ne(I(this,"addOptions",{name:this.name}))),this.storage=ne(I(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ct(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>id(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ct({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ne(I(n,"addOptions",{name:n.name})),n.storage=ne(I(n,"addStorage",{name:n.name,options:n.options})),n}}function ak(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:l={}}=n||{};let o="";return t.nodesBetween(r,s,(a,c,u,f)=>{var d;a.isBlock&&c>r&&(o+=i);const p=l==null?void 0:l[a.type.name];if(p)return u&&(o+=p({node:a,pos:c,parent:u,index:f,range:e})),!1;a.isText&&(o+=(d=a==null?void 0:a.text)===null||d===void 0?void 0:d.slice(Math.max(r,c)-c,s-c))}),o}function ck(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Q3=Ct.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new wt({key:new on("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,l=Math.min(...i.map(u=>u.$from.pos)),o=Math.max(...i.map(u=>u.$to.pos)),a=ck(n);return ak(r,{from:l,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),J3=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),X3=(t=!1)=>({commands:e})=>e.setContent("",t),W3=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:l})=>{t.doc.nodesBetween(i.pos,l.pos,(o,a)=>{if(o.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(a)),d=c.resolve(u.map(a+o.nodeSize)),p=f.blockRange(d);if(!p)return;const m=$l(p);if(o.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},ez=t=>e=>t(e),tz=()=>({state:t,dispatch:e})=>nk(t,e),nz=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,i.content),r.setSelection(new Y(r.doc.resolve(Math.max(l-1,0)))),!0},rz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const o=s.before(i),a=s.after(i);t.delete(o,a).scrollIntoView()}return!0}return!1},sz=t=>({tr:e,state:n,dispatch:r})=>{const s=ht(t,n.schema),i=e.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===s){if(r){const a=i.before(l),c=i.after(l);e.delete(a,c).scrollIntoView()}return!0}return!1},iz=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},lz=()=>({state:t,dispatch:e})=>Yg(t,e),oz=()=>({commands:t})=>t.keyboardShortcut("Enter"),az=()=>({state:t,dispatch:e})=>v3(t,e);function $u(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:ty(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function uk(t,e,n={}){return t.find(r=>r.type===e&&$u(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function Pb(t,e,n={}){return!!uk(t,e,n)}function ny(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===e)||(n=n||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!uk([...s.node.marks],e,n)))return;let l=s.index,o=t.start()+s.offset,a=l+1,c=o+s.node.nodeSize;for(;l>0&&Pb([...t.parent.child(l-1).marks],e,n);)l-=1,o-=t.parent.child(l).nodeSize;for(;a<t.parent.childCount&&Pb([...t.parent.child(a).marks],e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:c}}function Ms(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const cz=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=Ms(t,r.schema),{doc:l,selection:o}=n,{$from:a,from:c,to:u}=o;if(s){const f=ny(a,i,e);if(f&&f.from<=c&&f.to>=u){const d=Y.create(l,f.from,f.to);n.setSelection(d)}}return!0},uz=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function fk(t){return t instanceof Y}function qs(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function dk(t,e=null){if(!e)return null;const n=W.atStart(t),r=W.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Y.create(t,qs(0,s,i),qs(t.content.size,s,i)):Y.create(t,qs(e,s,i),qs(e,s,i))}function fz(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ry(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const dz=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{(ry()||fz())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!fk(n.state.selection))return l(),!0;const o=dk(s.doc,t)||n.state.selection,a=n.state.selection.eq(o);return i&&(a||s.setSelection(o),a&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},hz=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),pz=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),hk=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&hk(r)}return t};function dc(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return hk(n)}function ca(t,e,n){if(t instanceof ms||t instanceof j)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return j.fromArray(t.map(o=>e.nodeFromJSON(o)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),ca("",e,n)}if(s){if(n.errorOnInvalidContent){let l=!1,o="";const a=new GE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(l=!0,o=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gs.fromSchema(a).parseSlice(dc(t),n.parseOptions):gs.fromSchema(a).parse(dc(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const i=gs.fromSchema(e);return n.slice?i.parseSlice(dc(t),n.parseOptions).content:i.parse(dc(t),n.parseOptions)}return ca("",e,n)}function mz(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof at||s instanceof ft))return;const i=t.mapping.maps[r];let l=0;i.forEach((o,a,c,u)=>{l===0&&(l=u)}),t.setSelection(W.near(t.doc.resolve(l),n))}const gz=t=>!("type"in t),yz=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var l;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let o;const a=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{ca(e,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){a(b)}try{o=ca(e,i.schema,{parseOptions:c,errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck})}catch(b){return a(b),!1}let{from:u,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,p=!0;if((gz(o)?o:[o]).forEach(b=>{b.check(),d=d?b.isText&&b.marks.length===0:!1,p=p?b.isBlock:!1}),u===f&&p){const{parent:b}=r.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,f+=1)}let g;if(d){if(Array.isArray(e))g=e.map(b=>b.text||"").join("");else if(e instanceof j){let b="";e.forEach(y=>{y.text&&(b+=y.text)}),g=b}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,u,f)}else g=o,r.replaceWith(u,f,g);n.updateSelection&&mz(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},xz=()=>({state:t,dispatch:e})=>y3(t,e),bz=()=>({state:t,dispatch:e})=>x3(t,e),vz=()=>({state:t,dispatch:e})=>YN(t,e),Sz=()=>({state:t,dispatch:e})=>WN(t,e),wz=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Yf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Ez=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Yf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Nz=()=>({state:t,dispatch:e})=>m3(t,e),kz=()=>({state:t,dispatch:e})=>g3(t,e);function pk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Tz(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,l;for(let o=0;o<e.length-1;o+=1){const a=e[o];if(/^(cmd|meta|m)$/i.test(a))l=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))ry()||pk()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const Az=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=Tz(t).split(/-(?!$)/),l=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),o=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,o))});return a==null||a.steps.forEach(c=>{const u=c.map(r.mapping);u&&s&&r.maybeStep(u)}),!0};function ua(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,l=e?ht(e,t.schema):null,o=[];t.doc.nodesBetween(r,s,(f,d)=>{if(f.isText)return;const p=Math.max(r,d),m=Math.min(s,d+f.nodeSize);o.push({node:f,from:p,to:m})});const a=s-r,c=o.filter(f=>l?l.name===f.node.type.name:!0).filter(f=>$u(f.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((f,d)=>f+d.to-d.from,0)>=a}const Cz=(t,e={})=>({state:n,dispatch:r})=>{const s=ht(t,n.schema);return ua(n,s,e)?b3(n,r):!1},Oz=()=>({state:t,dispatch:e})=>rk(t,e),Mz=t=>({state:e,dispatch:n})=>{const r=ht(t,e.schema);return R3(r)(e,n)},Rz=()=>({state:t,dispatch:e})=>tk(t,e);function ld(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Vb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const Dz=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const o=ld(typeof t=="string"?t:t.name,r.schema);return o?(o==="node"&&(i=ht(t,r.schema)),o==="mark"&&(l=Ms(t,r.schema)),s&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,Vb(c.attrs,e)),l&&c.marks.length&&c.marks.forEach(f=>{l===f.type&&n.addMark(u,u+c.nodeSize,l.create(Vb(f.attrs,e)))})})}),!0):!1},jz=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),_z=()=>({tr:t,dispatch:e})=>{if(e){const n=new sn(t.doc);t.setSelection(n)}return!0},zz=()=>({state:t,dispatch:e})=>JN(t,e),Lz=()=>({state:t,dispatch:e})=>ek(t,e),Bz=()=>({state:t,dispatch:e})=>E3(t,e),Uz=()=>({state:t,dispatch:e})=>T3(t,e),$z=()=>({state:t,dispatch:e})=>k3(t,e);function sm(t,e,n={},r={}){return ca(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Hz=(t,e=!1,n={},r={})=>({editor:s,tr:i,dispatch:l,commands:o})=>{var a,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const f=sm(t,s.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck});return l&&i.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!e),!0}return l&&i.setMeta("preventUpdate",!e),o.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function mk(t,e){const n=Ms(e,t.schema),{from:r,to:s,empty:i}=t.selection,l=[];i?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,a=>{l.push(...a.marks)});const o=l.find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function Pz(t,e){const n=new uN(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function Vz(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Iz(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function qz(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function sy(t){return e=>qz(e.$from,t)}function Fz(t,e){const n={from:0,to:t.content.size};return ak(t,n,e)}function Zz(t,e){const n=ht(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,o=>{i.push(o)});const l=i.reverse().find(o=>o.type.name===n.name);return l?{...l.attrs}:{}}function gk(t,e){const n=ld(typeof e=="string"?e:e.name,t.schema);return n==="node"?Zz(t,e):n==="mark"?mk(t,e):{}}function Kz(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function Gz(t){const e=Kz(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,l)=>l!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function Yz(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const l=[];if(s.ranges.length)s.forEach((o,a)=>{l.push({from:o,to:a})});else{const{from:o,to:a}=n[i];if(o===void 0||a===void 0)return;l.push({from:o,to:a})}l.forEach(({from:o,to:a})=>{const c=e.slice(i).map(o,-1),u=e.slice(i).map(a),f=e.invert().map(c,-1),d=e.invert().map(u);r.push({oldRange:{from:f,to:d},newRange:{from:c,to:u}})})}),Gz(r)}function iy(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),l=ny(i,s.type);l&&r.push({mark:s,...l})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(l=>({from:i,to:i+s.nodeSize,mark:l})))}),r}function Vc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function im(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?Ms(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>$u(f.attrs,n,{strict:!1}));let l=0;const o=[];if(s.forEach(({$from:f,$to:d})=>{const p=f.pos,m=d.pos;t.doc.nodesBetween(p,m,(g,b)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(p,b),x=Math.min(m,b+g.nodeSize),v=x-y;l+=v,o.push(...g.marks.map(S=>({mark:S,from:y,to:x})))})}),l===0)return!1;const a=o.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>$u(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),c=o.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,d)=>f+d.to-d.from,0);return(a>0?a+c:a)>=l}function Qz(t,e,n={}){if(!e)return ua(t,null,n)||im(t,null,n);const r=ld(e,t.schema);return r==="node"?ua(t,e,n):r==="mark"?im(t,e,n):!1}function Ib(t,e){const{nodeExtensions:n}=rd(e),r=n.find(l=>l.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=ne(I(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function ly(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(ly(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function Jz(t){return t instanceof Z}function Xz(t,e,n){var r;const{selection:s}=e;let i=null;if(fk(s)&&(i=s.$cursor),i){const o=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(o)||!o.some(a=>a.type.excludes(n))}const{ranges:l}=s;return l.some(({$from:o,$to:a})=>{let c=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(o.pos,a.pos,(u,f,d)=>{if(c)return!1;if(u.isInline){const p=!d||d.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=p&&m}return!c}),c})}const Wz=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:l,ranges:o}=i,a=Ms(t,r.schema);if(s)if(l){const c=mk(r,a);n.addStoredMark(a.create({...c,...e}))}else o.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(d,p)=>{const m=Math.max(p,u),g=Math.min(p+d.nodeSize,f);d.marks.find(y=>y.type===a)?d.marks.forEach(y=>{a===y.type&&n.addMark(m,g,a.create({...y.attrs,...e}))}):n.addMark(m,g,a.create(e))})});return Xz(r,n,a)},e6=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),t6=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=ht(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:o})=>Bb(i,{...l,...e})(n)?!0:o.clearNodes()).command(({state:o})=>Bb(i,{...l,...e})(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},n6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=qs(t,0,r.content.size),i=Z.create(r,s);e.setSelection(i)}return!0},r6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,l=Y.atStart(r).from,o=Y.atEnd(r).to,a=qs(s,l,o),c=qs(i,l,o),u=Y.create(r,a,c);e.setSelection(u)}return!0},s6=t=>({state:e,dispatch:n})=>{const r=ht(t,e.schema);return _3(r)(e,n)};function qb(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const i6=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:l}=e,{$from:o,$to:a}=i,c=s.extensionManager.attributes,u=Vc(c,o.node().type.name,o.node().attrs);if(i instanceof Z&&i.node.isBlock)return!o.parentOffset||!wr(l,o.pos)?!1:(r&&(t&&qb(n,s.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const f=a.parentOffset===a.parent.content.size,d=o.depth===0?void 0:Vz(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=f&&d?[{type:d,attrs:u}]:void 0,m=wr(e.doc,e.mapping.map(o.pos),1,p);if(!p&&!m&&wr(e.doc,e.mapping.map(o.pos),1,d?[{type:d}]:void 0)&&(m=!0,p=d?[{type:d,attrs:u}]:void 0),r){if(m&&(i instanceof Y&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,p),d&&!f&&!o.parentOffset&&o.parent.type!==d)){const g=e.mapping.map(o.before()),b=e.doc.resolve(g);o.node(-1).canReplaceWith(b.index(),b.index()+1,d)&&e.setNodeMarkup(e.mapping.map(o.before()),d)}t&&qb(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return m},l6=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var l;const o=ht(t,r.schema),{$from:a,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const f=a.node(-1);if(f.type!==o)return!1;const d=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(s){let y=j.empty;const x=a.index(-1)?1:a.index(-2)?2:3;for(let O=a.depth-x;O>=a.depth-3;O-=1)y=j.from(a.node(O).copy(y));const v=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,S={...Vc(d,a.node().type.name,a.node().attrs),...e},k=((l=o.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(S))||void 0;y=y.append(j.from(o.createAndFill(null,k)||void 0));const N=a.before(a.depth-(x-1));n.replace(N,a.after(-v),new H(y,4-x,0));let A=-1;n.doc.nodesBetween(N,n.doc.content.size,(O,_)=>{if(A>-1)return!1;O.isTextblock&&O.content.size===0&&(A=_+1)}),A>-1&&n.setSelection(Y.near(n.doc.resolve(A))),n.scrollIntoView()}return!0}const p=c.pos===a.end()?f.contentMatchAt(0).defaultType:null,m={...Vc(d,f.type.name,f.attrs),...e},g={...Vc(d,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,c.pos);const b=p?[{type:o,attrs:m},{type:p,attrs:g}]:[{type:o,attrs:m}];if(!wr(n.doc,a.pos,2))return!1;if(s){const{selection:y,storedMarks:x}=r,{splittableMarks:v}=i.extensionManager,S=x||y.$to.parentOffset&&y.$from.marks();if(n.split(a.pos,2,b).scrollIntoView(),!S||!s)return!0;const k=S.filter(N=>v.includes(N.type.name));n.ensureMarks(k)}return!0},vh=(t,e)=>{const n=sy(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Cs(t.doc,n.pos)&&t.join(n.pos),!0},Sh=(t,e)=>{const n=sy(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Cs(t.doc,r)&&t.join(r),!0},o6=(t,e,n,r={})=>({editor:s,tr:i,state:l,dispatch:o,chain:a,commands:c,can:u})=>{const{extensions:f,splittableMarks:d}=s.extensionManager,p=ht(t,l.schema),m=ht(e,l.schema),{selection:g,storedMarks:b}=l,{$from:y,$to:x}=g,v=y.blockRange(x),S=b||g.$to.parentOffset&&g.$from.marks();if(!v)return!1;const k=sy(N=>Ib(N.type.name,f))(g);if(v.depth>=1&&k&&v.depth-k.depth<=1){if(k.node.type===p)return c.liftListItem(m);if(Ib(k.node.type.name,f)&&p.validContent(k.node.content)&&o)return a().command(()=>(i.setNodeMarkup(k.pos,p),!0)).command(()=>vh(i,p)).command(()=>Sh(i,p)).run()}return!n||!S||!o?a().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>vh(i,p)).command(()=>Sh(i,p)).run():a().command(()=>{const N=u().wrapInList(p,r),A=S.filter(O=>d.includes(O.type.name));return i.ensureMarks(A),N?!0:c.clearNodes()}).wrapInList(p,r).command(()=>vh(i,p)).command(()=>Sh(i,p)).run()},a6=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,l=Ms(t,r.schema);return im(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:i}):s.setMark(l,e)},c6=(t,e,n={})=>({state:r,commands:s})=>{const i=ht(t,r.schema),l=ht(e,r.schema),o=ua(r,i,n);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),o?s.setNode(l,a):s.setNode(i,{...a,...n})},u6=(t,e={})=>({state:n,commands:r})=>{const s=ht(t,n.schema);return ua(n,s,e)?r.lift(s):r.wrapIn(s,e)},f6=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const l=t.tr,o=i.transform;for(let a=o.steps.length-1;a>=0;a-=1)l.step(o.steps[a].invert(o.docs[a]));if(i.text){const a=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,t.schema.text(i.text,a))}else l.delete(i.from,i.to)}return!0}}return!1},d6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},h6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:o}=n,a=Ms(t,r.schema),{$from:c,empty:u,ranges:f}=o;if(!s)return!0;if(u&&l){let{from:d,to:p}=o;const m=(i=c.marks().find(b=>b.type===a))===null||i===void 0?void 0:i.attrs,g=ny(c,a,m);g&&(d=g.from,p=g.to),n.removeMark(d,p,a)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,a)});return n.removeStoredMark(a),!0},p6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const o=ld(typeof t=="string"?t:t.name,r.schema);return o?(o==="node"&&(i=ht(t,r.schema)),o==="mark"&&(l=Ms(t,r.schema)),s&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,u=a.$to.pos;let f,d,p,m;n.selection.empty?r.doc.nodesBetween(c,u,(g,b)=>{i&&i===g.type&&(p=Math.max(b,c),m=Math.min(b+g.nodeSize,u),f=b,d=g)}):r.doc.nodesBetween(c,u,(g,b)=>{b<c&&i&&i===g.type&&(p=Math.max(b,c),m=Math.min(b+g.nodeSize,u),f=b,d=g),b>=c&&b<=u&&(i&&i===g.type&&n.setNodeMarkup(b,void 0,{...g.attrs,...e}),l&&g.marks.length&&g.marks.forEach(y=>{if(l===y.type){const x=Math.max(b,c),v=Math.min(b+g.nodeSize,u);n.addMark(x,v,l.create({...y.attrs,...e}))}}))}),d&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),l&&d.marks.length&&d.marks.forEach(g=>{l===g.type&&n.addMark(p,m,l.create({...g.attrs,...e}))}))}),!0):!1},m6=(t,e={})=>({state:n,dispatch:r})=>{const s=ht(t,n.schema);return A3(s,e)(n,r)},g6=(t,e={})=>({state:n,dispatch:r})=>{const s=ht(t,n.schema);return C3(s,e)(n,r)};var y6=Object.freeze({__proto__:null,blur:J3,clearContent:X3,clearNodes:W3,command:ez,createParagraphNear:tz,cut:nz,deleteCurrentNode:rz,deleteNode:sz,deleteRange:iz,deleteSelection:lz,enter:oz,exitCode:az,extendMarkRange:cz,first:uz,focus:dz,forEach:hz,insertContent:pz,insertContentAt:yz,joinBackward:vz,joinDown:bz,joinForward:Sz,joinItemBackward:wz,joinItemForward:Ez,joinTextblockBackward:Nz,joinTextblockForward:kz,joinUp:xz,keyboardShortcut:Az,lift:Cz,liftEmptyBlock:Oz,liftListItem:Mz,newlineInCode:Rz,resetAttributes:Dz,scrollIntoView:jz,selectAll:_z,selectNodeBackward:zz,selectNodeForward:Lz,selectParentNode:Bz,selectTextblockEnd:Uz,selectTextblockStart:$z,setContent:Hz,setMark:Wz,setMeta:e6,setNode:t6,setNodeSelection:n6,setTextSelection:r6,sinkListItem:s6,splitBlock:i6,splitListItem:l6,toggleList:o6,toggleMark:a6,toggleNode:c6,toggleWrap:u6,undoInputRule:f6,unsetAllMarks:d6,unsetMark:h6,updateAttributes:p6,wrapIn:m6,wrapInList:g6});const x6=Ct.create({name:"commands",addCommands(){return{...y6}}}),b6=Ct.create({name:"drop",addProseMirrorPlugins(){return[new wt({key:new on("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),v6=Ct.create({name:"editable",addProseMirrorPlugins(){return[new wt({key:new on("editable"),props:{editable:()=>this.editor.options.editable}})]}}),S6=new on("focusEvents"),w6=Ct.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new wt({key:S6,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),E6=Ct.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:o})=>{const{selection:a,doc:c}=o,{empty:u,$anchor:f}=a,{pos:d,parent:p}=f,m=f.parent.isTextblock&&d>0?o.doc.resolve(d-1):f,g=m.parent.type.spec.isolating,b=f.pos-f.parentOffset,y=g&&m.parent.childCount===1?b===f.pos:W.atStart(c).from===d;return!u||!p.type.isTextblock||p.textContent.length||!y||y&&f.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ry()||pk()?i:s},addProseMirrorPlugins(){return[new wt({key:new on("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),s=t.some(g=>g.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:l,to:o}=e.selection,a=W.atStart(e.doc).from,c=W.atEnd(e.doc).to;if(i||!(l===a&&o===c)||!ly(n.doc))return;const d=n.tr,p=td({state:n,transaction:d}),{commands:m}=new nd({editor:this.editor,state:p});if(m.clearNodes(),!!d.steps.length)return d}})]}}),N6=Ct.create({name:"paste",addProseMirrorPlugins(){return[new wt({key:new on("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),k6=Ct.create({name:"tabindex",addProseMirrorPlugins(){return[new wt({key:new on("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class $s{get name(){return this.node.type.name}constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new $s(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new $s(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new $s(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,l=this.pos+r+(i?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(l);if(!s&&o.depth<=this.depth)return;const a=new $s(o,this.editor,s,s?n:null);s&&(a.actualDepth=this.depth+1),e.push(new $s(o,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,l=Object.keys(n);for(let o=0;o<l.length;o+=1){const a=l[o];if(i[a]!==n[a])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(l=>{r&&s.length>0||(l.node.type.name===e&&i.every(a=>n[a]===l.node.attrs[a])&&s.push(l),!(r&&s.length>0)&&(s=s.concat(l.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const T6=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function A6(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}class C6 extends z3{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:s})=>this.options.onDrop(n,r,s)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=A6(T6,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=ok(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(i=>{const l=typeof i=="string"?`${i}$`:i.key;r=r.filter(o=>!o.key.startsWith(l))}),n.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[v6,Q3.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),x6,w6,E6,k6,b6,N6].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Wi(s,this)}createCommandManager(){this.commandManager=new nd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=sm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(l){if(!(l instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(l.message))throw l;this.emit("contentError",{editor:this,error:l,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),n=sm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=dk(n,this.options.autofocus);this.view=new ZN(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Xi.create({doc:n,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var o;return(o=this.capturedTransaction)===null||o===void 0?void 0:o.step(l)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return gk(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return Qz(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ey(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return Fz(this.state.doc,{blockSeparator:n,textSerializers:{...ck(this.schema),...r}})}get isEmpty(){return ly(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new $s(n,this)}get $doc(){return this.$pos(0)}}function kl(t){return new sd({find:t.find,handler:({state:e,range:n,match:r})=>{const s=ne(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,l=r[r.length-1],o=r[0];if(l){const a=o.search(/\S/),c=n.from+o.indexOf(l),u=c+l.length;if(iy(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+a,c);const d=n.from+a+l.length;i.addMark(n.from+a,d,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function yk(t){return new sd({find:t.find,handler:({state:e,range:n,match:r})=>{const s=ne(t.getAttributes,void 0,r)||{},{tr:i}=e,l=n.from;let o=n.to;const a=t.type.create(s);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=l+c;u>o?u=o:o=u+r[1].length;const f=r[0][r[0].length-1];i.insertText(f,l+r[0].length-1),i.replaceWith(u,o,a)}else if(r[0]){const c=t.type.isInline?l:l-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(l),i.mapping.map(o))}i.scrollIntoView()}})}function lm(t){return new sd({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=ne(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function fa(t){return new sd({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=ne(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),a=l.doc.resolve(n.from).blockRange(),c=a&&Ug(a,t.type,i);if(!c)return null;if(l.wrap(a,c),t.keepMarks&&t.editor){const{selection:f,storedMarks:d}=e,{splittableMarks:p}=t.editor.extensionManager,m=d||f.$to.parentOffset&&f.$from.marks();if(m){const g=m.filter(b=>p.includes(b.type.name));l.ensureMarks(g)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,i).run()}const u=l.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Cs(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&l.join(n.from-1)}})}class Lt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ne(I(this,"addOptions",{name:this.name}))),this.storage=ne(I(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Lt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>id(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Lt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ne(I(n,"addOptions",{name:n.name})),n.storage=ne(I(n,"addStorage",{name:n.name,options:n.options})),n}}function gi(t){return new q3({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=ne(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:l}=e,o=r[r.length-1],a=r[0];let c=n.to;if(o){const u=a.search(/\S/),f=n.from+a.indexOf(o),d=f+o.length;if(iy(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===t.type&&b!==m.mark.type)).filter(m=>m.to>f).length)return null;d<n.to&&l.delete(d,n.to),f>n.from&&l.delete(n.from+u,f),c=n.from+u+o.length,l.addMark(n.from+u,c,t.type.create(i||{})),l.removeStoredMark(t.type)}}})}function O6(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Z){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function M6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xk={exports:{}},wh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function R6(){if(Fb)return wh;Fb=1;var t=Ne;function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function o(f,d){var p=d(),m=r({inst:{value:p,getSnapshot:d}}),g=m[0].inst,b=m[1];return i(function(){g.value=p,g.getSnapshot=d,a(g)&&b({inst:g})},[f,p,d]),s(function(){return a(g)&&b({inst:g}),f(function(){a(g)&&b({inst:g})})},[f]),l(p),p}function a(f){var d=f.getSnapshot;f=f.value;try{var p=d();return!n(f,p)}catch{return!0}}function c(f,d){return d()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return wh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,wh}xk.exports=R6();var oy=xk.exports;const D6=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},j6=({contentComponent:t})=>{const e=oy.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Ne.createElement(Ne.Fragment,null,Object.values(e))};function _6(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:BT.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}class z6 extends Ne.Component{constructor(e){var n;super(e),this.editorContentRef=Ne.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=_6(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Ne.createElement(Ne.Fragment,null,Ne.createElement("div",{ref:D6(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Ne.createElement(j6,{contentComponent:e.contentComponent}))}}const L6=w.forwardRef((t,e)=>{const n=Ne.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ne.createElement(z6,{key:n,innerRef:e,...t})}),B6=Ne.memo(L6);var U6=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var l=i[s];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n},$6=M6(U6),bk={exports:{}},Eh={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function H6(){if(Zb)return Eh;Zb=1;var t=Ne,e=oy;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,l=t.useEffect,o=t.useMemo,a=t.useDebugValue;return Eh.useSyncExternalStoreWithSelector=function(c,u,f,d,p){var m=i(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=o(function(){function y(N){if(!x){if(x=!0,v=N,N=d(N),p!==void 0&&g.hasValue){var A=g.value;if(p(A,N))return S=A}return S=N}if(A=S,r(v,N))return A;var O=d(N);return p!==void 0&&p(A,O)?A:(v=N,S=O)}var x=!1,v,S,k=f===void 0?null:f;return[function(){return y(u())},k===null?void 0:function(){return y(k())}]},[u,f,d,p]);var b=s(c,m[0],m[1]);return l(function(){g.hasValue=!0,g.value=b},[b]),a(b),b},Eh}bk.exports=H6();var P6=bk.exports;const V6=typeof window<"u"?w.useLayoutEffect:w.useEffect;class I6{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function q6(t){var e;const[n]=w.useState(()=>new I6(t.editor)),r=P6.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:$6);return V6(()=>n.watch(t.editor),[t.editor,n]),w.useDebugValue(r),r}const F6=!1,om=typeof window>"u",Z6=om||!!(typeof window<"u"&&window.next);class ay{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?om||Z6?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)===null||i===void 0?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)===null||i===void 0?void 0:i.call(s,...r)}};return new C6(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var l;return s===((l=n.extensions)===null||l===void 0?void 0:l[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ay.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function K6(t={},e=[]){const n=w.useRef(t);n.current=t;const[r]=w.useState(()=>new ay(n)),s=oy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return w.useDebugValue(s),w.useEffect(r.onRender(e)),q6({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const G6=w.createContext({editor:null});G6.Consumer;const Y6=w.createContext({onDragStart:void 0}),Q6=()=>w.useContext(Y6);Ne.forwardRef((t,e)=>{const{onDragStart:n}=Q6(),r=t.as||"div";return Ne.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const J6=/^\s*>\s$/,X6=Lt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[fa({find:J6,type:this.type})]}}),W6=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,e5=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,t5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,n5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,r5=Rr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kl({find:W6,type:this.type}),kl({find:t5,type:this.type})]},addPasteRules(){return[gi({find:e5,type:this.type}),gi({find:n5,type:this.type})]}}),s5="listItem",Kb="textStyle",Gb=/^\s*([-+*])\s$/,vk=Lt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(s5,this.editor.getAttributes(Kb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=fa({find:Gb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fa({find:Gb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Kb),editor:this.editor})),[t]}}),i5=/(^|[^`])`([^`]+)`(?!`)/,l5=/(^|[^`])`([^`]+)`(?!`)/g,o5=Rr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kl({find:i5,type:this.type})]},addPasteRules(){return[gi({find:l5,type:this.type})]}}),a5=/^```([a-z]+)?[\s\n]$/,c5=/^~~~([a-z]+)?[\s\n]$/,u5=Lt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",pt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!i||!l?!1:t.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const o=s.after();return o===void 0?!1:r.nodeAt(o)?t.commands.command(({tr:c})=>(c.setSelection(W.near(r.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[lm({find:a5,type:this.type,getAttributes:t=>({language:t[1]})}),lm({find:c5,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new wt({key:new on("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:l,schema:o}=t.state,a=o.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:i},a)),l.selection.$from.parent.type!==this.type&&l.setSelection(Y.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),f5=Lt.create({name:"doc",topNode:!0,content:"block+"});function d5(t={}){return new wt({view(e){return new h5(e,t)}})}class h5{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=l=>{this[s](l)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),l=i.width/s.offsetWidth,o=i.height/s.offsetHeight;if(n){let f=e.nodeBefore,d=e.nodeAfter;if(f||d){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let m=p.getBoundingClientRect(),g=f?m.bottom:m.top;f&&d&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*o;r={left:m.left,right:m.right,top:g-b,bottom:g+b}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*l;r={left:f.left-d,right:f.left+d,top:f.top,bottom:f.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!a||a==document.body&&getComputedStyle(a).position=="static")c=-pageXOffset,u=-pageYOffset;else{let f=a.getBoundingClientRect(),d=f.width/a.offsetWidth,p=f.height/a.offsetHeight;c=f.left-a.scrollLeft*d,u=f.top-a.scrollTop*p}this.element.style.left=(r.left-c)/l+"px",this.element.style.top=(r.top-u)/o+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=iN(this.editorView.state.doc,l,this.editorView.dragging.slice);o!=null&&(l=o)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const p5=Ct.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[d5(this.options)]}});class Ie extends W{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ie.valid(r)?new Ie(r):W.near(r)}content(){return H.empty}eq(e){return e instanceof Ie&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ie(e.resolve(n.pos))}getBookmark(){return new cy(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!m5(e)||!g5(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ie.valid(e))return e;let s=e.pos,i=null;for(let l=e.depth;;l--){let o=e.node(l);if(n>0?e.indexAfter(l)<o.childCount:e.index(l)>0){i=o.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;s+=n;let a=e.doc.resolve(s);if(Ie.valid(a))return a}for(;;){let l=n>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!Z.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=l,s+=n;let o=e.doc.resolve(s);if(Ie.valid(o))return o}return null}}}Ie.prototype.visible=!1;Ie.findFrom=Ie.findGapCursorFrom;W.jsonID("gapcursor",Ie);class cy{constructor(e){this.pos=e}map(e){return new cy(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ie.valid(n)?new Ie(n):W.near(n)}}function m5(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function g5(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function y5(){return new wt({props:{decorations:S5,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ie.valid(n)?new Ie(n):null},handleClick:b5,handleKeyDown:x5,handleDOMEvents:{beforeinput:v5}}})}const x5=KN({ArrowLeft:hc("horiz",-1),ArrowRight:hc("horiz",1),ArrowUp:hc("vert",-1),ArrowDown:hc("vert",1)});function hc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let l=r.selection,o=e>0?l.$to:l.$from,a=l.empty;if(l instanceof Y){if(!i.endOfTextblock(n)||o.depth==0)return!1;a=!1,o=r.doc.resolve(e>0?o.after():o.before())}let c=Ie.findGapCursorFrom(o,e,a);return c?(s&&s(r.tr.setSelection(new Ie(c))),!0):!1}}function b5(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ie.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Z.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ie(r))),!0)}function v5(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ie))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=j.empty;for(let l=r.length-1;l>=0;l--)s=j.from(r[l].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new H(s,0,0));return i.setSelection(Y.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function S5(t){if(!(t.selection instanceof Ie))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",nt.create(t.doc,[vn.widget(t.selection.head,e,{key:"gapcursor"})])}const w5=Ct.create({name:"gapCursor",addProseMirrorPlugins(){return[y5()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ne(I(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),E5=Lt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",pt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:o}=r.extensionManager,a=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&a&&l){const f=a.filter(d=>o.includes(d.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),N5=Lt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>lm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Hu=200,dt=function(){};dt.prototype.append=function(e){return e.length?(e=dt.from(e),!this.length&&e||e.length<Hu&&this.leafAppend(e)||this.length<Hu&&e.leafPrepend(this)||this.appendInner(e)):this};dt.prototype.prepend=function(e){return e.length?dt.from(e).append(this):this};dt.prototype.appendInner=function(e){return new k5(this,e)};dt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};dt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};dt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,l){return s.push(e(i,l))},n,r),s};dt.from=function(e){return e instanceof dt?e:e&&e.length?new Sk(e):dt.empty};var Sk=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,l,o){for(var a=i;a<l;a++)if(s(this.values[a],o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,l,o){for(var a=i-1;a>=l;a--)if(s(this.values[a],o+a)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Hu)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Hu)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(dt);dt.empty=new Sk([]);var k5=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,l){var o=this.left.length;if(s<o&&this.left.forEachInner(r,s,Math.min(i,o),l)===!1||i>o&&this.right.forEachInner(r,Math.max(s-o,0),Math.min(this.length,i)-o,l+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,l){var o=this.left.length;if(s>o&&this.right.forEachInvertedInner(r,s-o,Math.max(i,o)-o,l+o)===!1||i<o&&this.left.forEachInvertedInner(r,Math.min(s,o),i,l)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(dt);const T5=500;class An{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let l=e.tr,o,a,c=[],u=[];return this.items.forEach((f,d)=>{if(!f.step){s||(s=this.remapping(r,d+1),i=s.maps.length),i--,u.push(f);return}if(s){u.push(new Un(f.map));let p=f.step.map(s.slice(i)),m;p&&l.maybeStep(p).doc&&(m=l.mapping.maps[l.mapping.maps.length-1],c.push(new Un(m,void 0,void 0,c.length+u.length))),i--,m&&s.appendMap(m,i)}else l.maybeStep(f.step);if(f.selection)return o=s?f.selection.map(s.slice(i)):f.selection,a=new An(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:l,selection:o}}addTransform(e,n,r,s){let i=[],l=this.eventCount,o=this.items,a=!s&&o.length?o.get(o.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),d=new Un(e.mapping.maps[u],f,n),p;(p=a&&a.merge(d))&&(d=p,u?i.pop():o=o.slice(0,o.length-1)),i.push(d),n&&(l++,n=void 0),s||(a=d)}let c=l-r.depth;return c>C5&&(o=A5(o,c),l-=c),new An(o.append(i),l)}remapping(e,n){let r=new sa;return this.items.forEach((s,i)=>{let l=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new An(this.items.append(e.map(n=>new Un(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,o=this.eventCount;this.items.forEach(d=>{d.selection&&o--},s);let a=n;this.items.forEach(d=>{let p=i.getMirror(--a);if(p==null)return;l=Math.min(l,p);let m=i.maps[p];if(d.step){let g=e.steps[p].invert(e.docs[p]),b=d.selection&&d.selection.map(i.slice(a+1,p));b&&o++,r.push(new Un(m,g,b))}else r.push(new Un(m))},s);let c=[];for(let d=n;d<l;d++)c.push(new Un(i.maps[d]));let u=this.items.slice(0,s).append(c).append(r),f=new An(u,o);return f.emptyItemCount()>T5&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((l,o)=>{if(o>=e)s.push(l),l.selection&&i++;else if(l.step){let a=l.step.map(n.slice(r)),c=a&&a.getMap();if(r--,c&&n.appendMap(c,r),a){let u=l.selection&&l.selection.map(n.slice(r));u&&i++;let f=new Un(c.invert(),a,u),d,p=s.length-1;(d=s.length&&s[p].merge(f))?s[p]=d:s.push(f)}}else l.map&&r--},this.items.length,0),new An(dt.from(s.reverse()),i)}}An.empty=new An(dt.empty,0);function A5(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Un{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Un(n.getMap().invert(),n,this.selection)}}}class Ir{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const C5=20;function O5(t,e,n,r){let s=n.getMeta(ii),i;if(s)return s.historyState;n.getMeta(D5)&&(t=new Ir(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(ii))return l.getMeta(ii).redo?new Ir(t.done.addTransform(n,void 0,r,Ic(e)),t.undone,Yb(n.mapping.maps),t.prevTime,t.prevComposition):new Ir(t.done,t.undone.addTransform(n,void 0,r,Ic(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),a=t.prevTime==0||!l&&t.prevComposition!=o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!M5(n,t.prevRanges)),c=l?Nh(t.prevRanges,n.mapping):Yb(n.mapping.maps);return new Ir(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Ic(e)),An.empty,c,n.time,o??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Ir(t.done.rebased(n,i),t.undone.rebased(n,i),Nh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Ir(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Nh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function M5(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function Yb(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,l)=>e.push(i,l));return e}function Nh(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function R5(t,e,n){let r=Ic(e),s=ii.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let l=i.selection.resolve(i.transform.doc),o=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),a=new Ir(n?o:i.remaining,n?i.remaining:o,null,0,-1);return i.transform.setSelection(l).setMeta(ii,{redo:n,historyState:a})}let kh=!1,Qb=null;function Ic(t){let e=t.plugins;if(Qb!=e){kh=!1,Qb=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){kh=!0;break}}return kh}const ii=new on("history"),D5=new on("closeHistory");function j5(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new wt({key:ii,state:{init(){return new Ir(An.empty,An.empty,null,0,-1)},apply(e,n,r){return O5(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?Ek:r=="historyRedo"?Nk:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function wk(t,e){return(n,r)=>{let s=ii.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=R5(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const Ek=wk(!1,!0),Nk=wk(!0,!0),_5=Ct.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Ek(t,e),redo:()=>({state:t,dispatch:e})=>Nk(t,e)}},addProseMirrorPlugins(){return[j5(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),z5=Lt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",pt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!O6(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:s}=n,i=t();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):Jz(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:l,dispatch:o})=>{var a;if(o){const{$to:c}=l.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?l.setSelection(Y.create(l.doc,c.pos+1)):c.nodeAfter.isBlock?l.setSelection(Z.create(l.doc,c.pos)):l.setSelection(Y.create(l.doc,c.pos));else{const f=(a=c.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();f&&(l.insert(u,f),l.setSelection(Y.create(l.doc,u+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yk({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),L5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,B5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,U5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,$5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,H5=Rr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kl({find:L5,type:this.type}),kl({find:U5,type:this.type})]},addPasteRules(){return[gi({find:B5,type:this.type}),gi({find:$5,type:this.type})]}}),kk=Lt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",pt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),P5="listItem",Jb="textStyle",Xb=/^(\d+)\.\s$/,Tk=Lt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",pt(this.options.HTMLAttributes,n),0]:["ol",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(P5,this.editor.getAttributes(Jb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=fa({find:Xb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fa({find:Xb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Jb)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),V5=Lt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),I5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,q5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,F5=Rr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kl({find:I5,type:this.type})]},addPasteRules(){return[gi({find:q5,type:this.type})]}}),Z5=Lt.create({name:"text",group:"inline"}),K5=Ct.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(r5.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(X6.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(vk.configure(this.options.bulletList)),this.options.code!==!1&&t.push(o5.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(u5.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(f5.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(p5.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(w5.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(E5.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(N5.configure(this.options.heading)),this.options.history!==!1&&t.push(_5.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(z5.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(H5.configure(this.options.italic)),this.options.listItem!==!1&&t.push(kk.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(Tk.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(V5.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(F5.configure(this.options.strike)),this.options.text!==!1&&t.push(Z5.configure(this.options.text)),t}}),G5="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Y5="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Tl=(t,e)=>{for(const n in e)t[n]=e[n];return t},am="numeric",cm="ascii",um="alpha",Mo="asciinumeric",ao="alphanumeric",fm="domain",Ak="emoji",Q5="scheme",J5="slashscheme",Th="whitespace";function X5(t,e){return t in e||(e[t]=[]),e[t]}function Fs(t,e,n){e[am]&&(e[Mo]=!0,e[ao]=!0),e[cm]&&(e[Mo]=!0,e[um]=!0),e[Mo]&&(e[ao]=!0),e[um]&&(e[ao]=!0),e[ao]&&(e[fm]=!0),e[Ak]&&(e[fm]=!0);for(const r in e){const s=X5(r,n);s.indexOf(t)<0&&s.push(t)}}function W5(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Vt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Vt.groups={};Vt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Vt.groups;let s;return e&&e.j?s=e:(s=new Vt(e),n&&r&&Fs(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let l=0;l<i-1;l++)s=s.tt(t[l]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Vt.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let l,o=s.go(t);if(o?(l=new Vt,Tl(l.j,o.j),l.jr.push.apply(l.jr,o.jr),l.jd=o.jd,l.t=o.t):l=new Vt,i){if(r)if(l.t&&typeof l.t=="string"){const a=Tl(W5(l.t,r),n);Fs(i,a,r)}else n&&Fs(i,n,r);l.t=i}return s.j[t]=l,l}};const ee=(t,e,n,r,s)=>t.ta(e,n,r,s),Pe=(t,e,n,r,s)=>t.tr(e,n,r,s),Wb=(t,e,n,r,s)=>t.ts(e,n,r,s),z=(t,e,n,r,s)=>t.tt(e,n,r,s),cr="WORD",dm="UWORD",Ck="ASCIINUMERICAL",Ok="ALPHANUMERICAL",da="LOCALHOST",hm="TLD",pm="UTLD",qc="SCHEME",$i="SLASH_SCHEME",uy="NUM",mm="WS",fy="NL",Ro="OPENBRACE",Do="CLOSEBRACE",Pu="OPENBRACKET",Vu="CLOSEBRACKET",Iu="OPENPAREN",qu="CLOSEPAREN",Fu="OPENANGLEBRACKET",Zu="CLOSEANGLEBRACKET",Ku="FULLWIDTHLEFTPAREN",Gu="FULLWIDTHRIGHTPAREN",Yu="LEFTCORNERBRACKET",Qu="RIGHTCORNERBRACKET",Ju="LEFTWHITECORNERBRACKET",Xu="RIGHTWHITECORNERBRACKET",Wu="FULLWIDTHLESSTHAN",ef="FULLWIDTHGREATERTHAN",tf="AMPERSAND",nf="APOSTROPHE",rf="ASTERISK",qr="AT",sf="BACKSLASH",lf="BACKTICK",of="CARET",Jr="COLON",dy="COMMA",af="DOLLAR",$n="DOT",cf="EQUALS",hy="EXCLAMATION",un="HYPHEN",jo="PERCENT",uf="PIPE",ff="PLUS",df="POUND",_o="QUERY",py="QUOTE",Mk="FULLWIDTHMIDDLEDOT",my="SEMI",Hn="SLASH",zo="TILDE",hf="UNDERSCORE",Rk="EMOJI",pf="SYM";var Dk=Object.freeze({__proto__:null,ALPHANUMERICAL:Ok,AMPERSAND:tf,APOSTROPHE:nf,ASCIINUMERICAL:Ck,ASTERISK:rf,AT:qr,BACKSLASH:sf,BACKTICK:lf,CARET:of,CLOSEANGLEBRACKET:Zu,CLOSEBRACE:Do,CLOSEBRACKET:Vu,CLOSEPAREN:qu,COLON:Jr,COMMA:dy,DOLLAR:af,DOT:$n,EMOJI:Rk,EQUALS:cf,EXCLAMATION:hy,FULLWIDTHGREATERTHAN:ef,FULLWIDTHLEFTPAREN:Ku,FULLWIDTHLESSTHAN:Wu,FULLWIDTHMIDDLEDOT:Mk,FULLWIDTHRIGHTPAREN:Gu,HYPHEN:un,LEFTCORNERBRACKET:Yu,LEFTWHITECORNERBRACKET:Ju,LOCALHOST:da,NL:fy,NUM:uy,OPENANGLEBRACKET:Fu,OPENBRACE:Ro,OPENBRACKET:Pu,OPENPAREN:Iu,PERCENT:jo,PIPE:uf,PLUS:ff,POUND:df,QUERY:_o,QUOTE:py,RIGHTCORNERBRACKET:Qu,RIGHTWHITECORNERBRACKET:Xu,SCHEME:qc,SEMI:my,SLASH:Hn,SLASH_SCHEME:$i,SYM:pf,TILDE:zo,TLD:hm,UNDERSCORE:hf,UTLD:pm,UWORD:dm,WORD:cr,WS:mm});const lr=/[a-z]/,Jl=new RegExp("\\p{L}","u"),Ah=new RegExp("\\p{Emoji}","u"),or=/\d/,Ch=/\s/,e1="\r",Oh=`
`,eL="",tL="",Mh="";let pc=null,mc=null;function nL(t=[]){const e={};Vt.groups=e;const n=new Vt;pc==null&&(pc=t1(G5)),mc==null&&(mc=t1(Y5)),z(n,"'",nf),z(n,"{",Ro),z(n,"}",Do),z(n,"[",Pu),z(n,"]",Vu),z(n,"(",Iu),z(n,")",qu),z(n,"<",Fu),z(n,">",Zu),z(n,"",Ku),z(n,"",Gu),z(n,"",Yu),z(n,"",Qu),z(n,"",Ju),z(n,"",Xu),z(n,"",Wu),z(n,"",ef),z(n,"&",tf),z(n,"*",rf),z(n,"@",qr),z(n,"`",lf),z(n,"^",of),z(n,":",Jr),z(n,",",dy),z(n,"$",af),z(n,".",$n),z(n,"=",cf),z(n,"!",hy),z(n,"-",un),z(n,"%",jo),z(n,"|",uf),z(n,"+",ff),z(n,"#",df),z(n,"?",_o),z(n,'"',py),z(n,"/",Hn),z(n,";",my),z(n,"~",zo),z(n,"_",hf),z(n,"\\",sf),z(n,"",Mk);const r=Pe(n,or,uy,{[am]:!0});Pe(r,or,r);const s=Pe(r,lr,Ck,{[Mo]:!0}),i=Pe(r,Jl,Ok,{[ao]:!0}),l=Pe(n,lr,cr,{[cm]:!0});Pe(l,or,s),Pe(l,lr,l),Pe(s,or,s),Pe(s,lr,s);const o=Pe(n,Jl,dm,{[um]:!0});Pe(o,lr),Pe(o,or,i),Pe(o,Jl,o),Pe(i,or,i),Pe(i,lr),Pe(i,Jl,i);const a=z(n,Oh,fy,{[Th]:!0}),c=z(n,e1,mm,{[Th]:!0}),u=Pe(n,Ch,mm,{[Th]:!0});z(n,Mh,u),z(c,Oh,a),z(c,Mh,u),Pe(c,Ch,u),z(u,e1),z(u,Oh),Pe(u,Ch,u),z(u,Mh,u);const f=Pe(n,Ah,Rk,{[Ak]:!0});z(f,"#"),Pe(f,Ah,f),z(f,eL,f);const d=z(f,tL);z(d,"#"),Pe(d,Ah,f);const p=[[lr,l],[or,s]],m=[[lr,null],[Jl,o],[or,i]];for(let g=0;g<pc.length;g++)Br(n,pc[g],hm,cr,p);for(let g=0;g<mc.length;g++)Br(n,mc[g],pm,dm,m);Fs(hm,{tld:!0,ascii:!0},e),Fs(pm,{utld:!0,alpha:!0},e),Br(n,"file",qc,cr,p),Br(n,"mailto",qc,cr,p),Br(n,"http",$i,cr,p),Br(n,"https",$i,cr,p),Br(n,"ftp",$i,cr,p),Br(n,"ftps",$i,cr,p),Fs(qc,{scheme:!0,ascii:!0},e),Fs($i,{slashscheme:!0,ascii:!0},e),t=t.sort((g,b)=>g[0]>b[0]?1:-1);for(let g=0;g<t.length;g++){const b=t[g][0],x=t[g][1]?{[Q5]:!0}:{[J5]:!0};b.indexOf("-")>=0?x[fm]=!0:lr.test(b)?or.test(b)?x[Mo]=!0:x[cm]=!0:x[am]=!0,Wb(n,b,b,x)}return Wb(n,"localhost",da,{ascii:!0}),n.jd=new Vt(pf),{start:n,tokens:Tl({groups:e},Dk)}}function jk(t,e){const n=rL(e.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,s=[];let i=0,l=0;for(;l<r;){let o=t,a=null,c=0,u=null,f=-1,d=-1;for(;l<r&&(a=o.go(n[l]));)o=a,o.accepts()?(f=0,d=0,u=o):f>=0&&(f+=n[l].length,d++),c+=n[l].length,i+=n[l].length,l++;i-=f,l-=d,c-=f,s.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return s}function rL(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,l=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Br(t,e,n,r,s){let i;const l=e.length;for(let o=0;o<l-1;o++){const a=e[o];t.j[a]?i=t.j[a]:(i=new Vt(r),i.jr=s.slice(),t.j[a]=i),t=i}return i=new Vt(n),i.jr=s.slice(),t.j[e[l-1]]=i,i}function t1(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+i),10);l>0;l--)n.pop();r+=i}else n.push(t[r]),r++}return e}const ha={defaultProtocol:"http",events:null,format:n1,formatHref:n1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function gy(t,e=null){let n=Tl({},ha);t&&(n=Tl(n,t instanceof gy?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}gy.prototype={o:ha,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:ha[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function n1(t){return t}function _k(t,e){this.t="token",this.v=t,this.tk=e}_k.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ha.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),l={},o=t.get("className",n,e),a=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return l.href=r,o&&(l.class=o),a&&(l.target=a),c&&(l.rel=c),u&&Tl(l,u),{tagName:s,attributes:l,content:i,eventListeners:f}}};function od(t,e){class n extends _k{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const r1=od("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),s1=od("text"),sL=od("nl"),gc=od("url",{isLink:!0,toHref(t=ha.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==da&&t[1].t===Jr}}),cn=t=>new Vt(t);function iL({groups:t}){const e=t.domain.concat([tf,rf,qr,sf,lf,of,af,cf,un,uy,jo,uf,ff,df,Hn,pf,zo,hf]),n=[nf,Jr,dy,$n,hy,jo,_o,py,my,Fu,Zu,Ro,Do,Vu,Pu,Iu,qu,Ku,Gu,Yu,Qu,Ju,Xu,Wu,ef],r=[tf,nf,rf,sf,lf,of,af,cf,un,Ro,Do,jo,uf,ff,df,_o,Hn,pf,zo,hf],s=cn(),i=z(s,zo);ee(i,r,i),ee(i,t.domain,i);const l=cn(),o=cn(),a=cn();ee(s,t.domain,l),ee(s,t.scheme,o),ee(s,t.slashscheme,a),ee(l,r,i),ee(l,t.domain,l);const c=z(l,qr);z(i,qr,c),z(o,qr,c),z(a,qr,c);const u=z(i,$n);ee(u,r,i),ee(u,t.domain,i);const f=cn();ee(c,t.domain,f),ee(f,t.domain,f);const d=z(f,$n);ee(d,t.domain,f);const p=cn(r1);ee(d,t.tld,p),ee(d,t.utld,p),z(c,da,p);const m=z(f,un);z(m,un,m),ee(m,t.domain,f),ee(p,t.domain,f),z(p,$n,d),z(p,un,m);const g=z(p,Jr);ee(g,t.numeric,r1);const b=z(l,un),y=z(l,$n);z(b,un,b),ee(b,t.domain,l),ee(y,r,i),ee(y,t.domain,l);const x=cn(gc);ee(y,t.tld,x),ee(y,t.utld,x),ee(x,t.domain,l),ee(x,r,i),z(x,$n,y),z(x,un,b),z(x,qr,c);const v=z(x,Jr),S=cn(gc);ee(v,t.numeric,S);const k=cn(gc),N=cn();ee(k,e,k),ee(k,n,N),ee(N,e,k),ee(N,n,N),z(x,Hn,k),z(S,Hn,k);const A=z(o,Jr),O=z(a,Jr),_=z(O,Hn),$=z(_,Hn);ee(o,t.domain,l),z(o,$n,y),z(o,un,b),ee(a,t.domain,l),z(a,$n,y),z(a,un,b),ee(A,t.domain,k),z(A,Hn,k),z(A,_o,k),ee($,t.domain,k),ee($,e,k),z($,Hn,k);const ie=[[Ro,Do],[Pu,Vu],[Iu,qu],[Fu,Zu],[Ku,Gu],[Yu,Qu],[Ju,Xu],[Wu,ef]];for(let K=0;K<ie.length;K++){const[ae,be]=ie[K],Oe=z(k,ae);z(N,ae,Oe),z(Oe,be,k);const L=cn(gc);ee(Oe,e,L);const q=cn();ee(Oe,n),ee(L,e,L),ee(L,n,q),ee(q,e,L),ee(q,n,q),z(L,be,k),z(q,be,k)}return z(s,da,x),z(s,fy,sL),{start:s,tokens:Dk}}function lL(t,e,n){let r=n.length,s=0,i=[],l=[];for(;s<r;){let o=t,a=null,c=null,u=0,f=null,d=-1;for(;s<r&&!(a=o.go(n[s].t));)l.push(n[s++]);for(;s<r&&(c=a||o.go(n[s].t));)a=null,o=c,o.accepts()?(d=0,f=o):d>=0&&d++,s++,u++;if(d<0)s-=u,s<r&&(l.push(n[s]),s++);else{l.length>0&&(i.push(Rh(s1,e,l)),l=[]),s-=d,u-=d;const p=f.t,m=n.slice(s-u,s);i.push(Rh(p,e,m))}}return l.length>0&&i.push(Rh(s1,e,l)),i}function Rh(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const oL=typeof console<"u"&&console&&console.warn||(()=>{}),aL="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Te={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cL(){return Vt.groups={},Te.scanner=null,Te.parser=null,Te.tokenQueue=[],Te.pluginQueue=[],Te.customSchemes=[],Te.initialized=!1,Te}function i1(t,e=!1){if(Te.initialized&&oL(`linkifyjs: already initialized - will not register custom scheme "${t}" ${aL}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Te.customSchemes.push([t,e])}function uL(){Te.scanner=nL(Te.customSchemes);for(let t=0;t<Te.tokenQueue.length;t++)Te.tokenQueue[t][1]({scanner:Te.scanner});Te.parser=iL(Te.scanner.tokens);for(let t=0;t<Te.pluginQueue.length;t++)Te.pluginQueue[t][1]({scanner:Te.scanner,parser:Te.parser});return Te.initialized=!0,Te}function yy(t){return Te.initialized||uL(),lL(Te.parser.start,t,jk(Te.scanner.start,t))}yy.scan=jk;function zk(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new gy(n),s=yy(t),i=[];for(let l=0;l<s.length;l++){const o=s[l];o.isLink&&(!e||o.t===e)&&r.check(o)&&i.push(o.toFormattedObject(r))}return i}const xy="[\0- -\u2029]",fL=new RegExp(xy),dL=new RegExp(`${xy}$`),hL=new RegExp(xy,"g");function pL(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function mL(t){return new wt({key:new on("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!s||i)return;const{tr:l}=r,o=Pz(n.doc,[...e]);if(Yz(o).forEach(({newRange:c})=>{const u=Iz(r.doc,c,p=>p.isTextblock);let f,d;if(u.length>1)f=u[0],d=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(u.length){const p=r.doc.textBetween(c.from,c.to," "," ");if(!dL.test(p))return;f=u[0],d=r.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&d){const p=d.split(fL).filter(Boolean);if(p.length<=0)return!1;const m=p[p.length-1],g=f.pos+d.lastIndexOf(m);if(!m)return!1;const b=yy(m).map(y=>y.toObject(t.defaultProtocol));if(!pL(b))return!1;b.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{iy(y.from,y.to,r.doc).some(x=>x.mark.type===t.type)||l.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!l.steps.length)return l}})}function gL(t){return new wt({key:new on("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let l=r.target;const o=[];for(;l.nodeName!=="DIV";)o.push(l),l=l.parentNode;if(!o.find(d=>d.nodeName==="A"))return!1;const a=gk(e.state,t.type.name),c=r.target,u=(s=c==null?void 0:c.href)!==null&&s!==void 0?s:a.href,f=(i=c==null?void 0:c.target)!==null&&i!==void 0?i:a.target;return c&&u?(window.open(u,f),!0):!1}}})}function yL(t){return new wt({key:new on("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:l}=i;if(l)return!1;let o="";r.content.forEach(c=>{o+=c.textContent});const a=zk(o,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===o);return!o||!a?!1:t.editor.commands.setMark(t.type,{href:a.href})}}})}function _s(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(hL,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const xL=Rr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){i1(t);return}i1(t.scheme,t.optionalSlashes)})},onDestroy(){cL()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!_s(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!_s(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!_s(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",pt(this.options.HTMLAttributes,t),0]:["a",pt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!_s(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!_s(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[gi({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=zk(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:l=>!!_s(l,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(mL({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!_s(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(gL({type:this.type})),this.options.linkOnPaste&&t.push(yL({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),bL=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,vL=Lt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",pt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[yk({find:bL,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),SL=Ct.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Lk=({content:t,onChange:e,placeholder:n})=>{const r=K6({extensions:[K5,xL.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary-600 underline"}}),vL.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),SL.configure({types:["heading","paragraph"]}),vk.configure({HTMLAttributes:{class:"list-disc list-inside"}}),Tk.configure({HTMLAttributes:{class:"list-decimal list-inside"}}),kk],content:t,onUpdate:({editor:l})=>{e(l.getHTML())},editorProps:{attributes:{class:"prose max-w-none focus:outline-none min-h-[200px] p-3",placeholder:n||"Start writing..."}}});if(!r)return null;const s=()=>{const l=window.prompt("Enter URL:");l&&r.chain().focus().setLink({href:l}).run()},i=()=>{const l=window.prompt("Enter image URL:");l&&r.chain().focus().setImage({src:l}).run()};return h.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"border-b border-gray-200 p-2 flex flex-wrap gap-1 bg-gray-50",children:[h.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive("bold")?"bg-gray-200":""}`,title:"Bold",children:h.jsx(_D,{className:"h-4 w-4"})}),h.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive("italic")?"bg-gray-200":""}`,title:"Italic",children:h.jsx(ej,{className:"h-4 w-4"})}),h.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive("strike")?"bg-gray-200":""}`,title:"Strikethrough",children:h.jsx(bj,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),h.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive("bulletList")?"bg-gray-200":""}`,title:"Bullet List",children:h.jsx(oj,{className:"h-4 w-4"})}),h.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive("orderedList")?"bg-gray-200":""}`,title:"Numbered List",children:h.jsx(ij,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),h.jsx("button",{type:"button",onClick:()=>r.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive({textAlign:"left"})?"bg-gray-200":""}`,title:"Align Left",children:h.jsx(AD,{className:"h-4 w-4"})}),h.jsx("button",{type:"button",onClick:()=>r.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive({textAlign:"center"})?"bg-gray-200":""}`,title:"Align Center",children:h.jsx(kD,{className:"h-4 w-4"})}),h.jsx("button",{type:"button",onClick:()=>r.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-200 ${r.isActive({textAlign:"right"})?"bg-gray-200":""}`,title:"Align Right",children:h.jsx(OD,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),h.jsx("button",{type:"button",onClick:s,className:`p-2 rounded hover:bg-gray-200 ${r.isActive("link")?"bg-gray-200":""}`,title:"Add Link",children:h.jsx(rj,{className:"h-4 w-4"})}),h.jsx("button",{type:"button",onClick:i,className:"p-2 rounded hover:bg-gray-200",title:"Add Image",children:h.jsx(XD,{className:"h-4 w-4"})})]}),h.jsx(B6,{editor:r})]})},wL=()=>{const{id:t}=qw(),{user:e}=As(),[n,r]=w.useState(null),[s,i]=w.useState(!0),[l,o]=w.useState(""),[a,c]=w.useState(!1);w.useEffect(()=>{t&&u()},[t]);const u=async()=>{try{i(!0);const g=await $e.get(`/api/questions/${t}`);g.data.success&&r(g.data.data.question)}catch(g){console.error("Failed to fetch question:",g),Ye.error("Failed to load question")}finally{i(!1)}},f=async(g,b,y)=>{var x,v,S;if(!e){Ye.error("Please login to vote");return}try{const k=g==="question"?`/api/questions/${b}/vote`:`/api/answers/${b}/vote`,N=await $e.post(k,{type:y}),{votes:A,userVote:O}=N.data.data;g==="question"&&n?r({...n,votes:A,userVote:O}):g==="answer"&&n&&r({...n,answers:n.answers.map(_=>_.id===b?{..._,votes:A,userVote:O}:_)}),Ye.success(`Vote ${O?"recorded":"removed"}!`)}catch(k){const N=((S=(v=(x=k.response)==null?void 0:x.data)==null?void 0:v.error)==null?void 0:S.message)||"Failed to vote";Ye.error(N)}},d=async g=>{var b,y,x;if(!e){Ye.error("Please login to accept answers");return}try{await $e.post(`/api/answers/${g}/accept`),Ye.success("Answer accepted!"),u()}catch(v){const S=((x=(y=(b=v.response)==null?void 0:b.data)==null?void 0:y.error)==null?void 0:x.message)||"Failed to accept answer";Ye.error(S)}},p=async()=>{var g,b,y;if(!e){Ye.error("Please login to answer questions");return}if(!l.trim()){Ye.error("Please enter your answer");return}try{c(!0),await $e.post("/api/answers",{content:l,questionId:parseInt(t)}),Ye.success("Answer posted successfully!"),o(""),u()}catch(x){const v=((y=(b=(g=x.response)==null?void 0:g.data)==null?void 0:b.error)==null?void 0:y.message)||"Failed to post answer";Ye.error(v)}finally{c(!1)}},m=g=>{const b=new Date(g),x=new Date().getTime()-b.getTime(),v=Math.floor(x/6e4),S=Math.floor(x/36e5),k=Math.floor(x/864e5);return v<1?"Just now":v<60?`${v} min ago`:S<24?`${S} hour${S>1?"s":""} ago`:`${k} day${k>1?"s":""} ago`};return s?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading question..."})]}):n?h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("nav",{className:"mb-4 text-sm text-gray-600",children:[h.jsx(Re,{to:"/",className:"text-primary-600 hover:text-primary-700",children:"Questions"}),h.jsx("span",{className:"mx-2",children:">"}),h.jsx("span",{className:"truncate",children:n.title})]}),h.jsxs("div",{className:"card p-6 mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.title}),h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("button",{onClick:()=>f("question",n.id,"up"),className:`p-2 rounded-full hover:bg-gray-100 ${n.userVote==="up"?"text-green-600 bg-green-50":"text-gray-600"}`,disabled:!e,children:h.jsx(Tu,{className:"h-6 w-6"})}),h.jsx("span",{className:"text-lg font-semibold",children:n.votes}),h.jsx("button",{onClick:()=>f("question",n.id,"down"),className:`p-2 rounded-full hover:bg-gray-100 ${n.userVote==="down"?"text-red-600 bg-red-50":"text-gray-600"}`,disabled:!e,children:h.jsx(Lx,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"prose max-w-none mb-4",dangerouslySetInnerHTML:{__html:n.description}}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.tags.map(g=>h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded",style:{backgroundColor:`${g.color}20`,color:g.color},children:g.name},g.name))}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Mr,{className:"h-4 w-4"}),h.jsxs("span",{children:[n.views," views"]})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(fi,{className:"h-4 w-4"}),h.jsxs("span",{children:[n.answers.length," answers"]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:h.jsx(ta,{className:"h-4 w-4 text-gray-600"})}),h.jsx(Re,{to:`/users/${n.author}`,className:"hover:text-primary-600 transition-colors",children:n.author}),h.jsxs("span",{children:["asked ",m(n.created_at)]})]})]})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[n.answers.length," Answer",n.answers.length!==1?"s":""]}),h.jsx("div",{className:"space-y-6",children:n.answers.map(g=>h.jsx("div",{className:"card p-6",children:h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("button",{onClick:()=>f("answer",g.id,"up"),className:`p-2 rounded-full hover:bg-gray-100 ${g.userVote==="up"?"text-green-600 bg-green-50":"text-gray-600"}`,disabled:!e,children:h.jsx(Tu,{className:"h-6 w-6"})}),h.jsx("span",{className:"text-lg font-semibold",children:g.votes}),h.jsx("button",{onClick:()=>f("answer",g.id,"down"),className:`p-2 rounded-full hover:bg-gray-100 ${g.userVote==="down"?"text-red-600 bg-red-50":"text-gray-600"}`,disabled:!e,children:h.jsx(Lx,{className:"h-6 w-6"})}),e&&e.username===n.author&&h.jsx("button",{onClick:()=>d(g.id),className:`p-2 rounded-full hover:bg-gray-100 ${g.is_accepted?"text-green-600 bg-green-50":"text-gray-600"}`,title:g.is_accepted?"Accepted Answer":"Accept Answer",children:h.jsx(Bx,{className:"h-6 w-6"})}),g.is_accepted&&(e==null?void 0:e.username)!==n.author&&h.jsx("div",{className:"p-2 text-green-600",title:"Accepted Answer",children:h.jsx(Bx,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"prose max-w-none mb-4",dangerouslySetInnerHTML:{__html:g.content}}),h.jsx("div",{className:"flex items-center justify-end text-sm text-gray-500",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:h.jsx(ta,{className:"h-4 w-4 text-gray-600"})}),h.jsx(Re,{to:`/users/${g.author}`,className:"hover:text-primary-600 transition-colors",children:g.author}),h.jsxs("span",{children:["answered ",m(g.created_at)]})]})})]})]})},g.id))})]}),e&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Submit Your Answer"}),h.jsx("div",{className:"mb-4",children:h.jsx(Lk,{content:l,onChange:o,placeholder:"Write your answer here..."})}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:p,disabled:a||!l.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Submitting...":"Submit Answer"})})]}),!e&&h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to submit an answer"}),h.jsx(Re,{to:"/login",className:"btn-primary",children:"Log In"})]})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-gray-600",children:"Question not found"}),h.jsx(Re,{to:"/",className:"text-primary-600 hover:text-primary-700 mt-2 inline-block",children:"Back to questions"})]})};var Ha=t=>t.type==="checkbox",Zs=t=>t instanceof Date,Mt=t=>t==null;const Bk=t=>typeof t=="object";var Ke=t=>!Mt(t)&&!Array.isArray(t)&&Bk(t)&&!Zs(t),EL=t=>Ke(t)&&t.target?Ha(t.target)?t.target.checked:t.target.value:t,NL=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kL=(t,e)=>t.has(NL(e)),TL=t=>{const e=t.constructor&&t.constructor.prototype;return Ke(e)&&e.hasOwnProperty("isPrototypeOf")},by=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function it(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(by&&(t instanceof Blob||r))&&(n||Ke(t)))if(e=n?[]:{},!n&&!TL(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=it(t[s]));else return t;return e}var ad=t=>/^\w*$/.test(t),Je=t=>t===void 0,vy=t=>Array.isArray(t)?t.filter(Boolean):[],Sy=t=>vy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(t,e,n)=>{if(!e||!Ke(t))return n;const r=(ad(e)?[e]:Sy(e)).reduce((s,i)=>Mt(s)?s:s[i],t);return Je(r)||r===t?Je(t[e])?n:t[e]:r},Pn=t=>typeof t=="boolean",ve=(t,e,n)=>{let r=-1;const s=ad(e)?[e]:Sy(e),i=s.length,l=i-1;for(;++r<i;){const o=s[r];let a=n;if(r!==l){const c=t[o];a=Ke(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=a,t=t[o]}};const l1={BLUR:"blur",FOCUS_OUT:"focusout"},Cn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ar={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AL=Ne.createContext(null);AL.displayName="HookFormContext";var CL=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const l=i;return e._proxyFormState[l]!==Cn.all&&(e._proxyFormState[l]=!r||Cn.all),t[l]}});return s};const OL=typeof window<"u"?w.useLayoutEffect:w.useEffect;var Fn=t=>typeof t=="string",ML=(t,e,n,r,s)=>Fn(t)?(r&&e.watch.add(t),V(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),V(n,i))):(r&&(e.watchAll=!0),n),wy=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Lo=t=>Array.isArray(t)?t:[t],o1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},gm=t=>Mt(t)||!Bk(t);function Xr(t,e,n=new WeakSet){if(gm(t)||gm(e))return t===e;if(Zs(t)&&Zs(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const l=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Zs(l)&&Zs(o)||Ke(l)&&Ke(o)||Array.isArray(l)&&Array.isArray(o)?!Xr(l,o,n):l!==o)return!1}}return!0}var Ht=t=>Ke(t)&&!Object.keys(t).length,Ey=t=>t.type==="file",On=t=>typeof t=="function",mf=t=>{if(!by)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Uk=t=>t.type==="select-multiple",Ny=t=>t.type==="radio",RL=t=>Ny(t)||Ha(t),Dh=t=>mf(t)&&t.isConnected;function DL(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Je(t)?r++:t[e[r++]];return t}function jL(t){for(const e in t)if(t.hasOwnProperty(e)&&!Je(t[e]))return!1;return!0}function Ge(t,e){const n=Array.isArray(e)?e:ad(e)?[e]:Sy(e),r=n.length===1?t:DL(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ke(r)&&Ht(r)||Array.isArray(r)&&jL(r))&&Ge(t,n.slice(0,-1)),t}var $k=t=>{for(const e in t)if(On(t[e]))return!0;return!1};function gf(t,e={}){const n=Array.isArray(t);if(Ke(t)||n)for(const r in t)Array.isArray(t[r])||Ke(t[r])&&!$k(t[r])?(e[r]=Array.isArray(t[r])?[]:{},gf(t[r],e[r])):Mt(t[r])||(e[r]=!0);return e}function Hk(t,e,n){const r=Array.isArray(t);if(Ke(t)||r)for(const s in t)Array.isArray(t[s])||Ke(t[s])&&!$k(t[s])?Je(e)||gm(n[s])?n[s]=Array.isArray(t[s])?gf(t[s],[]):{...gf(t[s])}:Hk(t[s],Mt(e)?{}:e[s],n[s]):n[s]=!Xr(t[s],e[s]);return n}var Xl=(t,e)=>Hk(t,e,gf(e));const a1={value:!1,isValid:!1},c1={value:!0,isValid:!0};var Pk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Je(t[0].attributes.value)?Je(t[0].value)||t[0].value===""?c1:{value:t[0].value,isValid:!0}:c1:a1}return a1},Vk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Je(t)?t:e?t===""?NaN:t&&+t:n&&Fn(t)?new Date(t):r?r(t):t;const u1={isValid:!1,value:null};var Ik=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,u1):u1;function f1(t){const e=t.ref;return Ey(e)?e.files:Ny(e)?Ik(t.refs).value:Uk(e)?[...e.selectedOptions].map(({value:n})=>n):Ha(e)?Pk(t.refs).value:Vk(Je(e.value)?t.ref.value:e.value,t)}var _L=(t,e,n,r)=>{const s={};for(const i of t){const l=V(e,i);l&&ve(s,i,l._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},yf=t=>t instanceof RegExp,Wl=t=>Je(t)?t:yf(t)?t.source:Ke(t)?yf(t.value)?t.value.source:t.value:t,d1=t=>({isOnSubmit:!t||t===Cn.onSubmit,isOnBlur:t===Cn.onBlur,isOnChange:t===Cn.onChange,isOnAll:t===Cn.all,isOnTouch:t===Cn.onTouched});const h1="AsyncFunction";var zL=t=>!!t&&!!t.validate&&!!(On(t.validate)&&t.validate.constructor.name===h1||Ke(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===h1)),LL=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),p1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Bo=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=V(t,s);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(Bo(o,e))break}else if(Ke(o)&&Bo(o,e))break}}};function m1(t,e,n){const r=V(t,n);if(r||ad(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),l=V(e,i),o=V(t,i);if(l&&!Array.isArray(l)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:n}}var BL=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ht(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(l=>e[l]===(!r||Cn.all))},UL=(t,e,n)=>!t||!e||t===e||Lo(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),$L=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,HL=(t,e)=>!vy(V(t,e)).length&&Ge(t,e),PL=(t,e,n)=>{const r=Lo(V(t,n));return ve(r,"root",e[n]),ve(t,n,r),t},Fc=t=>Fn(t);function g1(t,e,n="validate"){if(Fc(t)||Array.isArray(t)&&t.every(Fc)||Pn(t)&&!t)return{type:n,message:Fc(t)?t:"",ref:e}}var Di=t=>Ke(t)&&!yf(t)?t:{value:t,message:""},y1=async(t,e,n,r,s,i)=>{const{ref:l,refs:o,required:a,maxLength:c,minLength:u,min:f,max:d,pattern:p,validate:m,name:g,valueAsNumber:b,mount:y}=t._f,x=V(n,g);if(!y||e.has(g))return{};const v=o?o[0]:l,S=K=>{s&&v.reportValidity&&(v.setCustomValidity(Pn(K)?"":K||""),v.reportValidity())},k={},N=Ny(l),A=Ha(l),O=N||A,_=(b||Ey(l))&&Je(l.value)&&Je(x)||mf(l)&&l.value===""||x===""||Array.isArray(x)&&!x.length,$=wy.bind(null,g,r,k),ie=(K,ae,be,Oe=ar.maxLength,L=ar.minLength)=>{const q=K?ae:be;k[g]={type:K?Oe:L,message:q,ref:l,...$(K?Oe:L,q)}};if(i?!Array.isArray(x)||!x.length:a&&(!O&&(_||Mt(x))||Pn(x)&&!x||A&&!Pk(o).isValid||N&&!Ik(o).isValid)){const{value:K,message:ae}=Fc(a)?{value:!!a,message:a}:Di(a);if(K&&(k[g]={type:ar.required,message:ae,ref:v,...$(ar.required,ae)},!r))return S(ae),k}if(!_&&(!Mt(f)||!Mt(d))){let K,ae;const be=Di(d),Oe=Di(f);if(!Mt(x)&&!isNaN(x)){const L=l.valueAsNumber||x&&+x;Mt(be.value)||(K=L>be.value),Mt(Oe.value)||(ae=L<Oe.value)}else{const L=l.valueAsDate||new Date(x),q=Be=>new Date(new Date().toDateString()+" "+Be),J=l.type=="time",ge=l.type=="week";Fn(be.value)&&x&&(K=J?q(x)>q(be.value):ge?x>be.value:L>new Date(be.value)),Fn(Oe.value)&&x&&(ae=J?q(x)<q(Oe.value):ge?x<Oe.value:L<new Date(Oe.value))}if((K||ae)&&(ie(!!K,be.message,Oe.message,ar.max,ar.min),!r))return S(k[g].message),k}if((c||u)&&!_&&(Fn(x)||i&&Array.isArray(x))){const K=Di(c),ae=Di(u),be=!Mt(K.value)&&x.length>+K.value,Oe=!Mt(ae.value)&&x.length<+ae.value;if((be||Oe)&&(ie(be,K.message,ae.message),!r))return S(k[g].message),k}if(p&&!_&&Fn(x)){const{value:K,message:ae}=Di(p);if(yf(K)&&!x.match(K)&&(k[g]={type:ar.pattern,message:ae,ref:l,...$(ar.pattern,ae)},!r))return S(ae),k}if(m){if(On(m)){const K=await m(x,n),ae=g1(K,v);if(ae&&(k[g]={...ae,...$(ar.validate,ae.message)},!r))return S(ae.message),k}else if(Ke(m)){let K={};for(const ae in m){if(!Ht(K)&&!r)break;const be=g1(await m[ae](x,n),v,ae);be&&(K={...be,...$(ae,be.message)},S(be.message),r&&(k[g]=K))}if(!Ht(K)&&(k[g]={ref:v,...K},!r))return k}}return S(!0),k};const VL={mode:Cn.onSubmit,reValidateMode:Cn.onChange,shouldFocusError:!0};function IL(t={}){let e={...VL,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:On(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ke(e.defaultValues)||Ke(e.values)?it(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:it(s),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},a,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const d={array:o1(),state:o1()},p=e.criteriaMode===Cn.all,m=E=>T=>{clearTimeout(c),c=setTimeout(E,T)},g=async E=>{if(!e.disabled&&(u.isValid||f.isValid||E)){const T=e.resolver?Ht((await A()).errors):await _(r,!0);T!==n.isValid&&d.state.next({isValid:T})}},b=(E,T)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((E||Array.from(o.mount)).forEach(M=>{M&&(T?ve(n.validatingFields,M,T):Ge(n.validatingFields,M))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Ht(n.validatingFields)}))},y=(E,T=[],M,P,U=!0,B=!0)=>{if(P&&M&&!e.disabled){if(l.action=!0,B&&Array.isArray(V(r,E))){const F=M(V(r,E),P.argA,P.argB);U&&ve(r,E,F)}if(B&&Array.isArray(V(n.errors,E))){const F=M(V(n.errors,E),P.argA,P.argB);U&&ve(n.errors,E,F),HL(n.errors,E)}if((u.touchedFields||f.touchedFields)&&B&&Array.isArray(V(n.touchedFields,E))){const F=M(V(n.touchedFields,E),P.argA,P.argB);U&&ve(n.touchedFields,E,F)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Xl(s,i)),d.state.next({name:E,isDirty:ie(E,T),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ve(i,E,T)},x=(E,T)=>{ve(n.errors,E,T),d.state.next({errors:n.errors})},v=E=>{n.errors=E,d.state.next({errors:n.errors,isValid:!1})},S=(E,T,M,P)=>{const U=V(r,E);if(U){const B=V(i,E,Je(M)?V(s,E):M);Je(B)||P&&P.defaultChecked||T?ve(i,E,T?B:f1(U._f)):be(E,B),l.mount&&g()}},k=(E,T,M,P,U)=>{let B=!1,F=!1;const de={name:E};if(!e.disabled){if(!M||P){(u.isDirty||f.isDirty)&&(F=n.isDirty,n.isDirty=de.isDirty=ie(),B=F!==de.isDirty);const Ee=Xr(V(s,E),T);F=!!V(n.dirtyFields,E),Ee?Ge(n.dirtyFields,E):ve(n.dirtyFields,E,!0),de.dirtyFields=n.dirtyFields,B=B||(u.dirtyFields||f.dirtyFields)&&F!==!Ee}if(M){const Ee=V(n.touchedFields,E);Ee||(ve(n.touchedFields,E,M),de.touchedFields=n.touchedFields,B=B||(u.touchedFields||f.touchedFields)&&Ee!==M)}B&&U&&d.state.next(de)}return B?de:{}},N=(E,T,M,P)=>{const U=V(n.errors,E),B=(u.isValid||f.isValid)&&Pn(T)&&n.isValid!==T;if(e.delayError&&M?(a=m(()=>x(E,M)),a(e.delayError)):(clearTimeout(c),a=null,M?ve(n.errors,E,M):Ge(n.errors,E)),(M?!Xr(U,M):U)||!Ht(P)||B){const F={...P,...B&&Pn(T)?{isValid:T}:{},errors:n.errors,name:E};n={...n,...F},d.state.next(F)}},A=async E=>{b(E,!0);const T=await e.resolver(i,e.context,_L(E||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(E),T},O=async E=>{const{errors:T}=await A(E);if(E)for(const M of E){const P=V(T,M);P?ve(n.errors,M,P):Ge(n.errors,M)}else n.errors=T;return T},_=async(E,T,M={valid:!0})=>{for(const P in E){const U=E[P];if(U){const{_f:B,...F}=U;if(B){const de=o.array.has(B.name),Ee=U._f&&zL(U._f);Ee&&u.validatingFields&&b([P],!0);const an=await y1(U,o.disabled,i,p,e.shouldUseNativeValidation&&!T,de);if(Ee&&u.validatingFields&&b([P]),an[B.name]&&(M.valid=!1,T))break;!T&&(V(an,B.name)?de?PL(n.errors,an,B.name):ve(n.errors,B.name,an[B.name]):Ge(n.errors,B.name))}!Ht(F)&&await _(F,T,M)}}return M.valid},$=()=>{for(const E of o.unMount){const T=V(r,E);T&&(T._f.refs?T._f.refs.every(M=>!Dh(M)):!Dh(T._f.ref))&&hd(E)}o.unMount=new Set},ie=(E,T)=>!e.disabled&&(E&&T&&ve(i,E,T),!Xr(Be(),s)),K=(E,T,M)=>ML(E,o,{...l.mount?i:Je(T)?s:Fn(E)?{[E]:T}:T},M,T),ae=E=>vy(V(l.mount?i:s,E,e.shouldUnregister?V(s,E,[]):[])),be=(E,T,M={})=>{const P=V(r,E);let U=T;if(P){const B=P._f;B&&(!B.disabled&&ve(i,E,Vk(T,B)),U=mf(B.ref)&&Mt(T)?"":T,Uk(B.ref)?[...B.ref.options].forEach(F=>F.selected=U.includes(F.value)):B.refs?Ha(B.ref)?B.refs.forEach(F=>{(!F.defaultChecked||!F.disabled)&&(Array.isArray(U)?F.checked=!!U.find(de=>de===F.value):F.checked=U===F.value||!!U)}):B.refs.forEach(F=>F.checked=F.value===U):Ey(B.ref)?B.ref.value="":(B.ref.value=U,B.ref.type||d.state.next({name:E,values:it(i)})))}(M.shouldDirty||M.shouldTouch)&&k(E,U,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&ge(E)},Oe=(E,T,M)=>{for(const P in T){if(!T.hasOwnProperty(P))return;const U=T[P],B=E+"."+P,F=V(r,B);(o.array.has(E)||Ke(U)||F&&!F._f)&&!Zs(U)?Oe(B,U,M):be(B,U,M)}},L=(E,T,M={})=>{const P=V(r,E),U=o.array.has(E),B=it(T);ve(i,E,B),U?(d.array.next({name:E,values:it(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&M.shouldDirty&&d.state.next({name:E,dirtyFields:Xl(s,i),isDirty:ie(E,B)})):P&&!P._f&&!Mt(B)?Oe(E,B,M):be(E,B,M),p1(E,o)&&d.state.next({...n}),d.state.next({name:l.mount?E:void 0,values:it(i)})},q=async E=>{l.mount=!0;const T=E.target;let M=T.name,P=!0;const U=V(r,M),B=Ee=>{P=Number.isNaN(Ee)||Zs(Ee)&&isNaN(Ee.getTime())||Xr(Ee,V(i,M,Ee))},F=d1(e.mode),de=d1(e.reValidateMode);if(U){let Ee,an;const Va=T.type?f1(U._f):EL(E),_r=E.type===l1.BLUR||E.type===l1.FOCUS_OUT,hT=!LL(U._f)&&!e.resolver&&!V(n.errors,M)&&!U._f.deps||$L(_r,V(n.touchedFields,M),n.isSubmitted,de,F),gd=p1(M,o,_r);ve(i,M,Va),_r?(U._f.onBlur&&U._f.onBlur(E),a&&a(0)):U._f.onChange&&U._f.onChange(E);const yd=k(M,Va,_r),pT=!Ht(yd)||gd;if(!_r&&d.state.next({name:M,type:E.type,values:it(i)}),hT)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?_r&&g():_r||g()),pT&&d.state.next({name:M,...gd?{}:yd});if(!_r&&gd&&d.state.next({...n}),e.resolver){const{errors:Hy}=await A([M]);if(B(Va),P){const mT=m1(n.errors,r,M),Py=m1(Hy,r,mT.name||M);Ee=Py.error,M=Py.name,an=Ht(Hy)}}else b([M],!0),Ee=(await y1(U,o.disabled,i,p,e.shouldUseNativeValidation))[M],b([M]),B(Va),P&&(Ee?an=!1:(u.isValid||f.isValid)&&(an=await _(r,!0)));P&&(U._f.deps&&ge(U._f.deps),N(M,an,Ee,yd))}},J=(E,T)=>{if(V(n.errors,T)&&E.focus)return E.focus(),1},ge=async(E,T={})=>{let M,P;const U=Lo(E);if(e.resolver){const B=await O(Je(E)?E:U);M=Ht(B),P=E?!U.some(F=>V(B,F)):M}else E?(P=(await Promise.all(U.map(async B=>{const F=V(r,B);return await _(F&&F._f?{[B]:F}:F)}))).every(Boolean),!(!P&&!n.isValid)&&g()):P=M=await _(r);return d.state.next({...!Fn(E)||(u.isValid||f.isValid)&&M!==n.isValid?{}:{name:E},...e.resolver||!E?{isValid:M}:{},errors:n.errors}),T.shouldFocus&&!P&&Bo(r,J,E?U:o.mount),P},Be=E=>{const T={...l.mount?i:s};return Je(E)?T:Fn(E)?V(T,E):E.map(M=>V(T,M))},Rs=(E,T)=>({invalid:!!V((T||n).errors,E),isDirty:!!V((T||n).dirtyFields,E),error:V((T||n).errors,E),isValidating:!!V(n.validatingFields,E),isTouched:!!V((T||n).touchedFields,E)}),Ti=E=>{E&&Lo(E).forEach(T=>Ge(n.errors,T)),d.state.next({errors:E?n.errors:{}})},Ai=(E,T,M)=>{const P=(V(r,E,{_f:{}})._f||{}).ref,U=V(n.errors,E)||{},{ref:B,message:F,type:de,...Ee}=U;ve(n.errors,E,{...Ee,...T,ref:P}),d.state.next({name:E,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&P&&P.focus&&P.focus()},er=(E,T)=>On(E)?d.state.subscribe({next:M=>E(K(void 0,T),M)}):K(E,T,!0),Ds=E=>d.state.subscribe({next:T=>{UL(E.name,T.name,E.exact)&&BL(T,E.formState||u,dT,E.reRenderRoot)&&E.callback({values:{...i},...n,...T})}}).unsubscribe,aT=E=>(l.mount=!0,f={...f,...E.formState},Ds({...E,formState:f})),hd=(E,T={})=>{for(const M of E?Lo(E):o.mount)o.mount.delete(M),o.array.delete(M),T.keepValue||(Ge(r,M),Ge(i,M)),!T.keepError&&Ge(n.errors,M),!T.keepDirty&&Ge(n.dirtyFields,M),!T.keepTouched&&Ge(n.touchedFields,M),!T.keepIsValidating&&Ge(n.validatingFields,M),!e.shouldUnregister&&!T.keepDefaultValue&&Ge(s,M);d.state.next({values:it(i)}),d.state.next({...n,...T.keepDirty?{isDirty:ie()}:{}}),!T.keepIsValid&&g()},zy=({disabled:E,name:T})=>{(Pn(E)&&l.mount||E||o.disabled.has(T))&&(E?o.disabled.add(T):o.disabled.delete(T))},pd=(E,T={})=>{let M=V(r,E);const P=Pn(T.disabled)||Pn(e.disabled);return ve(r,E,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:E}},name:E,mount:!0,...T}}),o.mount.add(E),M?zy({disabled:Pn(T.disabled)?T.disabled:e.disabled,name:E}):S(E,!0,T.value),{...P?{disabled:T.disabled||e.disabled}:{},...e.progressive?{required:!!T.required,min:Wl(T.min),max:Wl(T.max),minLength:Wl(T.minLength),maxLength:Wl(T.maxLength),pattern:Wl(T.pattern)}:{},name:E,onChange:q,onBlur:q,ref:U=>{if(U){pd(E,T),M=V(r,E);const B=Je(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,F=RL(B),de=M._f.refs||[];if(F?de.find(Ee=>Ee===B):B===M._f.ref)return;ve(r,E,{_f:{...M._f,...F?{refs:[...de.filter(Dh),B,...Array.isArray(V(s,E))?[{}]:[]],ref:{type:B.type,name:E}}:{ref:B}}}),S(E,!1,void 0,B)}else M=V(r,E,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||T.shouldUnregister)&&!(kL(o.array,E)&&l.action)&&o.unMount.add(E)}}},md=()=>e.shouldFocusError&&Bo(r,J,o.mount),cT=E=>{Pn(E)&&(d.state.next({disabled:E}),Bo(r,(T,M)=>{const P=V(r,M);P&&(T.disabled=P._f.disabled||E,Array.isArray(P._f.refs)&&P._f.refs.forEach(U=>{U.disabled=P._f.disabled||E}))},0,!1))},Ly=(E,T)=>async M=>{let P;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let U=it(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:B,values:F}=await A();n.errors=B,U=it(F)}else await _(r);if(o.disabled.size)for(const B of o.disabled)Ge(U,B);if(Ge(n.errors,"root"),Ht(n.errors)){d.state.next({errors:{}});try{await E(U,M)}catch(B){P=B}}else T&&await T({...n.errors},M),md(),setTimeout(md);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ht(n.errors)&&!P,submitCount:n.submitCount+1,errors:n.errors}),P)throw P},uT=(E,T={})=>{V(r,E)&&(Je(T.defaultValue)?L(E,it(V(s,E))):(L(E,T.defaultValue),ve(s,E,it(T.defaultValue))),T.keepTouched||Ge(n.touchedFields,E),T.keepDirty||(Ge(n.dirtyFields,E),n.isDirty=T.defaultValue?ie(E,it(V(s,E))):ie()),T.keepError||(Ge(n.errors,E),u.isValid&&g()),d.state.next({...n}))},By=(E,T={})=>{const M=E?it(E):s,P=it(M),U=Ht(E),B=U?s:P;if(T.keepDefaultValues||(s=M),!T.keepValues){if(T.keepDirtyValues){const F=new Set([...o.mount,...Object.keys(Xl(s,i))]);for(const de of Array.from(F))V(n.dirtyFields,de)?ve(B,de,V(i,de)):L(de,V(B,de))}else{if(by&&Je(E))for(const F of o.mount){const de=V(r,F);if(de&&de._f){const Ee=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(mf(Ee)){const an=Ee.closest("form");if(an){an.reset();break}}}}if(T.keepFieldsRef)for(const F of o.mount)L(F,V(B,F));else r={}}i=e.shouldUnregister?T.keepDefaultValues?it(s):{}:it(B),d.array.next({values:{...B}}),d.state.next({values:{...B}})}o={mount:T.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!T.keepIsValid||!!T.keepDirtyValues,l.watch=!!e.shouldUnregister,d.state.next({submitCount:T.keepSubmitCount?n.submitCount:0,isDirty:U?!1:T.keepDirty?n.isDirty:!!(T.keepDefaultValues&&!Xr(E,s)),isSubmitted:T.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:U?{}:T.keepDirtyValues?T.keepDefaultValues&&i?Xl(s,i):n.dirtyFields:T.keepDefaultValues&&E?Xl(s,E):T.keepDirty?n.dirtyFields:{},touchedFields:T.keepTouched?n.touchedFields:{},errors:T.keepErrors?n.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Uy=(E,T)=>By(On(E)?E(i):E,T),fT=(E,T={})=>{const M=V(r,E),P=M&&M._f;if(P){const U=P.refs?P.refs[0]:P.ref;U.focus&&(U.focus(),T.shouldSelect&&On(U.select)&&U.select())}},dT=E=>{n={...n,...E}},$y={control:{register:pd,unregister:hd,getFieldState:Rs,handleSubmit:Ly,setError:Ai,_subscribe:Ds,_runSchema:A,_focusError:md,_getWatch:K,_getDirty:ie,_setValid:g,_setFieldArray:y,_setDisabledField:zy,_setErrors:v,_getFieldArray:ae,_reset:By,_resetDefaultValues:()=>On(e.defaultValues)&&e.defaultValues().then(E=>{Uy(E,e.resetOptions),d.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:cT,_subjects:d,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return l},set _state(E){l=E},get _defaultValues(){return s},get _names(){return o},set _names(E){o=E},get _formState(){return n},get _options(){return e},set _options(E){e={...e,...E}}},subscribe:aT,trigger:ge,register:pd,handleSubmit:Ly,watch:er,setValue:L,getValues:Be,reset:Uy,resetField:uT,clearErrors:Ti,unregister:hd,setError:Ai,setFocus:fT,getFieldState:Rs};return{...$y,formControl:$y}}function ky(t={}){const e=Ne.useRef(void 0),n=Ne.useRef(void 0),[r,s]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:On(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:On(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!On(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...o}=IL(t);e.current={...o,formState:r}}const i=e.current.control;return i._options=t,OL(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),Ne.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ne.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ne.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ne.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ne.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==r.isDirty&&i._subjects.state.next({isDirty:l})}},[i,r.isDirty]),Ne.useEffect(()=>{t.values&&!Xr(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),Ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=CL(r,i),e.current}const x1=(t,e,n)=>{if(t&&"reportValidity"in t){const r=V(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},ym=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?x1(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>x1(s,n,t))}},b1=(t,e)=>{e.shouldUseNativeValidation&&ym(t,e);const n={};for(const r in t){const s=V(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(qL(e.names||Object.keys(t),r)){const l=Object.assign({},V(n,r));ve(l,"root",i),ve(n,r,l)}else ve(n,r,i)}return n},qL=(t,e)=>{const n=v1(e);return t.some(r=>v1(r).match(`^${n}\\.\\d+`))};function v1(t){return t.replace(/\]|\[/g,"")}function D(t,e,n){function r(o,a){var c;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(c=o._zod).traits??(c.traits=new Set),o._zod.traits.add(t),e(o,a);for(const u in l.prototype)u in o||Object.defineProperty(o,u,{value:l.prototype[u].bind(o)});o._zod.constr=l,o._zod.def=a}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function l(o){var a;const c=n!=null&&n.Parent?new i:this;r(c,o),(a=c._zod).deferred??(a.deferred=[]);for(const u of c._zod.deferred)u();return c}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var a,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(a=o==null?void 0:o._zod)==null?void 0:a.traits)==null?void 0:c.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class pa extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const qk={};function yi(t){return qk}function FL(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function ZL(t,e){return typeof e=="bigint"?e.toString():e}function Fk(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Ty(t){return t==null}function Ay(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Ae(t,e,n){Object.defineProperty(t,e,{get(){{const r=n();return t[e]=r,r}},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function Cy(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function eo(t){return JSON.stringify(t)}const Zk=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function xm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const KL=Fk(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function bm(t){if(xm(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(xm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const GL=new Set(["string","number","symbol"]);function cd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ki(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Q(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function YL(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function QL(t,e){const n={},r=t._zod.def;for(const s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(n[s]=r.shape[s])}return ki(t,{...t._zod.def,shape:n,checks:[]})}function JL(t,e){const n={...t._zod.def.shape},r=t._zod.def;for(const s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete n[s]}return ki(t,{...t._zod.def,shape:n,checks:[]})}function XL(t,e){if(!bm(e))throw new Error("Invalid input to extend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return Cy(this,"shape",r),r},checks:[]};return ki(t,n)}function WL(t,e){return ki(t,{...t._zod.def,get shape(){const n={...t._zod.def.shape,...e._zod.def.shape};return Cy(this,"shape",n),n},catchall:e._zod.def.catchall,checks:[]})}function eB(t,e,n){const r=e._zod.def.shape,s={...r};if(n)for(const i in n){if(!(i in r))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(s[i]=t?new t({type:"optional",innerType:r[i]}):r[i])}else for(const i in r)s[i]=t?new t({type:"optional",innerType:r[i]}):r[i];return ki(e,{...e._zod.def,shape:s,checks:[]})}function tB(t,e,n){const r=e._zod.def.shape,s={...r};if(n)for(const i in n){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(s[i]=new t({type:"nonoptional",innerType:r[i]}))}else for(const i in r)s[i]=new t({type:"nonoptional",innerType:r[i]});return ki(e,{...e._zod.def,shape:s,checks:[]})}function Uo(t,e=0){var n;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Oy(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function yc(t){return typeof t=="string"?t:t==null?void 0:t.message}function xi(t,e,n){var s,i,l,o,a,c;const r={...t,path:t.path??[]};if(!t.message){const u=yc((l=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:l.call(i,t))??yc((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??yc((a=n.customError)==null?void 0:a.call(n,t))??yc((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=u}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function My(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ma(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Kk=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,ZL,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Ry=D("$ZodError",Kk),ud=D("$ZodError",Kk,{Parent:Error});function nB(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function rB(t,e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(o=>s({issues:o}));else if(l.code==="invalid_key")s({issues:l.issues});else if(l.code==="invalid_element")s({issues:l.issues});else if(l.path.length===0)r._errors.push(n(l));else{let o=r,a=0;for(;a<l.path.length;){const c=l.path[a];a===l.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(l))):o[c]=o[c]||{_errors:[]},o=o[c],a++}}};return s(t),r}const Gk=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new pa;if(l.issues.length){const o=new((s==null?void 0:s.Err)??t)(l.issues.map(a=>xi(a,i,yi())));throw Zk(o,s==null?void 0:s.callee),o}return l.value},sB=Gk(ud),Yk=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((s==null?void 0:s.Err)??t)(l.issues.map(a=>xi(a,i,yi())));throw Zk(o,s==null?void 0:s.callee),o}return l.value},iB=Yk(ud),Qk=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new pa;return i.issues.length?{success:!1,error:new(t??Ry)(i.issues.map(l=>xi(l,s,yi())))}:{success:!0,data:i.value}},lB=Qk(ud),Jk=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(l=>xi(l,s,yi())))}:{success:!0,data:i.value}},oB=Jk(ud),aB=/^[cC][^\s-]{8,}$/,cB=/^[0-9a-z]+$/,uB=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,fB=/^[0-9a-vA-V]{20}$/,dB=/^[A-Za-z0-9]{27}$/,hB=/^[a-zA-Z0-9_-]{21}$/,pB=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,mB=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,S1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,gB=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function xB(){return new RegExp(yB,"u")}const bB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,SB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,wB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EB=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Xk=/^[A-Za-z0-9_-]*$/,NB=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,kB=/^\+(?:[0-9]){6,14}[0-9]$/,Wk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",TB=new RegExp(`^${Wk}$`);function eT(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function AB(t){return new RegExp(`^${eT(t)}$`)}function CB(t){const e=eT({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Wk}T(?:${r})$`)}const OB=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},MB=/^[^A-Z]*$/,RB=/^[^a-z]*$/,Wn=D("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),DB=D("$ZodCheckMaxLength",(t,e)=>{var n;Wn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Ty(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=My(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),jB=D("$ZodCheckMinLength",(t,e)=>{var n;Wn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Ty(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=My(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),_B=D("$ZodCheckLengthEquals",(t,e)=>{var n;Wn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Ty(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=My(s),o=i>e.length;r.issues.push({origin:l,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),fd=D("$ZodCheckStringFormat",(t,e)=>{var n,r;Wn.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),zB=D("$ZodCheckRegex",(t,e)=>{fd.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),LB=D("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=MB),fd.init(t,e)}),BB=D("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=RB),fd.init(t,e)}),UB=D("$ZodCheckIncludes",(t,e)=>{Wn.init(t,e);const n=cd(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),$B=D("$ZodCheckStartsWith",(t,e)=>{Wn.init(t,e);const n=new RegExp(`^${cd(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),HB=D("$ZodCheckEndsWith",(t,e)=>{Wn.init(t,e);const n=new RegExp(`.*${cd(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),PB=D("$ZodCheckOverwrite",(t,e)=>{Wn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class VB{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const IB={major:4,minor:0,patch:5},et=D("$ZodType",(t,e)=>{var s;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=IB;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const l of i._zod.onattach)l(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(s=t._zod.deferred)==null||s.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,o,a)=>{let c=Uo(l),u;for(const f of o){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(c)continue;const d=l.issues.length,p=f._zod.check(l);if(p instanceof Promise&&(a==null?void 0:a.async)===!1)throw new pa;if(u||p instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await p,l.issues.length!==d&&(c||(c=Uo(l,d)))});else{if(l.issues.length===d)continue;c||(c=Uo(l,d))}}return u?u.then(()=>l):l};t._zod.run=(l,o)=>{const a=t._zod.parse(l,o);if(a instanceof Promise){if(o.async===!1)throw new pa;return a.then(c=>i(c,r,o))}return i(a,r,o)}}t["~standard"]={validate:i=>{var l;try{const o=lB(t,i);return o.success?{value:o.data}:{issues:(l=o.error)==null?void 0:l.issues}}catch{return oB(t,i).then(a=>{var c;return a.success?{value:a.data}:{issues:(c=a.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),Dy=D("$ZodString",(t,e)=>{var n;et.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??OB(t._zod.bag),t._zod.parse=(r,s)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Le=D("$ZodStringFormat",(t,e)=>{fd.init(t,e),Dy.init(t,e)}),qB=D("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=mB),Le.init(t,e)}),FB=D("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=S1(r))}else e.pattern??(e.pattern=S1());Le.init(t,e)}),ZB=D("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=gB),Le.init(t,e)}),KB=D("$ZodURL",(t,e)=>{Le.init(t,e),t._zod.check=n=>{try{const r=n.value,s=new URL(r),i=s.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:NB.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),!r.endsWith("/")&&i.endsWith("/")?n.value=i.slice(0,-1):n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),GB=D("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=xB()),Le.init(t,e)}),YB=D("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=hB),Le.init(t,e)}),QB=D("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=aB),Le.init(t,e)}),JB=D("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=cB),Le.init(t,e)}),XB=D("$ZodULID",(t,e)=>{e.pattern??(e.pattern=uB),Le.init(t,e)}),WB=D("$ZodXID",(t,e)=>{e.pattern??(e.pattern=fB),Le.init(t,e)}),eU=D("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=dB),Le.init(t,e)}),tU=D("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=CB(e)),Le.init(t,e)}),nU=D("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=TB),Le.init(t,e)}),rU=D("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=AB(e)),Le.init(t,e)}),sU=D("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=pB),Le.init(t,e)}),iU=D("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=bB),Le.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),lU=D("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=vB),Le.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),oU=D("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=SB),Le.init(t,e)}),aU=D("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=wB),Le.init(t,e),t._zod.check=n=>{const[r,s]=n.value.split("/");try{if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function tT(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const cU=D("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=EB),Le.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{tT(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function uU(t){if(!Xk.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return tT(n)}const fU=D("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Xk),Le.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{uU(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),dU=D("$ZodE164",(t,e)=>{e.pattern??(e.pattern=kB),Le.init(t,e)});function hU(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const pU=D("$ZodJWT",(t,e)=>{Le.init(t,e),t._zod.check=n=>{hU(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),mU=D("$ZodUnknown",(t,e)=>{et.init(t,e),t._zod.parse=n=>n}),gU=D("$ZodNever",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function w1(t,e,n){t.issues.length&&e.issues.push(...Oy(n,t.issues)),e.value[n]=t.value}const yU=D("$ZodArray",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const o=s[l],a=e.element._zod.run({value:o,issues:[]},r);a instanceof Promise?i.push(a.then(c=>w1(c,n,l))):w1(a,n,l)}return i.length?Promise.all(i).then(()=>n):n}});function xc(t,e,n){t.issues.length&&e.issues.push(...Oy(n,t.issues)),e.value[n]=t.value}function E1(t,e,n,r){t.issues.length?r[n]===void 0?n in r?e.value[n]=void 0:e.value[n]=t.value:e.issues.push(...Oy(n,t.issues)):t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}const xU=D("$ZodObject",(t,e)=>{et.init(t,e);const n=Fk(()=>{const f=Object.keys(e.shape);for(const p of f)if(!(e.shape[p]instanceof et))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const d=YL(e.shape);return{shape:e.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(d)}});Ae(t._zod,"propValues",()=>{const f=e.shape,d={};for(const p in f){const m=f[p]._zod;if(m.values){d[p]??(d[p]=new Set);for(const g of m.values)d[p].add(g)}}return d});const r=f=>{const d=new VB(["shape","payload","ctx"]),p=n.value,m=x=>{const v=eo(x);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};d.write("const input = payload.value;");const g=Object.create(null);let b=0;for(const x of p.keys)g[x]=`key_${b++}`;d.write("const newResult = {}");for(const x of p.keys)if(p.optionalKeys.has(x)){const v=g[x];d.write(`const ${v} = ${m(x)};`);const S=eo(x);d.write(`
        if (${v}.issues.length) {
          if (input[${S}] === undefined) {
            if (${S} in input) {
              newResult[${S}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${v}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${S}, ...iss.path] : [${S}],
              }))
            );
          }
        } else if (${v}.value === undefined) {
          if (${S} in input) newResult[${S}] = undefined;
        } else {
          newResult[${S}] = ${v}.value;
        }
        `)}else{const v=g[x];d.write(`const ${v} = ${m(x)};`),d.write(`
          if (${v}.issues.length) payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${eo(x)}, ...iss.path] : [${eo(x)}]
          })));`),d.write(`newResult[${eo(x)}] = ${v}.value`)}d.write("payload.value = newResult;"),d.write("return payload;");const y=d.compile();return(x,v)=>y(f,x,v)};let s;const i=xm,l=!qk.jitless,a=l&&KL.value,c=e.catchall;let u;t._zod.parse=(f,d)=>{u??(u=n.value);const p=f.value;if(!i(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),f;const m=[];if(l&&a&&(d==null?void 0:d.async)===!1&&d.jitless!==!0)s||(s=r(e.shape)),f=s(f,d);else{f.value={};const v=u.shape;for(const S of u.keys){const k=v[S],N=k._zod.run({value:p[S],issues:[]},d),A=k._zod.optin==="optional"&&k._zod.optout==="optional";N instanceof Promise?m.push(N.then(O=>A?E1(O,f,S,p):xc(O,f,S))):A?E1(N,f,S,p):xc(N,f,S)}}if(!c)return m.length?Promise.all(m).then(()=>f):f;const g=[],b=u.keySet,y=c._zod,x=y.def.type;for(const v of Object.keys(p)){if(b.has(v))continue;if(x==="never"){g.push(v);continue}const S=y.run({value:p[v],issues:[]},d);S instanceof Promise?m.push(S.then(k=>xc(k,f,v))):xc(S,f,v)}return g.length&&f.issues.push({code:"unrecognized_keys",keys:g,input:p,inst:t}),m.length?Promise.all(m).then(()=>f):f}});function N1(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(i=>xi(i,r,yi())))}),e}const bU=D("$ZodUnion",(t,e)=>{et.init(t,e),Ae(t._zod,"optin",()=>e.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Ae(t._zod,"optout",()=>e.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Ae(t._zod,"values",()=>{if(e.options.every(n=>n._zod.values))return new Set(e.options.flatMap(n=>Array.from(n._zod.values)))}),Ae(t._zod,"pattern",()=>{if(e.options.every(n=>n._zod.pattern)){const n=e.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>Ay(r.source)).join("|")})$`)}}),t._zod.parse=(n,r)=>{let s=!1;const i=[];for(const l of e.options){const o=l._zod.run({value:n.value,issues:[]},r);if(o instanceof Promise)i.push(o),s=!0;else{if(o.issues.length===0)return o;i.push(o)}}return s?Promise.all(i).then(l=>N1(l,n,t,r)):N1(i,n,t,r)}}),vU=D("$ZodIntersection",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([a,c])=>k1(n,a,c)):k1(n,i,l)}});function vm(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(bm(t)&&bm(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const l=vm(t[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],l=vm(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function k1(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Uo(t))return t;const r=vm(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const SU=D("$ZodEnum",(t,e)=>{et.init(t,e);const n=FL(e.entries);t._zod.values=new Set(n),t._zod.pattern=new RegExp(`^(${n.filter(r=>GL.has(typeof r)).map(r=>typeof r=="string"?cd(r):r.toString()).join("|")})$`),t._zod.parse=(r,s)=>{const i=r.value;return t._zod.values.has(i)||r.issues.push({code:"invalid_value",values:n,input:i,inst:t}),r}}),wU=D("$ZodTransform",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(n.value=l,n));if(s instanceof Promise)throw new pa;return n.value=s,n}}),EU=D("$ZodOptional",(t,e)=>{et.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Ae(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ae(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ay(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(n,r):n.value===void 0?n:e.innerType._zod.run(n,r)}),NU=D("$ZodNullable",(t,e)=>{et.init(t,e),Ae(t._zod,"optin",()=>e.innerType._zod.optin),Ae(t._zod,"optout",()=>e.innerType._zod.optout),Ae(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ay(n.source)}|null)$`):void 0}),Ae(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),kU=D("$ZodDefault",(t,e)=>{et.init(t,e),t._zod.optin="optional",Ae(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>T1(i,e)):T1(s,e)}});function T1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const TU=D("$ZodPrefault",(t,e)=>{et.init(t,e),t._zod.optin="optional",Ae(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),AU=D("$ZodNonOptional",(t,e)=>{et.init(t,e),Ae(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>A1(i,t)):A1(s,t)}});function A1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const CU=D("$ZodCatch",(t,e)=>{et.init(t,e),t._zod.optin="optional",Ae(t._zod,"optout",()=>e.innerType._zod.optout),Ae(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>xi(l,r,yi()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>xi(i,r,yi()))},input:n.value}),n.issues=[]),n)}}),OU=D("$ZodPipe",(t,e)=>{et.init(t,e),Ae(t._zod,"values",()=>e.in._zod.values),Ae(t._zod,"optin",()=>e.in._zod.optin),Ae(t._zod,"optout",()=>e.out._zod.optout),Ae(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>C1(i,e,r)):C1(s,e,r)}});function C1(t,e,n){return Uo(t)?t:e.out._zod.run({value:t.value,issues:t.issues},n)}const MU=D("$ZodReadonly",(t,e)=>{et.init(t,e),Ae(t._zod,"propValues",()=>e.innerType._zod.propValues),Ae(t._zod,"values",()=>e.innerType._zod.values),Ae(t._zod,"optin",()=>e.innerType._zod.optin),Ae(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(O1):O1(s)}});function O1(t){return t.value=Object.freeze(t.value),t}const RU=D("$ZodCustom",(t,e)=>{Wn.init(t,e),et.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>M1(i,n,r,t));M1(s,n,r,t)}});function M1(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(ma(s))}}class DU{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function jU(){return new DU}const bc=jU();function _U(t,e){return new t({type:"string",...Q(e)})}function zU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Q(e)})}function R1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Q(e)})}function LU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Q(e)})}function BU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Q(e)})}function UU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Q(e)})}function $U(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Q(e)})}function HU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Q(e)})}function PU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Q(e)})}function VU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Q(e)})}function IU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Q(e)})}function qU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Q(e)})}function FU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Q(e)})}function ZU(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Q(e)})}function KU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Q(e)})}function GU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Q(e)})}function YU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Q(e)})}function QU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Q(e)})}function JU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Q(e)})}function XU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Q(e)})}function WU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Q(e)})}function e$(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Q(e)})}function t$(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Q(e)})}function n$(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Q(e)})}function r$(t,e){return new t({type:"string",format:"date",check:"string_format",...Q(e)})}function s$(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Q(e)})}function i$(t,e){return new t({type:"string",format:"duration",check:"string_format",...Q(e)})}function l$(t){return new t({type:"unknown"})}function o$(t,e){return new t({type:"never",...Q(e)})}function nT(t,e){return new DB({check:"max_length",...Q(e),maximum:t})}function xf(t,e){return new jB({check:"min_length",...Q(e),minimum:t})}function rT(t,e){return new _B({check:"length_equals",...Q(e),length:t})}function a$(t,e){return new zB({check:"string_format",format:"regex",...Q(e),pattern:t})}function c$(t){return new LB({check:"string_format",format:"lowercase",...Q(t)})}function u$(t){return new BB({check:"string_format",format:"uppercase",...Q(t)})}function f$(t,e){return new UB({check:"string_format",format:"includes",...Q(e),includes:t})}function d$(t,e){return new $B({check:"string_format",format:"starts_with",...Q(e),prefix:t})}function h$(t,e){return new HB({check:"string_format",format:"ends_with",...Q(e),suffix:t})}function Pa(t){return new PB({check:"overwrite",tx:t})}function p$(t){return Pa(e=>e.normalize(t))}function m$(){return Pa(t=>t.trim())}function g$(){return Pa(t=>t.toLowerCase())}function y$(){return Pa(t=>t.toUpperCase())}function x$(t,e,n){return new t({type:"array",element:e,...Q(n)})}function b$(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Q(n)})}function D1(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function v$(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[l]={message:o.message,type:o.code}}else n[l]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return t.push(f)})}),e){var a=n[l].types,c=a&&a[r.code];n[l]=wy(l,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n}function S$(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"){var o=r.errors[0][0];n[l]={message:o.message,type:o.code}}else n[l]={message:i,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(u){return u.forEach(function(f){return t.push(f)})}),e){var a=n[l].types,c=a&&a[r.code];n[l]=wy(l,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n}function jy(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,i){try{return Promise.resolve(D1(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return i.shouldUseNativeValidation&&ym({},i),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(l))return{values:{},errors:b1(v$(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,i){try{return Promise.resolve(D1(function(){return Promise.resolve((n.mode==="sync"?sB:iB)(t,r,e)).then(function(l){return i.shouldUseNativeValidation&&ym({},i),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(o){return o instanceof Ry}(l))return{values:{},errors:b1(S$(l.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const w$=D("ZodISODateTime",(t,e)=>{tU.init(t,e),He.init(t,e)});function E$(t){return n$(w$,t)}const N$=D("ZodISODate",(t,e)=>{nU.init(t,e),He.init(t,e)});function k$(t){return r$(N$,t)}const T$=D("ZodISOTime",(t,e)=>{rU.init(t,e),He.init(t,e)});function A$(t){return s$(T$,t)}const C$=D("ZodISODuration",(t,e)=>{sU.init(t,e),He.init(t,e)});function O$(t){return i$(C$,t)}const M$=(t,e)=>{Ry.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>rB(t,n)},flatten:{value:n=>nB(t,n)},addIssue:{value:n=>t.issues.push(n)},addIssues:{value:n=>t.issues.push(...n)},isEmpty:{get(){return t.issues.length===0}}})},dd=D("ZodError",M$,{Parent:Error}),R$=Gk(dd),D$=Yk(dd),j$=Qk(dd),_$=Jk(dd),mt=D("ZodType",(t,e)=>(et.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),t.clone=(n,r)=>ki(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>R$(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>j$(t,n,r),t.parseAsync=async(n,r)=>D$(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>_$(t,n,r),t.spa=t.safeParseAsync,t.refine=(n,r)=>t.check(N8(n,r)),t.superRefine=n=>t.check(k8(n)),t.overwrite=n=>t.check(Pa(n)),t.optional=()=>z1(t),t.nullable=()=>L1(t),t.nullish=()=>z1(L1(t)),t.nonoptional=n=>g8(t,n),t.array=()=>iT(t),t.or=n=>i8([t,n]),t.and=n=>o8(t,n),t.transform=n=>B1(t,u8(n)),t.default=n=>h8(t,n),t.prefault=n=>m8(t,n),t.catch=n=>x8(t,n),t.pipe=n=>B1(t,n),t.readonly=()=>S8(t),t.describe=n=>{const r=t.clone();return bc.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=bc.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return bc.get(t);const r=t.clone();return bc.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),sT=D("_ZodString",(t,e)=>{Dy.init(t,e),mt.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(a$(...r)),t.includes=(...r)=>t.check(f$(...r)),t.startsWith=(...r)=>t.check(d$(...r)),t.endsWith=(...r)=>t.check(h$(...r)),t.min=(...r)=>t.check(xf(...r)),t.max=(...r)=>t.check(nT(...r)),t.length=(...r)=>t.check(rT(...r)),t.nonempty=(...r)=>t.check(xf(1,...r)),t.lowercase=r=>t.check(c$(r)),t.uppercase=r=>t.check(u$(r)),t.trim=()=>t.check(m$()),t.normalize=(...r)=>t.check(p$(...r)),t.toLowerCase=()=>t.check(g$()),t.toUpperCase=()=>t.check(y$())}),z$=D("ZodString",(t,e)=>{Dy.init(t,e),sT.init(t,e),t.email=n=>t.check(zU(L$,n)),t.url=n=>t.check(HU(B$,n)),t.jwt=n=>t.check(t$(X$,n)),t.emoji=n=>t.check(PU(U$,n)),t.guid=n=>t.check(R1(j1,n)),t.uuid=n=>t.check(LU(vc,n)),t.uuidv4=n=>t.check(BU(vc,n)),t.uuidv6=n=>t.check(UU(vc,n)),t.uuidv7=n=>t.check($U(vc,n)),t.nanoid=n=>t.check(VU($$,n)),t.guid=n=>t.check(R1(j1,n)),t.cuid=n=>t.check(IU(H$,n)),t.cuid2=n=>t.check(qU(P$,n)),t.ulid=n=>t.check(FU(V$,n)),t.base64=n=>t.check(XU(Y$,n)),t.base64url=n=>t.check(WU(Q$,n)),t.xid=n=>t.check(ZU(I$,n)),t.ksuid=n=>t.check(KU(q$,n)),t.ipv4=n=>t.check(GU(F$,n)),t.ipv6=n=>t.check(YU(Z$,n)),t.cidrv4=n=>t.check(QU(K$,n)),t.cidrv6=n=>t.check(JU(G$,n)),t.e164=n=>t.check(e$(J$,n)),t.datetime=n=>t.check(E$(n)),t.date=n=>t.check(k$(n)),t.time=n=>t.check(A$(n)),t.duration=n=>t.check(O$(n))});function xr(t){return _U(z$,t)}const He=D("ZodStringFormat",(t,e)=>{Le.init(t,e),sT.init(t,e)}),L$=D("ZodEmail",(t,e)=>{ZB.init(t,e),He.init(t,e)}),j1=D("ZodGUID",(t,e)=>{qB.init(t,e),He.init(t,e)}),vc=D("ZodUUID",(t,e)=>{FB.init(t,e),He.init(t,e)}),B$=D("ZodURL",(t,e)=>{KB.init(t,e),He.init(t,e)}),U$=D("ZodEmoji",(t,e)=>{GB.init(t,e),He.init(t,e)}),$$=D("ZodNanoID",(t,e)=>{YB.init(t,e),He.init(t,e)}),H$=D("ZodCUID",(t,e)=>{QB.init(t,e),He.init(t,e)}),P$=D("ZodCUID2",(t,e)=>{JB.init(t,e),He.init(t,e)}),V$=D("ZodULID",(t,e)=>{XB.init(t,e),He.init(t,e)}),I$=D("ZodXID",(t,e)=>{WB.init(t,e),He.init(t,e)}),q$=D("ZodKSUID",(t,e)=>{eU.init(t,e),He.init(t,e)}),F$=D("ZodIPv4",(t,e)=>{iU.init(t,e),He.init(t,e)}),Z$=D("ZodIPv6",(t,e)=>{lU.init(t,e),He.init(t,e)}),K$=D("ZodCIDRv4",(t,e)=>{oU.init(t,e),He.init(t,e)}),G$=D("ZodCIDRv6",(t,e)=>{aU.init(t,e),He.init(t,e)}),Y$=D("ZodBase64",(t,e)=>{cU.init(t,e),He.init(t,e)}),Q$=D("ZodBase64URL",(t,e)=>{fU.init(t,e),He.init(t,e)}),J$=D("ZodE164",(t,e)=>{dU.init(t,e),He.init(t,e)}),X$=D("ZodJWT",(t,e)=>{pU.init(t,e),He.init(t,e)}),W$=D("ZodUnknown",(t,e)=>{mU.init(t,e),mt.init(t,e)});function _1(){return l$(W$)}const e8=D("ZodNever",(t,e)=>{gU.init(t,e),mt.init(t,e)});function t8(t){return o$(e8,t)}const n8=D("ZodArray",(t,e)=>{yU.init(t,e),mt.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(xf(n,r)),t.nonempty=n=>t.check(xf(1,n)),t.max=(n,r)=>t.check(nT(n,r)),t.length=(n,r)=>t.check(rT(n,r)),t.unwrap=()=>t.element});function iT(t,e){return x$(n8,t,e)}const r8=D("ZodObject",(t,e)=>{xU.init(t,e),mt.init(t,e),Ae(t,"shape",()=>e.shape),t.keyof=()=>a8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:_1()}),t.loose=()=>t.clone({...t._zod.def,catchall:_1()}),t.strict=()=>t.clone({...t._zod.def,catchall:t8()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>XL(t,n),t.merge=n=>WL(t,n),t.pick=n=>QL(t,n),t.omit=n=>JL(t,n),t.partial=(...n)=>eB(lT,t,n[0]),t.required=(...n)=>tB(oT,t,n[0])});function _y(t,e){const n={type:"object",get shape(){return Cy(this,"shape",{...t}),this.shape},...Q(e)};return new r8(n)}const s8=D("ZodUnion",(t,e)=>{bU.init(t,e),mt.init(t,e),t.options=e.options});function i8(t,e){return new s8({type:"union",options:t,...Q(e)})}const l8=D("ZodIntersection",(t,e)=>{vU.init(t,e),mt.init(t,e)});function o8(t,e){return new l8({type:"intersection",left:t,right:e})}const Sm=D("ZodEnum",(t,e)=>{SU.init(t,e),mt.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const l of r)if(n.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Sm({...e,checks:[],...Q(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(n.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Sm({...e,checks:[],...Q(s),entries:i})}});function a8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Sm({type:"enum",entries:n,...Q(e)})}const c8=D("ZodTransform",(t,e)=>{wU.init(t,e),mt.init(t,e),t._zod.parse=(n,r)=>{n.addIssue=i=>{if(typeof i=="string")n.issues.push(ma(i,n.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),l.continue??(l.continue=!0),n.issues.push(ma(l))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function u8(t){return new c8({type:"transform",transform:t})}const lT=D("ZodOptional",(t,e)=>{EU.init(t,e),mt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function z1(t){return new lT({type:"optional",innerType:t})}const f8=D("ZodNullable",(t,e)=>{NU.init(t,e),mt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function L1(t){return new f8({type:"nullable",innerType:t})}const d8=D("ZodDefault",(t,e)=>{kU.init(t,e),mt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function h8(t,e){return new d8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const p8=D("ZodPrefault",(t,e)=>{TU.init(t,e),mt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function m8(t,e){return new p8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const oT=D("ZodNonOptional",(t,e)=>{AU.init(t,e),mt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function g8(t,e){return new oT({type:"nonoptional",innerType:t,...Q(e)})}const y8=D("ZodCatch",(t,e)=>{CU.init(t,e),mt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function x8(t,e){return new y8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const b8=D("ZodPipe",(t,e)=>{OU.init(t,e),mt.init(t,e),t.in=e.in,t.out=e.out});function B1(t,e){return new b8({type:"pipe",in:t,out:e})}const v8=D("ZodReadonly",(t,e)=>{MU.init(t,e),mt.init(t,e)});function S8(t){return new v8({type:"readonly",innerType:t})}const w8=D("ZodCustom",(t,e)=>{RU.init(t,e),mt.init(t,e)});function E8(t){const e=new Wn({check:"custom"});return e._zod.check=t,e}function N8(t,e={}){return b$(w8,t,e)}function k8(t){const e=E8(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ma(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(ma(s))}},t(n.value,n)));return e}const T8=_y({title:xr().min(10,"Title must be at least 10 characters").max(200,"Title must be less than 200 characters"),description:xr().min(20,"Description must be at least 20 characters"),tags:iT(xr()).min(1,"Please add at least one tag").max(5,"Maximum 5 tags allowed")}),A8=()=>{const t=jr(),[e,n]=w.useState(""),[r,s]=w.useState(""),[i,l]=w.useState([]),[o,a]=w.useState(!1),{register:c,handleSubmit:u,formState:{errors:f},setValue:d}=ky({resolver:jy(T8)}),p=y=>{const x=y.toLowerCase().trim();if(x&&!i.includes(x)&&i.length<5){const v=[...i,x];l(v),d("tags",v)}},m=y=>{const x=i.filter(v=>v!==y);l(x),d("tags",x)},g=y=>{(y.key==="Enter"||y.key===",")&&(y.preventDefault(),r.trim()&&(p(r.trim()),s("")))},b=async y=>{var x,v,S;try{a(!0);const k=await $e.post("/api/questions",{...y,description:e});k.data.success&&(Ye.success("Question posted successfully!"),t(`/questions/${k.data.data.questionId}`))}catch(k){const N=((S=(v=(x=k.response)==null?void 0:x.data)==null?void 0:v.error)==null?void 0:S.message)||"Failed to post question";Ye.error(N)}finally{a(!1)}};return h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ask a Question"}),h.jsxs("form",{onSubmit:u(b),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),h.jsx("input",{type:"text",id:"title",...c("title"),placeholder:"Be specific and imagine you're asking a question to another person",className:"input-field"}),f.title&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),h.jsx(Lk,{content:e,onChange:y=>{n(y),d("description",y)},placeholder:"Include all the information someone would need to answer your question"}),f.description&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.description.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),onKeyDown:g,placeholder:"Add tags (press Enter or comma to add)",className:"input-field"}),i.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(y=>h.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-primary-100 text-primary-800 text-sm rounded-full",children:[y,h.jsx("button",{type:"button",onClick:()=>m(y),className:"ml-2 text-primary-600 hover:text-primary-800",children:""})]},y))})]}),f.tags&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.tags.message})]}),h.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>t("/"),className:"btn-secondary",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:o,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Posting...":"Post Question"})]})]})]})})},C8=_y({email:xr().email("Please enter a valid email address"),password:xr().min(1,"Password is required")}),O8=()=>{var d,p;const{login:t}=As(),e=jr(),n=_n(),[r,s]=w.useState(!1),[i,l]=w.useState(!1),o=((p=(d=n.state)==null?void 0:d.from)==null?void 0:p.pathname)||"/",{register:a,handleSubmit:c,formState:{errors:u}}=ky({resolver:jy(C8)}),f=async m=>{try{l(!0),await t(m.email,m.password),e(o,{replace:!0})}catch{}finally{l(!1)}};return h.jsx("div",{className:"max-w-md mx-auto mt-8",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your StackIt account"})]}),h.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),h.jsx("input",{type:"email",id:"email",...a("email"),className:"input-field",placeholder:"Enter your email"}),u.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:r?"text":"password",id:"password",...a("password"),className:"input-field pr-10",placeholder:"Enter your password"}),h.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?h.jsx($p,{className:"h-5 w-5"}):h.jsx(Mr,{className:"h-5 w-5"})})]}),u.password&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]}),h.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing In...":"Sign In"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",h.jsx(Re,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]})})]})})},M8=_y({username:xr().min(3,"Username must be at least 3 characters").max(30,"Username must be less than 30 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),email:xr().email("Please enter a valid email address"),password:xr().min(6,"Password must be at least 6 characters"),confirmPassword:xr()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),R8=()=>{const{register:t}=As(),e=jr(),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(!1),{register:a,handleSubmit:c,formState:{errors:u}}=ky({resolver:jy(M8)}),f=async d=>{try{o(!0),await t(d.username,d.email,d.password),e("/")}catch{}finally{o(!1)}};return h.jsx("div",{className:"max-w-md mx-auto mt-8",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Join StackIt"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Create your account to start asking and answering questions"})]}),h.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),h.jsx("input",{type:"text",id:"username",...a("username"),className:"input-field",placeholder:"Choose a username"}),u.username&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.username.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),h.jsx("input",{type:"email",id:"email",...a("email"),className:"input-field",placeholder:"Enter your email"}),u.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:n?"text":"password",id:"password",...a("password"),className:"input-field pr-10",placeholder:"Create a password"}),h.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?h.jsx($p,{className:"h-5 w-5"}):h.jsx(Mr,{className:"h-5 w-5"})})]}),u.password&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:s?"text":"password",id:"confirmPassword",...a("confirmPassword"),className:"input-field pr-10",placeholder:"Confirm your password"}),h.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?h.jsx($p,{className:"h-5 w-5"}):h.jsx(Mr,{className:"h-5 w-5"})})]}),u.confirmPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword.message})]}),h.jsx("button",{type:"submit",disabled:l,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating Account...":"Create Account"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",h.jsx(Re,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]})})},D8=()=>{const{username:t}=qw(),[e,n]=w.useState(null),[r,s]=w.useState(!0);w.useEffect(()=>{t&&i()},[t]);const i=async()=>{try{s(!0);const a=await $e.get(`/api/users/${t}`);a.data.success&&n(a.data.data.user)}catch(a){console.error("Failed to fetch user profile:",a)}finally{s(!1)}},l=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=a=>{const c=new Date(a),f=new Date().getTime()-c.getTime(),d=Math.floor(f/864e5);return d<1?"Today":d===1?"Yesterday":`${d} days ago`};return r?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading profile..."})]}):e?h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"card p-6 mb-6",children:h.jsxs("div",{className:"flex items-start space-x-6",children:[h.jsx("div",{className:"w-24 h-24 bg-primary-600 rounded-full flex items-center justify-center",children:h.jsx(ta,{className:"h-12 w-12 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.username}),h.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(LD,{className:"h-4 w-4"}),h.jsxs("span",{children:["Member since ",l(e.created_at)]})]}),h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-xs rounded uppercase",children:e.role})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-primary-600",children:e.question_count}),h.jsx("div",{className:"text-sm text-gray-600",children:"Questions"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.answer_count}),h.jsx("div",{className:"text-sm text-gray-600",children:"Answers"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.total_votes}),h.jsx("div",{className:"text-sm text-gray-600",children:"Total Votes"})]})]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[h.jsx(KD,{className:"h-5 w-5 mr-2"}),"Recent Questions"]}),e.recentQuestions.length===0?h.jsx("p",{className:"text-gray-600",children:"No questions yet"}):h.jsx("div",{className:"space-y-4",children:e.recentQuestions.map(a=>h.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[h.jsx(Re,{to:`/questions/${a.id}`,className:"block hover:text-primary-600 transition-colors",children:h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:a.title})}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{children:[a.votes," votes"]}),h.jsxs("span",{children:[a.views," views"]})]}),h.jsx("span",{children:o(a.created_at)})]})]},a.id))})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[h.jsx(fi,{className:"h-5 w-5 mr-2"}),"Recent Answers"]}),e.recentAnswers.length===0?h.jsx("p",{className:"text-gray-600",children:"No answers yet"}):h.jsx("div",{className:"space-y-4",children:e.recentAnswers.map(a=>h.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[h.jsx(Re,{to:`/questions/${a.question_id}`,className:"block hover:text-primary-600 transition-colors",children:h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:a.question_title})}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{children:[a.votes," votes"]}),a.is_accepted&&h.jsx("span",{className:"text-green-600 font-medium",children:" Accepted"})]}),h.jsx("span",{children:o(a.created_at)})]})]},a.id))})]})]})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-gray-600",children:"User not found"}),h.jsx(Re,{to:"/",className:"text-primary-600 hover:text-primary-700 mt-2 inline-block",children:"Back to questions"})]})},j8=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!0);w.useEffect(()=>{s()},[]);const s=async()=>{try{const l=await $e.get("/api/admin/stats");e(l.data.data)}catch(l){pe.error("Failed to load dashboard stats"),console.error("Error fetching stats:",l)}finally{r(!1)}};if(n)return h.jsx("div",{className:"flex items-center justify-center min-h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const i=[{title:"Total Users",value:(t==null?void 0:t.totalUsers)||0,icon:Hp,color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Total Questions",value:(t==null?void 0:t.totalQuestions)||0,icon:Au,color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Total Answers",value:(t==null?void 0:t.totalAnswers)||0,icon:fi,color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"},{title:"Total Votes",value:(t==null?void 0:t.totalVotes)||0,icon:Sj,color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"}];return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Monitor your platform's key metrics and activity"})]}),h.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:i.map(l=>h.jsx("div",{className:`${l.bgColor} overflow-hidden rounded-lg`,children:h.jsx("div",{className:"p-5",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:`${l.color} p-3 rounded-md`,children:h.jsx(l.icon,{className:"h-6 w-6 text-white"})})}),h.jsx("div",{className:"ml-5 w-0 flex-1",children:h.jsxs("dl",{children:[h.jsx("dt",{className:`text-sm font-medium ${l.textColor} truncate`,children:l.title}),h.jsx("dd",{children:h.jsx("div",{className:`text-lg font-medium ${l.textColor}`,children:l.value.toLocaleString()})})]})})]})})},l.title))}),h.jsxs("div",{className:"mt-8",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[h.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:h.jsxs("div",{className:"p-5",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Hp,{className:"h-6 w-6 text-gray-400"})}),h.jsxs("div",{className:"ml-5 w-0 flex-1",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"User Management"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage user accounts, roles, and permissions"})]})]}),h.jsx("div",{className:"mt-3",children:h.jsx("a",{href:"/admin/users",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 transition-colors",children:"Manage Users"})})]})}),h.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:h.jsxs("div",{className:"p-5",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Au,{className:"h-6 w-6 text-gray-400"})}),h.jsxs("div",{className:"ml-5 w-0 flex-1",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Content Moderation"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Review and moderate questions and answers"})]})]}),h.jsx("div",{className:"mt-3",children:h.jsx("a",{href:"/admin/questions",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 transition-colors",children:"Moderate Content"})})]})}),h.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:h.jsxs("div",{className:"p-5",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(fi,{className:"h-6 w-6 text-gray-400"})}),h.jsxs("div",{className:"ml-5 w-0 flex-1",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Answer Management"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage and moderate user answers"})]})]}),h.jsx("div",{className:"mt-3",children:h.jsx("a",{href:"/admin/answers",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 transition-colors",children:"Manage Answers"})})]})})]})]})]})},_8=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState({page:1,limit:20,total:0,totalPages:0}),[l,o]=w.useState(""),[a,c]=w.useState(""),[u,f]=w.useState(!1),[d,p]=w.useState(!1),[m,g]=w.useState(null),[b,y]=w.useState(null);w.useEffect(()=>{x()},[s.page,l,a]);const x=async()=>{try{r(!0);const N=new URLSearchParams({page:s.page.toString(),limit:s.limit.toString()});l&&N.append("search",l),a&&N.append("role",a);const A=await $e.get(`/api/admin/users?${N}`);e(A.data.data.users),i(A.data.data.pagination)}catch(N){pe.error("Failed to load users"),console.error("Error fetching users:",N)}finally{r(!1)}},v=async N=>{var A,O,_;if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await $e.delete(`/api/admin/users/${N}`),pe.success("User deleted successfully"),x()}catch($){const ie=((_=(O=(A=$.response)==null?void 0:A.data)==null?void 0:O.error)==null?void 0:_.message)||"Failed to delete user";pe.error(ie)}},S=N=>{switch(N){case"admin":return"bg-red-100 text-red-800";case"user":return"bg-green-100 text-green-800";case"guest":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return h.jsxs("div",{children:[h.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage user accounts, roles, and permissions"})]}),h.jsx("div",{className:"mt-4 sm:mt-0",children:h.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[h.jsx(Nj,{className:"h-4 w-4 mr-2"}),"Add User"]})})]}),h.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Kf,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:l,onChange:N=>o(N.target.value),placeholder:"Search users...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsx("div",{children:h.jsxs("select",{value:a,onChange:N=>c(N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"",children:"All Roles"}),h.jsx("option",{value:"admin",children:"Admin"}),h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"guest",children:"Guest"})]})}),h.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:["Showing ",t.length," of ",s.total," users"]})]})}),h.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?h.jsx("tr",{children:h.jsx("td",{colSpan:4,className:"px-6 py-4 text-center",children:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):t.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No users found"})}):t.map(N=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:h.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm font-medium",children:N.username[0].toUpperCase()})})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.username}),h.jsx("div",{className:"text-sm text-gray-500",children:N.email})]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(N.role)}`,children:N.role})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k(N.created_at)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>y(b===N.id?null:N.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(_g,{className:"h-5 w-5"})}),b===N.id&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:h.jsxs("div",{className:"py-1",children:[h.jsxs("button",{onClick:()=>{g(N),p(!0),y(null)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(yj,{className:"h-4 w-4 mr-2"}),"Edit User"]}),h.jsxs("button",{onClick:()=>{v(N.id),y(null)},className:"flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50 w-full text-left",children:[h.jsx(zg,{className:"h-4 w-4 mr-2"}),"Delete User"]})]})})]})})]},N.id))})]})}),s.totalPages>1&&h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[h.jsx("button",{onClick:()=>i(N=>({...N,page:Math.max(1,N.page-1)})),disabled:s.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),h.jsx("button",{onClick:()=>i(N=>({...N,page:Math.min(N.totalPages,N.page+1)})),disabled:s.page===s.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing page ",h.jsx("span",{className:"font-medium",children:s.page})," of"," ",h.jsx("span",{className:"font-medium",children:s.totalPages})]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[h.jsx("button",{onClick:()=>i(N=>({...N,page:Math.max(1,N.page-1)})),disabled:s.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(Dg,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>i(N=>({...N,page:Math.min(N.totalPages,N.page+1)})),disabled:s.page===s.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(jg,{className:"h-5 w-5"})})]})})]})]})})]}),u&&h.jsx(U1,{isOpen:u,onClose:()=>f(!1),onSuccess:()=>{f(!1),x()}}),d&&m&&h.jsx(U1,{isOpen:d,onClose:()=>{p(!1),g(null)},onSuccess:()=>{p(!1),g(null),x()},user:m})]})},U1=({isOpen:t,onClose:e,onSuccess:n,user:r})=>{const[s,i]=w.useState({username:(r==null?void 0:r.username)||"",email:(r==null?void 0:r.email)||"",password:"",role:(r==null?void 0:r.role)||"user"}),[l,o]=w.useState(!1),a=async c=>{var u,f,d;c.preventDefault(),o(!0);try{if(r){const p={username:s.username,email:s.email,role:s.role};s.password&&(p.password=s.password),await $e.put(`/api/admin/users/${r.id}`,p),pe.success("User updated successfully")}else await $e.post("/api/admin/users",s),pe.success("User created successfully");n()}catch(p){const m=((d=(f=(u=p.response)==null?void 0:u.data)==null?void 0:f.error)==null?void 0:d.message)||`Failed to ${r?"update":"create"} user`;pe.error(m)}finally{o(!1)}};return t?h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[h.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e}),h.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:h.jsxs("form",{onSubmit:a,children:[h.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[h.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:r?"Edit User":"Create New User"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),h.jsx("input",{type:"text",value:s.username,onChange:c=>i({...s,username:c.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:s.email,onChange:c=>i({...s,email:c.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",r&&"(leave blank to keep current)"]}),h.jsx("input",{type:"password",value:s.password,onChange:c=>i({...s,password:c.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!r})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),h.jsxs("select",{value:s.role,onChange:c=>i({...s,role:c.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"guest",children:"Guest"}),h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"admin",children:"Admin"})]})]})]})]}),h.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[h.jsx("button",{type:"submit",disabled:l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:l?"Saving...":r?"Update User":"Create User"}),h.jsx("button",{type:"button",onClick:e,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}):null},z8=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState({page:1,limit:20,total:0,totalPages:0}),[l,o]=w.useState(""),[a,c]=w.useState(null);w.useEffect(()=>{u()},[s.page,l]);const u=async()=>{try{r(!0);const m=new URLSearchParams({page:s.page.toString(),limit:s.limit.toString()});l&&m.append("search",l);const g=await $e.get(`/api/admin/questions?${m}`);e(g.data.data.questions),i(g.data.data.pagination)}catch(m){pe.error("Failed to load questions"),console.error("Error fetching questions:",m)}finally{r(!1)}},f=async m=>{var g,b,y;if(window.confirm("Are you sure you want to delete this question? This will also delete all associated answers and cannot be undone."))try{await $e.delete(`/api/admin/questions/${m}`),pe.success("Question deleted successfully"),u()}catch(x){const v=((y=(b=(g=x.response)==null?void 0:g.data)==null?void 0:b.error)==null?void 0:y.message)||"Failed to delete question";pe.error(v)}},d=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=(m,g)=>{const b=m.replace(/<[^>]*>/g,"");return b.length>g?b.substring(0,g)+"...":b};return h.jsxs("div",{children:[h.jsx("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Question Management"}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Moderate and manage user questions"})]})}),h.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Kf,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"Search questions...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:["Showing ",t.length," of ",s.total," questions"]})]})}),h.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Question"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-4 text-center",children:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):t.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No questions found"})}):t.map(m=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"max-w-xs",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:p(m.title,60)}),h.jsx("div",{className:"text-sm text-gray-500",children:p(m.description,100)})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:m.author_name})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(Au,{className:"h-4 w-4 mr-1 text-gray-400"}),m.answer_count]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(Mr,{className:"h-4 w-4 mr-1 text-gray-400"}),m.views]}),h.jsxs("span",{className:"text-gray-600",children:[" ",m.votes]})]})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(m.created_at)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>c(a===m.id?null:m.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(_g,{className:"h-5 w-5"})}),a===m.id&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:h.jsxs("div",{className:"py-1",children:[h.jsxs("a",{href:`/questions/${m.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(null),children:[h.jsx(Mr,{className:"h-4 w-4 mr-2"}),"View Question"]}),h.jsxs("button",{onClick:()=>{f(m.id),c(null)},className:"flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50 w-full text-left",children:[h.jsx(zg,{className:"h-4 w-4 mr-2"}),"Delete Question"]})]})})]})})]},m.id))})]})}),s.totalPages>1&&h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.max(1,m.page-1)})),disabled:s.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.min(m.totalPages,m.page+1)})),disabled:s.page===s.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing page ",h.jsx("span",{className:"font-medium",children:s.page})," of"," ",h.jsx("span",{className:"font-medium",children:s.totalPages})]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.max(1,m.page-1)})),disabled:s.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(Dg,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.min(m.totalPages,m.page+1)})),disabled:s.page===s.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(jg,{className:"h-5 w-5"})})]})})]})]})})]})]})},L8=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState({page:1,limit:20,total:0,totalPages:0}),[l,o]=w.useState(""),[a,c]=w.useState(null);w.useEffect(()=>{u()},[s.page,l]);const u=async()=>{try{r(!0);const m=new URLSearchParams({page:s.page.toString(),limit:s.limit.toString()});l&&m.append("questionId",l);const g=await $e.get(`/api/admin/answers?${m}`);e(g.data.data.answers),i(g.data.data.pagination)}catch(m){pe.error("Failed to load answers"),console.error("Error fetching answers:",m)}finally{r(!1)}},f=async m=>{var g,b,y;if(window.confirm("Are you sure you want to delete this answer? This action cannot be undone."))try{await $e.delete(`/api/admin/answers/${m}`),pe.success("Answer deleted successfully"),u()}catch(x){const v=((y=(b=(g=x.response)==null?void 0:g.data)==null?void 0:b.error)==null?void 0:y.message)||"Failed to delete answer";pe.error(v)}},d=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=(m,g)=>{const b=m.replace(/<[^>]*>/g,"");return b.length>g?b.substring(0,g)+"...":b};return h.jsxs("div",{children:[h.jsx("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Answer Management"}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Moderate and manage user answers"})]})}),h.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Kf,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"Filter by question ID...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:["Showing ",t.length," of ",s.total," answers"]})]})}),h.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Answer Content"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Question"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):t.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No answers found"})}):t.map(m=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsx("div",{className:"max-w-xs",children:h.jsx("div",{className:"text-sm text-gray-900",children:p(m.content,120)})})}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"max-w-xs",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:p(m.question_title,50)}),h.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",m.question_id]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:m.author_name})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:[" ",m.votes]}),m.is_accepted&&h.jsx("span",{className:"inline-flex items-center",children:h.jsx(FD,{className:"h-4 w-4 text-green-500"})})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(m.created_at)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>c(a===m.id?null:m.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(_g,{className:"h-5 w-5"})}),a===m.id&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:h.jsxs("div",{className:"py-1",children:[h.jsxs("a",{href:`/questions/${m.question_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(null),children:[h.jsx(Mr,{className:"h-4 w-4 mr-2"}),"View in Question"]}),h.jsxs("button",{onClick:()=>{f(m.id),c(null)},className:"flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50 w-full text-left",children:[h.jsx(zg,{className:"h-4 w-4 mr-2"}),"Delete Answer"]})]})})]})})]},m.id))})]})}),s.totalPages>1&&h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.max(1,m.page-1)})),disabled:s.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.min(m.totalPages,m.page+1)})),disabled:s.page===s.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing page ",h.jsx("span",{className:"font-medium",children:s.page})," of"," ",h.jsx("span",{className:"font-medium",children:s.totalPages})]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.max(1,m.page-1)})),disabled:s.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(Dg,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>i(m=>({...m,page:Math.min(m.totalPages,m.page+1)})),disabled:s.page===s.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(jg,{className:"h-5 w-5"})})]})})]})]})})]})]})},B8=({children:t})=>{const{user:e,loading:n}=As(),r=_n();return n?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?h.jsx(h.Fragment,{children:t}):h.jsx(dO,{to:"/login",state:{from:r},replace:!0})};function U8(){return h.jsx(xD,{children:h.jsx($O,{children:h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsxs(bx,{children:[h.jsxs(Qt,{path:"/admin",element:h.jsx(Mj,{}),children:[h.jsx(Qt,{index:!0,element:h.jsx(j8,{})}),h.jsx(Qt,{path:"users",element:h.jsx(_8,{})}),h.jsx(Qt,{path:"questions",element:h.jsx(z8,{})}),h.jsx(Qt,{path:"answers",element:h.jsx(L8,{})})]}),h.jsx(Qt,{path:"/*",element:h.jsxs(h.Fragment,{children:[h.jsx(Oj,{}),h.jsx("main",{className:"container mx-auto px-4 py-6",children:h.jsxs(bx,{children:[h.jsx(Qt,{path:"/",element:h.jsx(Rj,{})}),h.jsx(Qt,{path:"/questions/:id",element:h.jsx(wL,{})}),h.jsx(Qt,{path:"/ask",element:h.jsx(B8,{children:h.jsx(A8,{})})}),h.jsx(Qt,{path:"/login",element:h.jsx(O8,{})}),h.jsx(Qt,{path:"/register",element:h.jsx(R8,{})}),h.jsx(Qt,{path:"/users/:username",element:h.jsx(D8,{})})]})})]})})]}),h.jsx(UM,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}fC.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(U8,{})}));
